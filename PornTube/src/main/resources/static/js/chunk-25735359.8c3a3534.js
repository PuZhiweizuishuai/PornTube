(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25735359"],{1681:function(t,e,a){},"4c15":function(t,e,a){},5311:function(t,e,a){"use strict";var s=a("5607"),i=a("2b0e");e["a"]=i["default"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},"696f":function(t,e,a){},"6b5d":function(t,e,a){"use strict";a("4c15")},"85bc":function(t,e,a){"use strict";a.r(e);var s=a("8212"),i=a("8336"),n=a("62ad"),o=a("a523"),r=a("ce7e"),l=a("132d"),d=a("adda"),c=(a("696f"),a("9d26")),p=a("a9ad"),u=a("16b7"),h=a("af2b"),v=a("5311"),m=a("7560"),g=a("80d2"),f=a("58df"),b=Object(f["a"])(p["a"],u["a"],v["a"],h["a"],m["a"]).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0},iconLabel:{type:String,default:"$vuetify.rating.ariaLabel.icon"}},data(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps(){const{dark:t,large:e,light:a,medium:s,small:i,size:n,xLarge:o,xSmall:r}=this.$props;return{dark:t,large:e,light:a,medium:s,size:n,small:i,xLarge:o,xSmall:r}},isHovering(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue(t){t!==this.value&&this.$emit("input",t)},value(t){this.internalValue=t}},methods:{createClickFn(t){return e=>{if(this.readonly)return;const a=this.genHoverIndex(e,t);this.clearable&&this.internalValue===a?this.internalValue=0:this.internalValue=a}},createProps(t){const e={index:t,value:this.internalValue,click:this.createClickFn(t),isFilled:Math.floor(this.internalValue)>t,isHovered:Math.floor(this.hoverIndex)>t};return this.halfIncrements&&(e.isHalfHovered=!e.isHovered&&(this.hoverIndex-t)%1>0,e.isHalfFilled=!e.isFilled&&(this.internalValue-t)%1>0),e},genHoverIndex(t,e){let a=this.isHalfEvent(t);return this.halfIncrements&&this.$vuetify.rtl&&(a=!a),e+(a?.5:1)},getIconName(t){const e=this.isHovering?t.isHovered:t.isFilled,a=this.isHovering?t.isHalfHovered:t.isHalfFilled;return e?this.fullIcon:a?this.halfIcon:this.emptyIcon},getColor(t){if(this.isHovering){if(t.isHovered||t.isHalfHovered)return this.color}else if(t.isFilled||t.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent(t){if(this.halfIncrements){const e=t.target&&t.target.getBoundingClientRect();if(e&&t.pageX-e.left<e.width/2)return!0}return!1},onMouseEnter(t,e){this.runDelay("open",()=>{this.hoverIndex=this.genHoverIndex(t,e)})},onMouseLeave(){this.runDelay("close",()=>this.hoverIndex=-1)},genItem(t){const e=this.createProps(t);if(this.$scopedSlots.item)return this.$scopedSlots.item(e);const a={click:e.click};return this.hover&&(a.mouseenter=e=>this.onMouseEnter(e,t),a.mouseleave=this.onMouseLeave,this.halfIncrements&&(a.mousemove=e=>this.onMouseEnter(e,t))),this.$createElement(c["a"],this.setTextColor(this.getColor(e),{attrs:{"aria-label":this.$vuetify.lang.t(this.iconLabel,t+1,Number(this.length))},directives:this.directives,props:this.iconProps,on:a}),[this.getIconName(e)])}},render(t){const e=Object(g["i"])(Number(this.length)).map(t=>this.genItem(t));return t("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},e)}}),x=a("0fd9"),y=a("3a2f"),_=a("dc22"),I=function(){var t=this,e=t._self._c;return e("div",[e(o["a"],{staticStyle:{"padding-bottom":"0px"},attrs:{"fill-height":"",fluid:""}},[e(x["a"],{staticStyle:{"padding-top":"12px","padding-bottom":"12px"}},[e(n["a"],{staticStyle:{"padding-bottom":"0px"}},[e("DPlayer",{attrs:{article:parseInt(t.id),video:t.videoData.video[0],picurl:t.videoData.imgUrl}})],1)],1)],1),e(o["a"],{staticStyle:{"padding-top":"0px"},attrs:{"fill-height":""}},[e(x["a"],{directives:[{def:_["a"],name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticStyle:{"padding-top":"12px","padding-bottom":"12px"},attrs:{"no-gutters":""}},[e(n["a"],{attrs:{cols:t.colsWidth}},[e(x["a"],[e(n["a"],[e("h3",{domProps:{textContent:t._s(t.videoData.title)}})])],1),e(x["a"],[e(n["a"],{staticStyle:{color:"#999","font-size":"12px","padding-top":"0px"}},[0!==t.videoData.childrenCategory.fatherId?e("router-link",{staticClass:"category-link",attrs:{to:"/v/"+t.videoData.fatherCategory.id}},[e("span",{domProps:{textContent:t._s(t.videoData.fatherCategory.name)}})]):t._e(),t._v(" / "),e("router-link",{staticClass:"category-link",attrs:{to:"/v/"+t.videoData.childrenCategory.id}},[e("span",{domProps:{textContent:t._s(t.videoData.childrenCategory.name)}})]),e("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),t._v(" 发布于： "),e("span",{domProps:{textContent:t._s(t.TimeUtil.renderTime(t.videoData.createTime))}}),e("br"),e("span",{domProps:{textContent:t._s(t.videoData.viewCount)}}),t._v(" 次观看 "),e("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),t._v(" "),e("span",{domProps:{textContent:t._s(t.videoData.danmakuCount)}}),t._v(" 弹幕 ")],1)],1),e(r["a"]),e(x["a"],{staticStyle:{"padding-top":"5px","padding-bottom":"5px"}},[e(n["a"],{attrs:{cols:"2","align-self":"end"}},[e("router-link",{attrs:{to:"/user/"+t.videoData.userId}},[e(s["a"],{attrs:{size:"62"}},[e(d["a"],{attrs:{src:t.videoData.avatarUrl}})],1)],1)],1),e(n["a"],[e("router-link",{attrs:{to:"/user/"+t.videoData.userId}},[e("span",{domProps:{textContent:t._s(t.videoData.username)}})]),e("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),e("span",{staticStyle:{color:"#999","font-size":"12px"},domProps:{textContent:t._s(t.videoData.introduction)}}),e("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),e(i["a"],{attrs:{small:"",outlined:"",color:"primary"}},[e("span",[t._v("关注")]),e("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;")}}),e("span",{domProps:{textContent:t._s(t.videoData.followCount)}})]),e("br"),e("br"),e("span",{domProps:{textContent:t._s(t.videoData.describes)}})],1)],1),e(n["a"]),e(r["a"]),e(x["a"],[e(n["a"],[t._v(" 标签： "),t._l(t.videoData.tag,(function(a){return e("span",{key:a},[e(i["a"],{attrs:{rounded:"",small:"",text:"",color:"primary",dark:""}},[t._v(t._s(a))])],1)}))],2)],1)],1),e(n["a"],{attrs:{cols:"1"}}),e(n["a"],{attrs:{cols:"3"}},[e(b,{attrs:{color:"orange","background-color":"orange lighten-3"},model:{value:t.score,callback:function(e){t.score=e},expression:"score"}}),e(y["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(i["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(l["a"],[t._v("mdi-thumb-up")]),e("span",{domProps:{textContent:t._s(t.videoData.likeCount)}})],1)]}}])},[e("span",[t._v("顶一下")])]),e("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),e(y["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(i["a"],t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e(l["a"],[t._v("mdi-thumb-down")]),e("span",{domProps:{textContent:t._s(t.videoData.dislikeCount)}})],1)]}}])},[e("span",[t._v("踩一下")])])],1)],1),e(n["a"]),e(x["a"],{staticStyle:{"padding-top":"12px","padding-bottom":"12px"}},[e(n["a"],{attrs:{cols:t.colsWidth}},[e("Comment",{attrs:{count:t.videoData.commentCount}})],1),e(n["a"],[t._v(" 相关视频： ")])],1)],1)],1)},w=[],C=a("7693"),H=a("9878"),k=a("a844"),S=function(){var t=this,e=t._self._c;return e("div",[e(x["a"],[e(n["a"],[t._v(" "+t._s(t.commentCount)+" 条评论 ")])],1),e(x["a"],[e(n["a"],{staticStyle:{"padding-top":"0px"},attrs:{cols:"2"}},[this.$store.state.userInfo?e("router-link",{attrs:{to:"/user/"+this.$store.state.userInfo.id}},[e(s["a"],{attrs:{size:"62"}},[e(d["a"],{attrs:{src:this.$store.state.userInfo.avatarUrl,alt:this.$store.state.userInfo.username,title:this.$store.state.userInfo.username}})],1)],1):t._e(),null==this.$store.state.userInfo?e(s["a"],{attrs:{size:"62"}},[e(d["a"],{attrs:{src:"/images/head.png",alt:"头像",title:"请登录后评论"}})],1):t._e()],1),e(n["a"],{staticStyle:{"padding-top":"0px"}},[e(k["a"],{attrs:{placeholder:"发表公开评论",label:"评论",rows:"2","no-resize":!0}})],1)],1),e(x["a"],[e(n["a"],[e(i["a"],{staticStyle:{float:"right"},attrs:{color:"primary"}},[t._v("评论")])],1)],1),e(r["a"]),e(x["a"],[e(n["a"],[t._v(" 评论列表，待完成 ")])],1)],1)},$=[],D={name:"VideoComment",props:{count:{type:Number,default:0}},data(){return{commentCount:this.count}}},P=D,z=a("2877"),T=Object(z["a"])(P,S,$,!1,null,null,null),N=T.exports,F={name:"Video",components:{DPlayer:C["a"],Comment:N},data(){return{score:0,TimeUtil:H["a"],id:0,videoData:{},windowSize:{},colsWidth:8}},created(){this.id=this.$route.params.id,this.videoInfo(),this.onResize()},methods:{onResize(){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.windowSize.x<900?this.colsWidth=12:this.colsWidth=8},videoInfo(){fetch("/api/article/video/"+this.id,{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then(t=>t.json()).then(t=>{200===t.status&&t.data.isShow?(this.videoData=t.data,document.title=t.data.title):this.$router.push("/")}).catch(t=>null)}}},M=F,L=(a("6b5d"),Object(z["a"])(M,I,w,!1,null,null,null));e["default"]=L.exports},"8ce9":function(t,e,a){},a844:function(t,e,a){"use strict";a("1681");var s=a("8654"),i=a("58df");const n=Object(i["a"])(s["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"},genInput(){const t=s["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){s["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},ce7e:function(t,e,a){"use strict";a("8ce9");var s=a("7560");e["a"]=s["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})}}]);