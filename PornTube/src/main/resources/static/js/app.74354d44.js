(function(e){function t(t){for(var a,o,u=t[0],c=t[1],s=t[2],l=0,d=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r={app:0},i=[];function u(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-064dbec6":"e722662d","chunk-0bda2a62":"a5307ad9","chunk-2d0b723a":"55fd0fd9","chunk-2d0cb6f3":"ba0ec5f3","chunk-2d210469":"78c89147","chunk-2d21f0c8":"54af3225","chunk-2d22b903":"00a209cf","chunk-309ae0a9":"2f29f1fd","chunk-38ddd0e8":"139f7613","chunk-635a326e":"227526b7","chunk-5382c12b":"80f8a542","chunk-75be1a6e":"e859334a","chunk-3faa419a":"77f79c7a","chunk-2d224cf0":"103c8f6b","chunk-2c871d0a":"40418e34","chunk-ac629920":"edebcc86","chunk-64ab89fc":"4dae51cd","chunk-792ac7da":"2610502f","chunk-d689a284":"c1ab13e9","chunk-f5dab544":"84a03168"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-064dbec6":1,"chunk-0bda2a62":1,"chunk-309ae0a9":1,"chunk-38ddd0e8":1,"chunk-635a326e":1,"chunk-5382c12b":1,"chunk-75be1a6e":1,"chunk-3faa419a":1,"chunk-2c871d0a":1,"chunk-ac629920":1,"chunk-64ab89fc":1,"chunk-792ac7da":1,"chunk-d689a284":1,"chunk-f5dab544":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-064dbec6":"0a99b966","chunk-0bda2a62":"0a99b966","chunk-2d0b723a":"31d6cfe0","chunk-2d0cb6f3":"31d6cfe0","chunk-2d210469":"31d6cfe0","chunk-2d21f0c8":"31d6cfe0","chunk-2d22b903":"31d6cfe0","chunk-309ae0a9":"3b871ac8","chunk-38ddd0e8":"e4725c30","chunk-635a326e":"cbfe0a98","chunk-5382c12b":"4eac7897","chunk-75be1a6e":"3b72f6a7","chunk-3faa419a":"3fc27d66","chunk-2d224cf0":"31d6cfe0","chunk-2c871d0a":"cd3e2d88","chunk-ac629920":"601d8c98","chunk-64ab89fc":"c7f430cd","chunk-792ac7da":"f227590e","chunk-d689a284":"3442ab86","chunk-f5dab544":"0a99b966"}[e]+".css",r=c.p+a,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===a||l===r))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===a||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[e],f.parentNode.removeChild(f),n(i)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("router-view")],1)},r=[],i={name:"App",data:function(){return{}}},u=i,c=n("2877"),s=n("6544"),l=n.n(s),d=n("7496"),f=Object(c["a"])(u,o,r,!1,null,null,null),h=f.exports;l()(f,{VApp:d["a"]});n("b0c0"),n("d3b7");var p=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},e._l(e.items,(function(t){return n("router-link",{key:t.text,attrs:{to:t.link}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)],1)})),1),n("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"red",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{staticClass:"hidden-sm-and-down ml-0 pl-4",staticStyle:{width:"300px"}},[n("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.goToHome()}}},[e._v(e._s(this.$store.state.webInfo.name))])]),n("v-text-field",{attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"搜索"}}),n("v-spacer"),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.goToPublish}},"v-btn",o,!1),a),[n("v-icon",[e._v("mdi-video")])],1)]}}])},[n("span",[e._v("发布")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",o,!1),a),[n("v-icon",[e._v("mdi-bell")])],1)]}}])},[n("span",[e._v("通知")])]),this.$store.state.userInfo?n("v-btn",{attrs:{icon:"",large:""},on:{click:e.goToUserHome}},[n("v-avatar",{attrs:{size:"32px",item:""}},[n("v-img",{attrs:{src:this.$store.state.userInfo.avatarUrl,alt:this.$store.state.userInfo.username,title:this.$store.state.userInfo.username}})],1)],1):e._e(),null==this.$store.state.userInfo?n("v-btn",{attrs:{outlined:""},on:{click:e.goToLoginPage}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-head")]),e._v(" 登录 ")],1):e._e()],1),n("v-main",[n("router-view")],1)],1)},b=[],v={data:function(){return{drawer:!0,items:[{icon:"mdi-home",text:"首页",link:"/"},{icon:"mdi-trending-up",text:"时下流行",link:"/hot"},{icon:"mdi-youtube-subscription",text:"订阅",link:"/subscribe"},{icon:"mdi-history",text:"历史记录",link:"/history"},{icon:"mdi-playlist-play",text:"稍后再看",link:"/playlist"}]}},mounted:function(){},created:function(){this.$vuetify.theme.dark=this.$store.state.darkThemOpen},methods:{goToLoginPage:function(){this.$router.push("/login")},goToPublish:function(){this.$router.push("/studio/upload")},goToHome:function(){"/"!==this.$route.path&&this.$router.push("/")},goToUserHome:function(){this.$route.path!=="/user/"+this.$store.state.userInfo.id&&this.$router.push("/user/"+this.$store.state.userInfo.id)}}},g=v,k=(n("79b8"),n("40dc")),y=n("5bc1"),I=n("8212"),T=n("8336"),w=n("132d"),_=n("adda"),x=n("da13"),S=n("1800"),P=n("5d23"),V=n("f6c4"),$=n("f774"),C=n("2fa4"),O=n("8654"),A=n("2a7f"),E=n("3a2f"),j=Object(c["a"])(g,m,b,!1,null,"6ce1dbcb",null),L=j.exports;l()(j,{VAppBar:k["a"],VAppBarNavIcon:y["a"],VAvatar:I["a"],VBtn:T["a"],VIcon:w["a"],VImg:_["a"],VListItem:x["a"],VListItemAction:S["a"],VListItemContent:P["a"],VListItemTitle:P["b"],VMain:V["a"],VNavigationDrawer:$["a"],VSpacer:C["a"],VTextField:O["a"],VToolbarTitle:A["a"],VTooltip:E["a"]});var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticStyle:{"padding-left":"24px","padding-right":"24px"},attrs:{"fill-height":"",fluid:""}},[n("v-row",[n("div",{staticClass:"d-flex flex-wrap",attrs:{color:"grey lighten-2",flat:"",tile:""}},e._l(e.videoList,(function(e){return n("div",{key:e.id,staticClass:"pa-2",attrs:{outlined:"",tile:""}},[n("VideoCared",{attrs:{video:e}})],1)})),0)]),n("v-pagination",{attrs:{length:e.length},on:{input:e.pageChange},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},M=[],N=(n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"350px"}},[n("router-link",{attrs:{to:"/video/"+e.videoInfo.id}},[n("v-img",{attrs:{src:e.videoInfo.imgUrl,outlined:"","aspect-ratio":"1.77","max-height":"400"}})],1),n("v-row",[n("v-col",{attrs:{cols:"2"}},[n("router-link",{attrs:{to:"/user/"+e.videoInfo.userId}},[n("v-avatar",{attrs:{size:"48"}},[n("v-img",{attrs:{src:e.videoInfo.avatarUrl}})],1)],1)],1),n("v-col",{attrs:{cols:"10"}},[n("p",{staticStyle:{"font-size":"20px","margin-bottom":"0px",color:"black"}},[n("router-link",{staticStyle:{color:"black"},attrs:{to:"/video/"+e.videoInfo.id}},[e._v(" "+e._s(e.videoInfo.title)+" ")])],1),n("p",{staticStyle:{"font-size":"10px",color:"#606060"}},[e._v(" "+e._s(e.videoInfo.viewCount)+" 观看 "),n("span",{domProps:{innerHTML:e._s("&nbsp;&nbsp;")}}),e._v(" "+e._s(e.videoInfo.danmakuCount)+" 条弹幕 "),n("br"),n("router-link",{attrs:{to:"/user/"+e.videoInfo.userId}},[e._v(" "+e._s(e.videoInfo.username))]),n("br"),n("span",{domProps:{textContent:e._s(e.TimeUtil.timeToNowStrning(e.videoInfo.createTime))}})],1)])],1)],1)}),q=[],D=n("9878"),H={name:"VideoCard",props:{video:{type:Object,default:function(){}}},data:function(){return{TimeUtil:D["a"],videoInfo:this.video}},created:function(){}},F=H,z=n("62ad"),B=n("0fd9"),J=Object(c["a"])(F,N,q,!1,null,null,null),R=J.exports;l()(J,{VAvatar:I["a"],VCol:z["a"],VImg:_["a"],VRow:B["a"]});var K={name:"Index",components:{VideoCared:R},data:function(){return{videoList:[],page:1,size:20,length:0}},created:function(){this.getVideoList()},methods:{getVideoList:function(){var e=this;fetch("/api/article/home/list?page=".concat(this.page,"&limit=").concat(this.size),{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.videoList=t.data.list,e.page=t.data.currPage,e.length=t.data.totalPage})).catch((function(e){return null}))},pageChange:function(e){this.page=e,this.getVideoList(),this.$vuetify.goTo(0)}}},X=K,G=(n("a4f2"),n("a523")),Y=n("891e"),W=Object(c["a"])(X,U,M,!1,null,null,null),Q=W.exports;l()(W,{VContainer:G["a"],VPagination:Y["a"],VRow:B["a"]}),a["default"].use(p["a"]);var Z=[{path:"/",name:"Index",component:L,meta:{title:"PornTube"},children:[{path:"/",name:"Index",component:Q,meta:{title:"PornTube"}},{path:"/hot",name:"Hot",component:function(){return n.e("chunk-2d0cb6f3").then(n.bind(null,"4a3c"))},meta:{title:"PornTube 时下流行"}},{path:"/subscribe",name:"Subscribe",component:function(){return n.e("chunk-f5dab544").then(n.bind(null,"1fae"))},meta:{title:"PornTube 订阅"}},{path:"/history",name:"History",component:function(){return n.e("chunk-0bda2a62").then(n.bind(null,"4342"))},meta:{title:"PornTube 播放历史"}},{path:"/playlist",name:"Playlist",component:function(){return n.e("chunk-064dbec6").then(n.bind(null,"ed70"))},meta:{title:"PornTube 稍后再看"}},{path:"/video/:id",name:"Vide",component:function(){return n.e("chunk-38ddd0e8").then(n.bind(null,"85bc"))},meta:{title:"播放"}},{path:"/user/setting",name:"UserSetting",component:function(){return Promise.all([n.e("chunk-75be1a6e"),n.e("chunk-3faa419a"),n.e("chunk-635a326e"),n.e("chunk-2c871d0a")]).then(n.bind(null,"4852"))},meta:{title:"个人设置",requireAuth:!0}},{path:"/user/:id",name:"User",component:function(){return Promise.all([n.e("chunk-635a326e"),n.e("chunk-5382c12b")]).then(n.bind(null,"e382"))},meta:{title:"个人主页"}}]},{path:"/studio",name:"Studio",component:function(){return n.e("chunk-d689a284").then(n.bind(null,"d1b8"))},meta:{title:"创作中心"},children:[{path:"/studio",name:"StudioIndex",component:function(){return n.e("chunk-2d22b903").then(n.bind(null,"f003"))},meta:{title:"创作中心",requireAuth:!0}},{path:"/studio/upload",name:"Upload",component:function(){return Promise.all([n.e("chunk-75be1a6e"),n.e("chunk-635a326e"),n.e("chunk-64ab89fc")]).then(n.bind(null,"e23f"))},meta:{title:"投稿",requireAuth:!0}},{path:"/studio/comment",name:"Comment",component:function(){return n.e("chunk-2d210469").then(n.bind(null,"b6cb"))},meta:{title:"评论",requireAuth:!0}},{path:"/studio/admin/invitation",name:"invitation",component:function(){return Promise.all([n.e("chunk-75be1a6e"),n.e("chunk-3faa419a"),n.e("chunk-2d224cf0")]).then(n.bind(null,"e25b"))},meta:{title:"邀请码",requireAuth:!0}},{path:"/studio/admin/examine",name:"Examine",component:function(){return Promise.all([n.e("chunk-75be1a6e"),n.e("chunk-3faa419a"),n.e("chunk-ac629920")]).then(n.bind(null,"a8a6"))},meta:{title:"审核视频",requireAuth:!0}},{path:"/studio/admin/userlist",name:"Examine",component:function(){return n.e("chunk-2d0b723a").then(n.bind(null,"1fc2"))},meta:{title:"用户列表",requireAuth:!0}},{path:"/studio/admin/websetting",name:"Examine",component:function(){return n.e("chunk-309ae0a9").then(n.bind(null,"1f91"))},meta:{title:"网页设置",requireAuth:!0}},{path:"/studio/admin/category",name:"Examine",component:function(){return n.e("chunk-2d21f0c8").then(n.bind(null,"d7ba"))},meta:{title:"分区设置",requireAuth:!0}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-792ac7da").then(n.bind(null,"dd7b"))},meta:{title:"登录"}}],ee=new p["a"]({mode:"history",routes:Z});ee.beforeEach((function(e,t,n){if(null==ee.app.$options.store.state.webInfo.name&&fetch("/api/web/info",{headers:{"Content-Type":"application/json; charset=UTF-8"},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){ee.app.$options.store.state.webInfo=e.data})).catch((function(e){return null})),e.meta.title&&(document.title=e.meta.title),e.meta.requireAuth){var a=(new Date).getTime();return null!=ee.app.$options.store.state.userInfo&&ee.app.$options.store.state.userInfo.expireTime>a?"/login"===e.path?n({path:"/"}):n():n({path:"/login",query:{redirect:e.fullPath}})}return n()}));var te=ee,ne=n("2f62");a["default"].use(ne["a"]);var ae=new ne["a"].Store({state:{webInfo:{},darkThemOpen:!1,userInfo:null!=localStorage.getItem("user")&&"undefined"!==localStorage.getItem("user")&&""!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,uploadVideoDateTemp:{}},mutations:{setUserInfo:function(e,t){localStorage.setItem("user",JSON.stringify(t)),e.userInfo=t},setWebInfo:function(e,t){localStorage.setItem("webInfo",JSON.stringify(t)),e.userInfo=t}},actions:{},modules:{}}),oe=n("f309");a["default"].use(oe["a"]);var re=new oe["a"]({}),ie=n("2b27"),ue=n.n(ie);a["default"].use(ue.a),a["default"].config.productionTip=!1,new a["default"]({router:te,store:ae,vuetify:re,render:function(e){return e(h)}}).$mount("#app")},"79b8":function(e,t,n){"use strict";var a=n("e516"),o=n.n(a);o.a},9878:function(e,t,n){"use strict";n("b65f");function a(e){if(""===e||null==e)return"";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}function o(e){if(""===e||null==e)return"";var t=new Date(e);return t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日 "+t.getHours()+"时"+t.getMinutes()+"分"}function r(e,t){return o(e)+" ~ "+o(t)}function i(e){var t=(new Date).getTime(),n=t-e;return n=Math.trunc(n/1e3),n<60?n+"秒前":(n=Math.trunc(n/60),n<60?n+"分钟前":(n=Math.trunc(n/60),n<24?n+"小时前":(n=Math.trunc(n/24),n<30?n+"天前":a(e))))}var u,c,s={timeToNowStrning:i,renderTime:a,formateTimeToChinese:o,formateTime:r},l=s,d=n("2877"),f=Object(d["a"])(l,u,c,!1,null,null,null);t["a"]=f.exports},a4f2:function(e,t,n){"use strict";var a=n("a799"),o=n.n(a);o.a},a799:function(e,t,n){},e516:function(e,t,n){}});