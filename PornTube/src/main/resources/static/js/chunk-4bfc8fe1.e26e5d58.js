(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bfc8fe1"],{"0bc6":function(e,t,n){},1501:function(e,t,n){var i,r,o;
/*!
 * vue-filepond v6.0.2
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2020 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */(function(a,s){r=[t,n("2b0e"),n("c062")],i=s,o="function"===typeof i?i.apply(t,r):i,void 0===o||(e.exports=o)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.setOptions=void 0,t=i(t);var r=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],o=(0,n.supported)(),a=function(e){return{string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object}[e]},s={},l=[],c={},u=[],d={},f=function(e){d=Object.assign(d,e),u.forEach((function(e){e.setOptions(d)}))};e.setOptions=f;var h=function(){n.registerPlugin.apply(void 0,arguments),l.length=0;var e=function(e){if(/^on/.test(e))return l.push(e),"continue";s[e]=[String,a(n.OptionTypes[e])],c[e]=function(t){this._pond[e]=t}};for(var i in n.OptionTypes)e(i);return t.default.component("FilePond",{name:"FilePond",props:s,watch:c,render:function(e){return e("div",{class:{"filepond--wrapper":!0}},[e("input",{attrs:{id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}})])},mounted:function(){var e=this;if(o){this._element=this.$el.querySelector("input");var t=l.reduce((function(t,n){return t[n]=function(){e.$emit("input",e._pond?e._pond.getFiles():[]);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.$emit.apply(e,[n.substr(2)].concat(i))},t}),{}),i=Object.assign({},this.$attrs);this._pond=(0,n.create)(this._element,Object.assign({},d,t,i,this.$options.propsData)),Object.keys(this._pond).filter((function(e){return!r.includes(e)})).forEach((function(t){e[t]=e._pond[t]})),u.push(this._pond)}},destroyed:function(){var e=this,t=this.$options.detached;if(this.$el.offsetParent){var n=function(n,i){var r=(n[0]||{}).removedNodes||[],o=r[0];o&&o.contains(e.$el)&&(i.disconnect(),t.call(e))},i=new MutationObserver(n);i.observe(document.documentElement,{childList:!0,subtree:!0})}else t.call(this)},detached:function(){if(this._pond){this._pond.destroy();var e=u.indexOf(this._pond);e>=0&&u.splice(e,1),this._pond=null}}})};e.default=h}))},1681:function(e,t,n){},1942:function(e,t,n){
/*!
 * FilePondPluginFileValidateType 1.2.5
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils,i=n.Type,r=n.isString,o=n.replaceInString,a=n.guesstimateMimeType,s=n.getExtensionFromFilename,l=n.getFilenameFromURL,c=function(e,t){var n=(/^[^/]+/.exec(e)||[]).pop(),i=t.slice(0,-2);return n===i},u=function(e,t){return e.some((function(e){return/\*$/.test(e)?c(t,e):e===t}))},d=function(e){var t="";if(r(e)){var n=l(e),i=s(n);i&&(t=a(i))}else t=e.type;return t},f=function(e,t,n){if(0===t.length)return!0;var i=d(e);return n?new Promise((function(r,o){n(e,i).then((function(e){u(t,e)?r():o()})).catch(o)})):u(t,i)},h=function(e){return function(t){return null!==e[t]&&(e[t]||t)}};return t("SET_ATTRIBUTE_TO_OPTION_MAP",(function(e){return Object.assign(e,{accept:"acceptedFileTypes"})})),t("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||f(e,n("GET_ACCEPTED_FILE_TYPES"))})),t("LOAD_FILE",(function(e,t){var n=t.query;return new Promise((function(t,i){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var r=n("GET_ACCEPTED_FILE_TYPES"),a=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),s=f(e,r,a),l=function(){var e=r.map(h(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(e){return!1!==e}));i({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"===typeof s)return s?t(e):l();s.then((function(){t(e)})).catch(l)}else t(e)}))})),{options:{allowFileTypeValidation:[!0,i.BOOLEAN],acceptedFileTypes:[[],i.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",i.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",i.STRING],fileValidateTypeLabelExpectedTypesMap:[{},i.OBJECT],fileValidateTypeDetectType:[null,i.FUNCTION]}}},t="undefined"!==typeof window&&"undefined"!==typeof window.document;return t&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}))},2677:function(e,t,n){"use strict";var i=n("8654");t["a"]=i["a"]},"2bfd":function(e,t,n){},"2cfc":function(e,t,n){
/*!
 * FilePondPluginImagePreview 4.6.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=function(e){return/^image/.test(e.type)};function t(e){this.wrapped=e}function n(e){var n,i;function r(e,t){return new Promise((function(r,a){var s={key:e,arg:t,resolve:r,reject:a,next:null};i?i=i.next=s:(n=i=s,o(e,t))}))}function o(n,i){try{var r=e[n](i),s=r.value,l=s instanceof t;Promise.resolve(l?s.wrapped:s).then((function(e){l?o("next",e):a(r.done?"return":"normal",e)}),(function(e){o("throw",e)}))}catch(c){a("throw",c)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1});break}n=n.next,n?o(n.key,n.arg):i=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)};function i(e,t){return r(e)||o(e,t)||a()}function r(e){if(Array.isArray(e))return e}function o(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){r=!0,o=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw o}}return n}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var s=function(e,t){return d(e.x*t,e.y*t)},l=function(e,t){return d(e.x+t.x,e.y+t.y)},c=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:d(e.x/t,e.y/t)},u=function(e,t,n){var i=Math.cos(t),r=Math.sin(t),o=d(e.x-n.x,e.y-n.y);return d(n.x+i*o.x-r*o.y,n.y+r*o.x+i*o.y)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:e,y:t}},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"===typeof e?parseFloat(e)*n:"number"===typeof e?e*(i?t[i]:Math.min(t.width,t.height)):void 0},h=function(e,t,n){var i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",a=f(e.borderWidth||e.lineWidth,t,n),s=e.lineCap||"round",l=e.lineJoin||"round",c="string"===typeof i?"":i.map((function(e){return f(e,t,n)})).join(","),u=e.opacity||1;return{"stroke-linecap":s,"stroke-linejoin":l,"stroke-width":a||0,"stroke-dasharray":c,stroke:o,fill:r,opacity:u}},p=function(e){return null!=e},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=f(e.x,t,n,"width")||f(e.left,t,n,"width"),r=f(e.y,t,n,"height")||f(e.top,t,n,"height"),o=f(e.width,t,n,"width"),a=f(e.height,t,n,"height"),s=f(e.right,t,n,"width"),l=f(e.bottom,t,n,"height");return p(r)||(r=p(a)&&p(l)?t.height-a-l:l),p(i)||(i=p(o)&&p(s)?t.width-o-s:s),p(o)||(o=p(i)&&p(s)?t.width-i-s:0),p(a)||(a=p(r)&&p(l)?t.height-r-l:0),{x:i||0,y:r||0,width:o||0,height:a||0}},g=function(e){return e.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" ")},v=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},E="http://www.w3.org/2000/svg",I=function(e,t){var n=document.createElementNS(E,e);return t&&v(n,t),n},_=function(e){return v(e,Object.assign({},e.rect,e.styles))},T=function(e){var t=e.rect.x+.5*e.rect.width,n=e.rect.y+.5*e.rect.height,i=.5*e.rect.width,r=.5*e.rect.height;return v(e,Object.assign({cx:t,cy:n,rx:i,ry:r},e.styles))},y={contain:"xMidYMid meet",cover:"xMidYMid slice"},O=function(e,t){v(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:y[t.fit]||"none"}))},R={left:"start",center:"middle",right:"end"},S=function(e,t,n,i){var r=f(t.fontSize,n,i),o=t.fontFamily||"sans-serif",a=t.fontWeight||"normal",s=R[t.textAlign]||"start";v(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":a,"font-size":r,"font-family":o,"text-anchor":s})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},D=function(e,t,n,i){v(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var r=e.childNodes[0],o=e.childNodes[1],a=e.childNodes[2],d=e.rect,h={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(v(r,{x1:d.x,y1:d.y,x2:h.x,y2:h.y}),t.lineDecoration){o.style.display="none",a.style.display="none";var p=c({x:h.x-d.x,y:h.y-d.y}),m=f(.05,n,i);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var g=s(p,m),E=l(d,g),I=u(d,2,E),_=u(d,-2,E);v(o,{style:"display:block;",d:"M".concat(I.x,",").concat(I.y," L").concat(d.x,",").concat(d.y," L").concat(_.x,",").concat(_.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var T=s(p,-m),y=l(h,T),O=u(h,2,y),R=u(h,-2,y);v(a,{style:"display:block;",d:"M".concat(O.x,",").concat(O.y," L").concat(h.x,",").concat(h.y," L").concat(R.x,",").concat(R.y)})}}},b=function(e,t,n,i){v(e,Object.assign({},e.styles,{fill:"none",d:g(t.points.map((function(e){return{x:f(e.x,n,i,"width"),y:f(e.y,n,i,"height")}})))}))},A=function(e){return function(t){return I(e,{id:t.id})}},w=function(e){var t=I("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},C=function(e){var t=I("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=I("line");t.appendChild(n);var i=I("path");t.appendChild(i);var r=I("path");return t.appendChild(r),t},M={image:w,rect:A("rect"),ellipse:A("ellipse"),text:A("text"),path:A("path"),line:C},P={rect:_,ellipse:T,image:O,text:S,path:b,line:D},L=function(e,t){return M[e](t)},x=function(e,t,n,i,r){"path"!==t&&(e.rect=m(n,i,r)),e.styles=h(n,i,r),P[t](e,n,i,r)},N=["x","y","left","top","right","bottom","width","height"],G=function(e){return"string"===typeof e&&/%/.test(e)?parseFloat(e)/100:e},V=function(e){var t=i(e,2),n=t[0],r=t[1],o=r.points?{}:N.reduce((function(e,t){return e[t]=G(r[t]),e}),{});return[n,Object.assign({zIndex:0},r,o)]},k=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},B=function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(e){var t=e.root,n=e.props;if(n.dirty){var r=n.crop,o=n.resize,a=n.markup,s=n.width,l=n.height,c=r.width,u=r.height;if(o){var d=o.size,f=d&&d.width,h=d&&d.height,p=o.mode,m=o.upscale;f&&!h&&(h=f),h&&!f&&(f=h);var g=c<f&&u<h;if(!g||g&&m){var v,E=f/c,I=h/u;if("force"===p)c=f,u=h;else"cover"===p?v=Math.max(E,I):"contain"===p&&(v=Math.min(E,I)),c*=v,u*=v}}var _={width:s,height:l};t.element.setAttribute("width",_.width),t.element.setAttribute("height",_.height);var T=Math.min(s/c,l/u);t.element.innerHTML="";var y=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(y).map(V).sort(k).forEach((function(e){var n=i(e,2),r=n[0],o=n[1],a=L(r,o);x(a,r,o,_,T),t.element.appendChild(a)}))}}})},F=function(e,t){return{x:e,y:t}},U=function(e,t){return e.x*t.x+e.y*t.y},q=function(e,t){return F(e.x-t.x,e.y-t.y)},$=function(e,t){return U(q(e,t),q(e,t))},j=function(e,t){return Math.sqrt($(e,t))},Y=function(e,t){var n=e,i=1.5707963267948966,r=t,o=1.5707963267948966-t,a=Math.sin(i),s=Math.sin(r),l=Math.sin(o),c=Math.cos(o),u=n/a,d=u*s,f=u*l;return F(c*d,c*f)},H=function(e,t){var n=e.width,i=e.height,r=Y(n,t),o=Y(i,t),a=F(e.x+Math.abs(r.x),e.y-Math.abs(r.y)),s=F(e.x+e.width+Math.abs(o.y),e.y+Math.abs(o.x)),l=F(e.x-Math.abs(o.y),e.y+e.height-Math.abs(o.x));return{width:j(a,s),height:j(a,l)}},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.height/e.width,r=1,o=t,a=1,s=i;s>o&&(s=o,a=s/i);var l=Math.max(r/a,o/s),c=e.width/(n*l*a),u=c*t;return{width:c,height:u}},W=function(e,t,n,i){var r=i.x>.5?1-i.x:i.x,o=i.y>.5?1-i.y:i.y,a=2*r*e.width,s=2*o*e.height,l=H(t,n);return Math.max(l.width/a,l.height/s)},X=function(e,t){var n=e.width,i=n*t;i>e.height&&(i=e.height,n=i/t);var r=.5*(e.width-n),o=.5*(e.height-i);return{x:r,y:o,width:n,height:i}},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoom,i=t.rotation,r=t.center,o=t.aspectRatio;o||(o=e.height/e.width);var a=z(e,o,n),s={x:.5*a.width,y:.5*a.height},l={x:0,y:0,width:a.width,height:a.height,center:s},c="undefined"===typeof t.scaleToFit||t.scaleToFit,u=W(e,X(l,o),i,c?r:{x:.5,y:.5}),d=n*u;return{widthFloat:a.width/d,heightFloat:a.height/d,width:Math.round(a.width/d),height:Math.round(a.height/d)}},Q={type:"spring",stiffness:.5,damping:.45,mass:10},Z=function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){var t=e.root,n=e.props;t.appendChild(n.image)}})},J=function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Q,originY:Q,scaleX:Q,scaleY:Q,translateX:Q,translateY:Q,rotateZ:Q}},create:function(t){var n=t.root,i=t.props;i.width=i.image.width,i.height=i.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(Z(e),{image:i.image}))},write:function(e){var t=e.root,n=e.props,i=n.crop.flip,r=t.ref.bitmap;r.scaleX=i.horizontal?-1:1,r.scaleY=i.vertical?-1:1}})},ee=function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(e){var t=e.root,n=e.props;n.background&&(t.element.style.backgroundColor=n.background)},create:function(t){var n=t.root,i=t.props;n.ref.image=n.appendChildView(n.createChildView(J(e),Object.assign({},i))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(B(e),Object.assign({},i))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var r=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==r&&(n.element.dataset.transparencyIndicator="grid"===r?r:"color")},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,r=n.crop,o=n.markup,a=n.resize,s=n.dirty,l=n.width,c=n.height;t.ref.image.crop=r;var u={x:0,y:0,width:l,height:c,center:{x:.5*l,y:.5*c}},d={width:t.ref.image.width,height:t.ref.image.height},f={x:r.center.x*d.width,y:r.center.y*d.height},h={x:u.center.x-d.width*r.center.x,y:u.center.y-d.height*r.center.y},p=2*Math.PI+r.rotation%(2*Math.PI),m=r.aspectRatio||d.height/d.width,g="undefined"===typeof r.scaleToFit||r.scaleToFit,v=W(d,X(u,m),p,g?r.center:{x:.5,y:.5}),E=r.zoom*v;o&&o.length?(t.ref.createMarkup(),t.ref.markup.width=l,t.ref.markup.height=c,t.ref.markup.resize=a,t.ref.markup.dirty=s,t.ref.markup.markup=o,t.ref.markup.crop=K(d,r)):t.ref.markup&&t.ref.destroyMarkup();var I=t.ref.image;if(i)return I.originX=null,I.originY=null,I.translateX=null,I.translateY=null,I.rotateZ=null,I.scaleX=null,void(I.scaleY=null);I.originX=f.x,I.originY=f.y,I.translateX=h.x,I.translateY=h.y,I.rotateZ=p,I.scaleX=E,I.scaleY=E}})},te=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Q,scaleY:Q,translateY:Q,opacity:{type:"tween",duration:400}}},create:function(t){var n=t.root,i=t.props;n.ref.clip=n.appendChildView(n.createChildView(ee(e),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,r=t.ref.clip,o=n.image,a=n.crop,s=n.markup,l=n.resize,c=n.dirty;if(r.crop=a,r.markup=s,r.resize=l,r.dirty=c,r.opacity=i?0:1,!i&&!t.rect.element.hidden){var u=o.height/o.width,d=a.aspectRatio||u,f=t.rect.inner.width,h=t.rect.inner.height,p=t.query("GET_IMAGE_PREVIEW_HEIGHT"),m=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),g=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),v=t.query("GET_PANEL_ASPECT_RATIO"),E=t.query("GET_ALLOW_MULTIPLE");v&&!E&&(p=f*v,d=v);var I=null!==p?p:Math.max(m,Math.min(f*d,g)),_=I/d;_>f&&(_=f,I=_*d),I>h&&(I=h,_=h/d),r.width=_,r.height=I}}})},ne='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',ie=!1,re=0,oe=function(e){return e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;!ie&&document.querySelector("base")&&(ne=ne.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),ie=!0),re++,t.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),t.element.innerHTML=ne.replace(/__UID__/g,re)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},ae=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},se=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,n=e.data.message.colorMatrix,i=t.data,r=i.length,o=n[0],a=n[1],s=n[2],l=n[3],c=n[4],u=n[5],d=n[6],f=n[7],h=n[8],p=n[9],m=n[10],g=n[11],v=n[12],E=n[13],I=n[14],_=n[15],T=n[16],y=n[17],O=n[18],R=n[19],S=0,D=0,b=0,A=0,w=0;S<r;S+=4)D=i[S]/255,b=i[S+1]/255,A=i[S+2]/255,w=i[S+3]/255,i[S]=Math.max(0,Math.min(255*(D*o+b*a+A*s+w*l+c),255)),i[S+1]=Math.max(0,Math.min(255*(D*u+b*d+A*f+w*h+p),255)),i[S+2]=Math.max(0,Math.min(255*(D*m+b*g+A*v+w*E+I),255)),i[S+3]=Math.max(0,Math.min(255*(D*_+b*T+A*y+w*O+R),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},le=function(e,t){var n=new Image;n.onload=function(){var e=n.naturalWidth,i=n.naturalHeight;n=null,t(e,i)},n.src=e},ce={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},ue=function(e,t,n,i){-1!==i&&e.transform.apply(e,ce[i](t,n))},de=function(e,t,n,i){t=Math.round(t),n=Math.round(n);var r=document.createElement("canvas");r.width=t,r.height=n;var o=r.getContext("2d");if(i>=5&&i<=8){var a=[n,t];t=a[0],n=a[1]}return ue(o,t,n,i),o.drawImage(e,0,0,t,n),r},fe=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},he=10,pe=10,me=function(e){var t=Math.min(he/e.width,pe/e.height),n=document.createElement("canvas"),i=n.getContext("2d"),r=n.width=Math.ceil(e.width*t),o=n.height=Math.ceil(e.height*t);i.drawImage(e,0,0,r,o);var a=null;try{a=i.getImageData(0,0,r,o).data}catch(f){return null}for(var s=a.length,l=0,c=0,u=0,d=0;d<s;d+=4)l+=a[d]*a[d],c+=a[d+1]*a[d+1],u+=a[d+2]*a[d+2];return l=ge(l,s),c=ge(c,s),u=ge(u,s),{r:l,g:c,b:u}},ge=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},ve=function(e,t){t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),t},Ee=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(r){var n=document.createElement("canvas"),i=n.getContext("2d");t=i.createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},Ie=function(e){return new Promise((function(t,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},_e=function(e){var t=oe(e),n=te(e),i=e.utils.createWorker,r=function(e,t,n){return new Promise((function(r){e.ref.imageData||(e.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var o=Ee(e.ref.imageData);if(!t||20!==t.length)return n.getContext("2d").putImageData(o,0,0),r();var a=i(se);a.post({imageData:o,colorMatrix:t},(function(e){n.getContext("2d").putImageData(e,0,0),a.terminate(),r()}),[o.data.buffer])}))},o=function(e,t){e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()},a=function(e){var t=e.root,n=t.ref.images.shift();return n.opacity=0,n.translateY=-15,t.ref.imageViewBin.push(n),n},s=function(e){var t=e.root,i=e.props,r=e.image,o=i.id,a=t.query("GET_ITEM",{id:o});if(a){var s,l,c=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},u=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),d=!1;t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(s=a.getMetadata("markup")||[],l=a.getMetadata("resize"),d=!0);var f=t.appendChildView(t.createChildView(n,{id:o,image:r,crop:c,resize:l,markup:s,dirty:d,background:u,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),t.childViews.length);t.ref.images.push(f),f.opacity=1,f.scaleX=1,f.scaleY=1,f.translateY=0,setTimeout((function(){t.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)}},l=function(e){var t=e.root,n=e.props,i=t.query("GET_ITEM",{id:n.id});if(i){var r=t.ref.images[t.ref.images.length-1];r.crop=i.getMetadata("crop"),r.background=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(r.dirty=!0,r.resize=i.getMetadata("resize"),r.markup=i.getMetadata("markup"))}},c=function(e){var t=e.root,n=e.props,i=e.action;if(/crop|filter|markup|resize/.test(i.change.key)&&t.ref.images.length){var o=t.query("GET_ITEM",{id:n.id});if(o)if(/filter/.test(i.change.key)){var c=t.ref.images[t.ref.images.length-1];r(t,i.change.value,c.image)}else if(/crop|markup|resize/.test(i.change.key)){var u=o.getMetadata("crop"),d=t.ref.images[t.ref.images.length-1];if(Math.abs(u.aspectRatio-d.crop.aspectRatio)>1e-5){var f=a({root:t});s({root:t,props:n,image:ve(f.image)})}else l({root:t,props:n})}}},u=function(e){var t=window.navigator.userAgent,n=t.match(/Firefox\/([0-9]+)\./),i=n?parseInt(n[1]):null;return!(i<=58)&&("createImageBitmap"in window&&fe(e))},d=function(e){var t=e.root,n=e.props,i=n.id,r=t.query("GET_ITEM",i);if(r){var o=URL.createObjectURL(r.file);le(o,(function(e,n){t.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:i,width:e,height:n})}))}},f=function(e){var t=e.root,n=e.props,o=n.id,a=t.query("GET_ITEM",o);if(a){var l=URL.createObjectURL(a.file),c=function(){Ie(l).then(d)},d=function(e){URL.revokeObjectURL(l);var i=a.getMetadata("exif")||{},o=i.orientation||-1,c=e.width,u=e.height;if(o>=5&&o<=8){var d=[u,c];c=d[0],u=d[1]}var f=Math.max(1,.75*window.devicePixelRatio),h=t.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR"),p=h*f,m=u/c,g=t.rect.element.width,v=t.rect.element.height,E=g,I=E*m;m>1?(E=Math.min(c,g*p),I=E*m):(I=Math.min(u,v*p),E=I/m);var _=de(e,E,I,o),T=function(){var i=t.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?me(data):null;a.setMetadata("color",i,!0),"close"in e&&e.close(),t.ref.overlayShadow.opacity=1,s({root:t,props:n,image:_})},y=a.getMetadata("filter");y?r(t,y,_).then(T):T()};if(u(a.file)){var f=i(ae);f.post({file:a.file},(function(e){f.terminate(),e?d(e):c()}))}else c()}},h=function(e){var t=e.root,n=t.ref.images[t.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},p=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},m=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1},g=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},v=function(e){var n=e.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(t,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(t,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:v,styles:["height"],apis:["height"],destroy:function(e){var t=e.root;t.ref.images.forEach((function(e){e.image.width=1,e.image.height=1}))},didWriteView:function(e){var t=e.root;t.ref.images.forEach((function(e){e.dirty=!1}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:h,DID_IMAGE_PREVIEW_CONTAINER_CREATE:d,DID_FINISH_CALCULATE_PREVIEWSIZE:f,DID_UPDATE_ITEM_METADATA:c,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:g,DID_START_ITEM_PROCESSING:p,DID_REVERT_ITEM_PROCESSING:p},(function(e){var t=e.root,n=t.ref.imageViewBin.filter((function(e){return 0===e.opacity}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0})),n.forEach((function(e){return o(t,e)})),n.length=0}))})},Te=function(t){var n=t.addFilter,i=t.utils,r=i.Type,o=i.createRoute,a=i.isFile,s=_e(t);return n("CREATE_VIEW",(function(t){var n=t.is,i=t.view,r=t.query;if(n("file")&&r("GET_ALLOW_IMAGE_PREVIEW")){var l=function(t){var n=t.root,o=t.props,l=o.id,c=r("GET_ITEM",l);if(c&&a(c.file)&&!c.archived){var u=c.file;if(e(u)&&r("GET_IMAGE_PREVIEW_FILTER_ITEM")(c)){var d="createImageBitmap"in(window||{}),f=r("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!d&&f&&u.size>f)){n.ref.imagePreview=i.appendChildView(i.createChildView(s,{id:l}));var h=n.query("GET_IMAGE_PREVIEW_HEIGHT");h&&n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:c.id,height:h});var p=!d&&u.size>r("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:l},p)}}}},c=function(e,t){if(e.ref.imagePreview){var n=t.id,i=e.query("GET_ITEM",{id:n});if(i){var r=e.query("GET_PANEL_ASPECT_RATIO"),o=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),a=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(r||o||a)){var s=e.ref,l=s.imageWidth,c=s.imageHeight;if(l&&c){var u=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),f=i.getMetadata("exif")||{},h=f.orientation||-1;if(h>=5&&h<=8){var p=[c,l];l=p[0],c=p[1]}if(!fe(i.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var m=2048/l;l*=m,c*=m}var g=c/l,v=(i.getMetadata("crop")||{}).aspectRatio||g,E=Math.max(u,Math.min(c,d)),I=e.rect.element.width,_=Math.min(I*v,E);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:_})}}}}},u=function(e){var t=e.root;t.ref.shouldRescale=!0},d=function(e){var t=e.root,n=e.action;"crop"===n.change.key&&(t.ref.shouldRescale=!0)},f=function(e){var t=e.root,n=e.action;t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldRescale=!0,t.ref.shouldDrawPreview=!0,t.dispatch("KICK")};i.registerWriter(o({DID_RESIZE_ROOT:u,DID_STOP_RESIZE:u,DID_LOAD_ITEM:l,DID_IMAGE_PREVIEW_CALCULATE_SIZE:f,DID_UPDATE_ITEM_METADATA:d},(function(e){var t=e.root,n=e.props;t.ref.imagePreview&&(t.rect.element.hidden||(t.ref.shouldRescale&&(c(t,n),t.ref.shouldRescale=!1),t.ref.shouldDrawPreview&&(requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})})),t.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewFilterItem:[function(){return!0},r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[!1,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[!1,r.BOOLEAN],imagePreviewMarkupShow:[!0,r.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},r.FUNCTION]}}},ye="undefined"!==typeof window&&"undefined"!==typeof window.document;return ye&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Te})),Te}))},"2db4":function(e,t,n){"use strict";n("ca71");var i=n("8dd9"),r=n("a9ad"),o=n("7560"),a=n("f2e7"),s=n("fe6c"),l=n("58df"),c=n("80d2"),u=n("d9bd");t["a"]=Object(l["a"])(i["a"],r["a"],a["a"],Object(s["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:e=>"string"===typeof e||!1===e},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles(){if(this.absolute)return{};const{bar:e,bottom:t,footer:n,insetFooter:i,left:r,right:o,top:a}=this.$vuetify.application;return{paddingBottom:Object(c["f"])(t+n+i),paddingLeft:this.app?Object(c["f"])(r):void 0,paddingRight:this.app?Object(c["f"])(o):void 0,paddingTop:Object(c["f"])(e+a)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(u["e"])("auto-height",this),0==this.timeout&&Object(u["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(c["o"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(c["o"])(this)])},genWrapper(){const e=this.hasBackground?this.setBackgroundColor:this.setTextColor,t=e(this.color,{staticClass:"v-snack__wrapper",class:i["a"].options.computed.classes.call(this),directives:[{name:"show",value:this.isActive}]});return this.$createElement("div",t,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},e))}},render(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"4ed3":function(e,t,n){},"57c8":function(e,t,n){},5803:function(e,t,n){},"615b":function(e,t,n){},"68dd":function(e,t,n){},8547:function(e,t,n){"use strict";var i=n("2b0e"),r=n("80d2");t["a"]=i["default"].extend({name:"comparable",props:{valueComparator:{type:Function,default:r["i"]}}})},"8adc":function(e,t,n){},"8ce9":function(e,t,n){},a844:function(e,t,n){"use strict";n("1681");var i=n("8654"),r=n("58df");const o=Object(r["a"])(i["a"]);t["a"]=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:e=>!isNaN(parseFloat(e))},rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseInt(e,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...i["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const e=this.$refs.input;if(!e)return;e.style.height="0";const t=e.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(n,t)+"px"},genInput(){const e=i["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput(e){i["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},b0af:function(e,t,n){"use strict";n("615b");var i=n("10d2"),r=n("297c"),o=n("1c87"),a=n("58df");t["a"]=Object(a["a"])(r["a"],o["a"],i["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...o["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...i["a"].options.computed.classes.call(this)}},styles(){const e={...i["a"].options.computed.styles.call(this)};return this.img&&(e.background=`url("${this.img}") center center / cover no-repeat`),e}},methods:{genProgress(){const e=r["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render(e){const{tag:t,data:n}=this.generateRouteLink();return n.style=this.styles,this.isClickable&&(n.attrs=n.attrs||{},n.attrs.tabindex=0),e(t,this.setBackgroundColor(this.color,n),[this.genProgress(),this.$slots.default])}})},b810:function(e,t,n){"use strict";var i=n("ce7e");t["a"]=i["a"]},c062:function(e,t,n){
/*!
 * FilePond 4.20.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */
(function(e,n){n(t)})(0,(function(e){"use strict";var t=function(e){return e instanceof HTMLElement},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},e),r=[],o=[],a=function(){return Object.assign({},i)},s=function(){var e=[].concat(r);return r.length=0,e},l=function(){var e=[].concat(o);o.length=0,e.forEach((function(e){var t=e.type,n=e.data;c(t,n)}))},c=function(e,t,n){!n||document.hidden?(h[e]&&h[e](t),r.push({type:e,data:t})):o.push({type:e,data:t})},u=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return f[e]?(t=f)[e].apply(t,i):null},d={getState:a,processActionQueue:s,processDispatchQueue:l,dispatch:c,query:u},f={};t.forEach((function(e){f=Object.assign({},e(i),{},f)}));var h={};return n.forEach((function(e){h=Object.assign({},e(c,u,i),{},h)})),d},i=function(e,t,n){"function"!==typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n},r=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},o=function(e){var t={};return r(e,(function(n){i(t,n,e[n])})),t},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},s="http://www.w3.org/2000/svg",l=["svg","path"],c=function(e){return l.includes(e)},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===typeof t&&(n=t,t=null);var i=c(e)?document.createElementNS(s,e):document.createElement(e);return t&&(c(e)?a(i,"class",t):i.className=t),r(n,(function(e,t){a(i,e,t)})),i},d=function(e){return function(t,n){"undefined"!==typeof n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},f=function(e,t){return function(e,n){return"undefined"!==typeof n?t.splice(n,0,e):t.push(e),e}},h=function(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}},p=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document}(),m=function(){return p},g=m()?u("svg"):{},v="children"in g?function(e){return e.children.length}:function(e){return e.childNodes.length},E=function(e,t,n,i){var r=n[0]||e.left,o=n[1]||e.top,a=r+e.width,s=o+e.height*(i[1]||1),l={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:o,right:a,bottom:s}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){I(l.inner,Object.assign({},e.inner)),I(l.outer,Object.assign({},e.outer))})),_(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,_(l.outer),l},I=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},_=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},T=function(e){return"number"===typeof e},y=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<i&&Math.abs(n)<i},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,i=e.damping,r=void 0===i?.75:i,a=e.mass,s=void 0===a?10:a,l=null,c=null,u=0,d=!1,f=function(e,t){if(!d){if(!T(l)||!T(c))return d=!0,void(u=0);var i=-(c-l)*n;u+=i/s,c+=u,u*=r,y(c,l,u)||t?(c=l,u=0,d=!0,p.onupdate(c),p.oncomplete(c)):p.onupdate(c)}},h=function(e){if(T(e)&&!T(c)&&(c=e),null===l&&(l=e,c=e),l=e,c===l||"undefined"===typeof l)return d=!0,u=0,p.onupdate(c),void p.oncomplete(c);d=!1},p=o({interpolate:f,target:{set:h,get:function(){return l}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return p},R=function(e){return e<.5?2*e*e:(4-2*e)*e-1},S=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.duration,r=void 0===i?500:i,a=n.easing,s=void 0===a?R:a,l=n.delay,c=void 0===l?0:l,u=null,d=!0,f=!1,h=null,p=function(n,i){d||null===h||(null===u&&(u=n),n-u<c||(e=n-u-c,e>=r||i?(e=1,t=f?0:1,m.onupdate(t*h),m.oncomplete(t*h),d=!0):(t=e/r,m.onupdate((e>=0?s(f?1-t:t):0)*h))))},m=o({interpolate:p,target:{get:function(){return f?0:h},set:function(e){if(null===h)return h=e,m.onupdate(e),void m.oncomplete(e);e<h?(h=1,f=!0):(f=!1,h=e),d=!1,u=null}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return m},D={spring:O,tween:S},b=function(e,t,n){var i=e[t]&&"object"===typeof e[t][n]?e[t][n]:e[t]||e,r="string"===typeof i?i:i.type,o="object"===typeof i?Object.assign({},i):{};return D[r]?D[r](o):null},A=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=Array.isArray(t)?t:[t],t.forEach((function(t){e.forEach((function(e){var r=e,o=function(){return n[e]},a=function(t){return n[e]=t};"object"===typeof e&&(r=e.key,o=e.getter||o,a=e.setter||a),t[r]&&!i||(t[r]={get:o,set:a})}))}))},w=function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewInternalAPI,o=e.viewExternalAPI,a=Object.assign({},n),s=[];return r(t,(function(e,t){var r=b(t);if(r){r.onupdate=function(t){n[e]=t},r.target=a[e];var l={key:e,setter:function(e){r.target!==e&&(r.target=e)},getter:function(){return n[e]}};A([l],[i,o],n,!0),s.push(r)}})),{write:function(e){var t=document.hidden,n=!0;return s.forEach((function(i){i.resting||(n=!1),i.interpolate(e,t)})),n},destroy:function(){}}},C=function(e){return function(t,n){e.addEventListener(t,n)}},M=function(e){return function(t,n){e.removeEventListener(t,n)}},P=function(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t=e.viewExternalAPI,n=(e.viewState,e.view),i=[],r=C(n.element),o=M(n.element);return t.on=function(e,t){i.push({type:e,fn:t}),r(e,t)},t.off=function(e,t){i.splice(i.findIndex((function(n){return n.type===e&&n.fn===t})),1),o(e,t)},{write:function(){return!0},destroy:function(){i.forEach((function(e){o(e.type,e.fn)}))}}},L=function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewExternalAPI;A(t,i,n)},x=function(e){return null!=e},N={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},G=function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewInternalAPI,r=e.viewExternalAPI,o=e.view,a=Object.assign({},n),s={};A(t,[i,r],n);var l=function(){return[n["translateX"]||0,n["translateY"]||0]},c=function(){return[n["scaleX"]||0,n["scaleY"]||0]},u=function(){return o.rect?E(o.rect,o.childViews,l(),c()):null};return i.rect={get:u},r.rect={get:u},t.forEach((function(e){n[e]="undefined"===typeof a[e]?N[e]:a[e]})),{write:function(){if(V(s,n))return k(o.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function(){}}},V=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},k=function(e,t){var n=t.opacity,i=t.perspective,r=t.translateX,o=t.translateY,a=t.scaleX,s=t.scaleY,l=t.rotateX,c=t.rotateY,u=t.rotateZ,d=t.originX,f=t.originY,h=t.width,p=t.height,m="",g="";(x(d)||x(f))&&(g+="transform-origin: "+(d||0)+"px "+(f||0)+"px;"),x(i)&&(m+="perspective("+i+"px) "),(x(r)||x(o))&&(m+="translate3d("+(r||0)+"px, "+(o||0)+"px, 0) "),(x(a)||x(s))&&(m+="scale3d("+(x(a)?a:1)+", "+(x(s)?s:1)+", 1) "),x(u)&&(m+="rotateZ("+u+"rad) "),x(l)&&(m+="rotateX("+l+"rad) "),x(c)&&(m+="rotateY("+c+"rad) "),m.length&&(g+="transform:"+m+";"),x(n)&&(g+="opacity:"+n+";",0===n&&(g+="visibility:hidden;"),n<1&&(g+="pointer-events:none;")),x(p)&&(g+="height:"+p+"px;"),x(h)&&(g+="width:"+h+"px;");var v=e.elementCurrentStyle||"";g.length===v.length&&g===v||(e.style.cssText=g,e.elementCurrentStyle=g)},B={styles:G,listeners:P,animations:w,apis:L},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,i=e.name,r=void 0===i?null:i,a=e.attributes,s=void 0===a?{}:a,l=e.read,c=void 0===l?function(){}:l,p=e.write,m=void 0===p?function(){}:p,g=e.create,I=void 0===g?function(){}:g,_=e.destroy,T=void 0===_?function(){}:_,y=e.filterFrameActionsForChild,O=void 0===y?function(e,t){return t}:y,R=e.didCreateView,S=void 0===R?function(){}:R,D=e.didWriteView,b=void 0===D?function(){}:D,A=e.ignoreRect,w=void 0!==A&&A,C=e.ignoreRectUpdate,M=void 0!==C&&C,P=e.mixins,L=void 0===P?[]:P;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=u(n,"filepond--"+r,s),a=window.getComputedStyle(i,null),l=F(),p=null,g=!1,_=[],y=[],R={},D={},A=[m],C=[c],P=[T],x=function(){return i},N=function(){return _.concat()},G=function(){return R},V=function(e){return function(t,n){return t(e,n)}},k=function(){return p||(p=E(l,_,[0,0],[1,1]),p)},U=function(){return a},q=function(){p=null,_.forEach((function(e){return e._read()}));var e=!(M&&l.width&&l.height);e&&F(l,i,a);var n={root:X,props:t,rect:l};C.forEach((function(e){return e(n)}))},$=function(e,n,i){var r=0===n.length;return A.forEach((function(o){var a=o({props:t,root:X,actions:n,timestamp:e,shouldOptimize:i});!1===a&&(r=!1)})),y.forEach((function(t){var n=t.write(e);!1===n&&(r=!1)})),_.filter((function(e){return!!e.element.parentNode})).forEach((function(t){var o=t._write(e,O(t,n),i);o||(r=!1)})),_.forEach((function(t,o){t.element.parentNode||(X.appendChild(t.element,o),t._read(),t._write(e,O(t,n),i),r=!1)})),g=r,b({props:t,root:X,actions:n,timestamp:e}),r},j=function(){y.forEach((function(e){return e.destroy()})),P.forEach((function(e){e({root:X,props:t})})),_.forEach((function(e){return e._destroy()}))},Y={element:{get:x},style:{get:U},childViews:{get:N}},H=Object.assign({},Y,{rect:{get:k},ref:{get:G},is:function(e){return r===e},appendChild:d(i),createChildView:V(e),linkView:function(e){return _.push(e),e},unlinkView:function(e){_.splice(_.indexOf(e),1)},appendChildView:f(i,_),removeChildView:h(i,_),registerWriter:function(e){return A.push(e)},registerReader:function(e){return C.push(e)},registerDestroyer:function(e){return P.push(e)},invalidateLayout:function(){return i.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),z={element:{get:x},childViews:{get:N},rect:{get:k},resting:{get:function(){return g}},isRectIgnored:function(){return w},_read:q,_write:$,_destroy:j},W=Object.assign({},Y,{rect:{get:function(){return l}}});Object.keys(L).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var n=B[e]({mixinConfig:L[e],viewProps:t,viewState:D,viewInternalAPI:H,viewExternalAPI:z,view:o(W)});n&&y.push(n)}));var X=o(H);I({root:X,props:t});var K=v(i);return _.forEach((function(e,t){X.appendChild(e.element,K+t)})),S(X),o(z)}},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i="__framePainter";if(window[i])return window[i].readers.push(e),void window[i].writers.push(t);window[i]={readers:[e],writers:[t]};var r=window[i],o=1e3/n,a=null,s=null,l=null,c=null,u=function(){document.hidden?(l=function(){return window.setTimeout((function(){return d(performance.now())}),o)},c=function(){return window.clearTimeout(s)}):(l=function(){return window.requestAnimationFrame(d)},c=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){c&&c(),u(),d(performance.now())}));var d=function e(t){s=l(e),a||(a=t);var n=t-a;n<=o||(a=t-n%o,r.readers.forEach((function(e){return e()})),r.writers.forEach((function(e){return e(t)})))};return u(),d(performance.now()),{pause:function(){c(s)}}},$=function(e,t){return function(n){var i=n.root,r=n.props,o=n.actions,a=void 0===o?[]:o,s=n.timestamp,l=n.shouldOptimize;a.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:i,props:r,action:t.data,timestamp:s,shouldOptimize:l})})),t&&t({root:i,props:r,actions:a,timestamp:s,shouldOptimize:l})}},j=function(e,t){return t.parentNode.insertBefore(e,t)},Y=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},H=function(e){return Array.isArray(e)},z=function(e){return null==e},W=function(e){return e.trim()},X=function(e){return""+e},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return z(e)?[]:H(e)?e:X(e).split(t).map(W).filter((function(e){return e.length}))},Q=function(e){return"boolean"===typeof e},Z=function(e){return Q(e)?e:"true"===e},J=function(e){return"string"===typeof e},ee=function(e){return T(e)?e:J(e)?X(e).replace(/[a-z]+/gi,""):0},te=function(e){return parseInt(ee(e),10)},ne=function(e){return parseFloat(ee(e))},ie=function(e){return T(e)&&isFinite(e)&&Math.floor(e)===e},re=function(e){if(ie(e))return e;var t=X(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),1e3*te(t)*1e3):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),1e3*te(t)):te(t)},oe=function(e){return"function"===typeof e},ae=function(e){var t=self,n=e.split("."),i=null;while(i=n.shift())if(t=t[i],!t)return null;return t},se={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},le=function(e){var t={};return t.url=J(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},r(se,(function(n){t[n]=ce(n,e[n],se[n],t.timeout,t.headers)})),t.remove=e.remove||null,delete t.headers,t},ce=function(e,t,n,i,r){if(null===t)return null;if("function"===typeof t)return t;var o={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:r,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(J(t))return o.url=t,o;if(Object.assign(o,t),J(o.headers)){var a=o.headers.split(/:(.+)/);o.headers={header:a[0],value:a[1]}}return o.withCredentials=Z(o.withCredentials),o},ue=function(e){return le(e)},de=function(e){return null===e},fe=function(e){return"object"===typeof e&&null!==e},he=function(e){return fe(e)&&J(e.url)&&fe(e.process)&&fe(e.revert)&&fe(e.restore)&&fe(e.fetch)},pe=function(e){return H(e)?"array":de(e)?"null":ie(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":he(e)?"api":typeof e},me=function(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},ge={array:K,boolean:Z,int:function(e){return"bytes"===pe(e)?re(e):te(e)},number:ne,float:ne,bytes:re,string:function(e){return oe(e)?e:X(e)},function:function(e){return ae(e)},serverapi:ue,object:function(e){try{return JSON.parse(me(e))}catch(t){return null}}},ve=function(e,t){return ge[t](e)},Ee=function(e,t,n){if(e===t)return e;var i=pe(e);if(i!==n){var r=ve(e,n);if(i=pe(r),null===r)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=r}return e},Ie=function(e,t){var n=e;return{enumerable:!0,get:function(){return n},set:function(i){n=Ee(i,e,t)}}},_e=function(e){var t={};return r(e,(function(n){var i=e[n];t[n]=Ie(i[0],i[1])})),o(t)},Te=function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:_e(e)}},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},Oe=function(e,t){var n={};return r(t,(function(t){n[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+ye(t,"_").toUpperCase(),{value:n})}}})),n},Re=function(e){return function(t,n,i){var o={};return r(e,(function(e){var n=ye(e,"_").toUpperCase();o["SET_"+n]=function(r){try{i.options[e]=r.value}catch(o){}t("DID_SET_"+n,{value:i.options[e]})}})),o}},Se=function(e){return function(t){var n={};return r(e,(function(e){n["GET_"+ye(e,"_").toUpperCase()]=function(n){return t.options[e]}})),n}},De={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},be=function(){return Math.random().toString(36).substr(2,9)};function Ae(e){this.wrapped=e}function we(e){var t,n;function i(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))}function r(t,n){try{var i=e[t](n),a=i.value,s=a instanceof Ae;Promise.resolve(s?a.wrapped:a).then((function(e){s?r("next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(l){o("throw",l)}}function o(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1});break}t=t.next,t?r(t.key,t.arg):n=null}this._invoke=i,"function"!==typeof e.return&&(this.return=void 0)}function Ce(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function Me(e,t){if(null==e)return{};var n,i,r=Ce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}"function"===typeof Symbol&&Symbol.asyncIterator&&(we.prototype[Symbol.asyncIterator]=function(){return this}),we.prototype.next=function(e){return this._invoke("next",e)},we.prototype.throw=function(e){return this._invoke("throw",e)},we.prototype.return=function(e){return this._invoke("return",e)};function Pe(e){return Le(e)||xe(e)||Ne()}function Le(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function xe(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Ne(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var Ge=function(e,t){return e.splice(t,1)},Ve=function(e,t){t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},ke=function(){var e=[],t=function(t,n){Ge(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))},n=function(t,n,i){e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){return Ve((function(){return e.apply(void 0,Pe(n))}),i)}))};return{fireSync:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n(e,i,!0)},fire:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n(e,i,!1)},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,i){e.push({event:n,cb:function(){t(n,i),i.apply(void 0,arguments)}})},off:t}},Be=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},Fe=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ue=function(e){var t={};return Be(e,t,Fe),t},qe=function(e){e.forEach((function(t,n){t.released&&Ge(e,n)}))},$e={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},je={INPUT:1,LIMBO:2,LOCAL:3},Ye=function(e){return/[^0-9]+/.exec(e)},He=function(){return Ye(1.1.toLocaleString())[0]},ze=function(){var e=He(),t=1e3.toLocaleString(),n=1e3.toString();return t!==n?Ye(t)[0]:"."===e?",":"."},We={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Xe=[],Ke=function(e,t,n){return new Promise((function(i,r){var o=Xe.filter((function(t){return t.key===e})).map((function(e){return e.cb}));if(0!==o.length){var a=o.shift();o.reduce((function(e,t){return e.then((function(e){return t(e,n)}))}),a(t,n)).then((function(e){return i(e)})).catch((function(e){return r(e)}))}else i(t)}))},Qe=function(e,t,n){return Xe.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},Ze=function(e,t){return Xe.push({key:e,cb:t})},Je=function(e){return Object.assign(nt,e)},et=function(){return Object.assign({},nt)},tt=function(e){r(e,(function(e,t){nt[e]&&(nt[e][0]=Ee(t,nt[e][0],nt[e][1]))}))},nt={id:[null,We.STRING],name:["filepond",We.STRING],disabled:[!1,We.BOOLEAN],className:[null,We.STRING],required:[!1,We.BOOLEAN],captureMethod:[null,We.STRING],allowSyncAcceptAttribute:[!0,We.BOOLEAN],allowDrop:[!0,We.BOOLEAN],allowBrowse:[!0,We.BOOLEAN],allowPaste:[!0,We.BOOLEAN],allowMultiple:[!1,We.BOOLEAN],allowReplace:[!0,We.BOOLEAN],allowRevert:[!0,We.BOOLEAN],allowRemove:[!0,We.BOOLEAN],allowProcess:[!0,We.BOOLEAN],allowReorder:[!1,We.BOOLEAN],allowDirectoriesOnly:[!1,We.BOOLEAN],forceRevert:[!1,We.BOOLEAN],maxFiles:[null,We.INT],checkValidity:[!1,We.BOOLEAN],itemInsertLocationFreedom:[!0,We.BOOLEAN],itemInsertLocation:["before",We.STRING],itemInsertInterval:[75,We.INT],dropOnPage:[!1,We.BOOLEAN],dropOnElement:[!0,We.BOOLEAN],dropValidation:[!1,We.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],We.ARRAY],instantUpload:[!0,We.BOOLEAN],maxParallelUploads:[2,We.INT],chunkUploads:[!1,We.BOOLEAN],chunkForce:[!1,We.BOOLEAN],chunkSize:[5e6,We.INT],chunkRetryDelays:[[500,1e3,3e3],We.Array],server:[null,We.SERVER_API],labelDecimalSeparator:[He(),We.STRING],labelThousandsSeparator:[ze(),We.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',We.STRING],labelInvalidField:["Field contains invalid files",We.STRING],labelFileWaitingForSize:["Waiting for size",We.STRING],labelFileSizeNotAvailable:["Size not available",We.STRING],labelFileCountSingular:["file in list",We.STRING],labelFileCountPlural:["files in list",We.STRING],labelFileLoading:["Loading",We.STRING],labelFileAdded:["Added",We.STRING],labelFileLoadError:["Error during load",We.STRING],labelFileRemoved:["Removed",We.STRING],labelFileRemoveError:["Error during remove",We.STRING],labelFileProcessing:["Uploading",We.STRING],labelFileProcessingComplete:["Upload complete",We.STRING],labelFileProcessingAborted:["Upload cancelled",We.STRING],labelFileProcessingError:["Error during upload",We.STRING],labelFileProcessingRevertError:["Error during revert",We.STRING],labelTapToCancel:["tap to cancel",We.STRING],labelTapToRetry:["tap to retry",We.STRING],labelTapToUndo:["tap to undo",We.STRING],labelButtonRemoveItem:["Remove",We.STRING],labelButtonAbortItemLoad:["Abort",We.STRING],labelButtonRetryItemLoad:["Retry",We.STRING],labelButtonAbortItemProcessing:["Cancel",We.STRING],labelButtonUndoItemProcessing:["Undo",We.STRING],labelButtonRetryItemProcessing:["Retry",We.STRING],labelButtonProcessItem:["Upload",We.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',We.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',We.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',We.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',We.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',We.STRING],oninit:[null,We.FUNCTION],onwarning:[null,We.FUNCTION],onerror:[null,We.FUNCTION],onactivatefile:[null,We.FUNCTION],oninitfile:[null,We.FUNCTION],onaddfilestart:[null,We.FUNCTION],onaddfileprogress:[null,We.FUNCTION],onaddfile:[null,We.FUNCTION],onprocessfilestart:[null,We.FUNCTION],onprocessfileprogress:[null,We.FUNCTION],onprocessfileabort:[null,We.FUNCTION],onprocessfilerevert:[null,We.FUNCTION],onprocessfile:[null,We.FUNCTION],onprocessfiles:[null,We.FUNCTION],onremovefile:[null,We.FUNCTION],onpreparefile:[null,We.FUNCTION],onupdatefiles:[null,We.FUNCTION],onreorderfiles:[null,We.FUNCTION],beforeDropFile:[null,We.FUNCTION],beforeAddFile:[null,We.FUNCTION],beforeRemoveFile:[null,We.FUNCTION],stylePanelLayout:[null,We.STRING],stylePanelAspectRatio:[null,We.STRING],styleItemPanelAspectRatio:[null,We.STRING],styleButtonRemoveItemPosition:["left",We.STRING],styleButtonProcessItemPosition:["right",We.STRING],styleLoadIndicatorPosition:["right",We.STRING],styleProgressIndicatorPosition:["right",We.STRING],styleButtonRemoveItemAlign:[!1,We.BOOLEAN],files:[[],We.ARRAY]},it=function(e,t){return z(t)?e[0]||null:ie(t)?e[t]||null:("object"===typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},rt=function(e){if(z(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},ot=function(e){return e.filter((function(e){return!e.archived}))},at={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},st=[$e.LOAD_ERROR,$e.PROCESSING_ERROR,$e.PROCESSING_REVERT_ERROR],lt=[$e.LOADING,$e.PROCESSING,$e.PROCESSING_QUEUED,$e.INIT],ct=[$e.PROCESSING_COMPLETE],ut=function(e){return st.includes(e.status)},dt=function(e){return lt.includes(e.status)},ft=function(e){return ct.includes(e.status)},ht=function(e){return{GET_STATUS:function(){var t=ot(e.items),n=at.EMPTY,i=at.ERROR,r=at.BUSY,o=at.IDLE,a=at.READY;return 0===t.length?n:t.some(ut)?i:t.some(dt)?r:t.some(ft)?a:o},GET_ITEM:function(t){return it(e.items,t)},GET_ACTIVE_ITEM:function(t){return it(ot(e.items),t)},GET_ACTIVE_ITEMS:function(){return ot(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=it(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=it(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_PANEL_ASPECT_RATIO:function(){var t=/circle/.test(e.options.stylePanelLayout),n=t?1:rt(e.options.stylePanelAspectRatio);return n},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return ot(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return ot(e.items).length},IS_ASYNC:function(){return fe(e.options.server)&&(fe(e.options.server.process)||oe(e.options.server.process))}}},pt=function(e){var t=ot(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n},mt=function(e,t,n){return Math.max(Math.min(n,e),t)},gt=function(e,t,n){return e.splice(t,0,n)},vt=function(e,t,n){return z(t)?null:"undefined"===typeof n?(e.push(t),t):(n=mt(n,0,e.length),gt(e,n,t),t)},Et=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},It=function(e){return e.split("/").pop().split("?").shift()},_t=function(e){return e.split(".").pop()},Tt=function(e){if("string"!==typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+yt(e.getMonth()+1,"00")+"-"+yt(e.getDate(),"00")+"_"+yt(e.getHours(),"00")+"-"+yt(e.getMinutes(),"00")+"-"+yt(e.getSeconds(),"00")},Rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="string"===typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return r.lastModifiedDate=new Date,e._relativePath&&(r._relativePath=e._relativePath),J(t)||(t=Ot()),t&&null===i&&_t(t)?r.name=t:(i=i||Tt(r.type),r.name=t+(i?"."+i:"")),r},St=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},Dt=function(e,t){var n=St();if(n){var i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},bt=function(e,t){for(var n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return Dt(n,t)},At=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},wt=function(e){var t=e.split(",")[1];return t.replace(/\s/g,"")},Ct=function(e){return atob(wt(e))},Mt=function(e){var t=At(e),n=Ct(e);return bt(n,t)},Pt=function(e,t,n){return Rt(Mt(e),t,null,n)},Lt=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return t.length?decodeURI(t[t.length-1]):null},xt=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Nt=function(e){if(/x-content-transfer-id:/i.test(e)){var t=(e.split(":")[1]||"").trim();return t||null}return null},Gt=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=Lt(l);if(c)t.name=c;else{var u=xt(l);if(u)t.size=u;else{var d=Nt(l);d&&(t.source=d)}}}}catch(f){r=!0,o=f}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return t},Vt=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(){return t.progress},i=function(){t.request&&t.request.abort&&t.request.abort()},r=function(){var e=t.source;a.fire("init",e),e instanceof File?a.fire("load",e):e instanceof Blob?a.fire("load",Rt(e,e.name)):Et(e)?a.fire("load",Pt(e)):o(e)},o=function(n){e?(t.timestamp=Date.now(),t.request=e(n,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=Rt(e,e.name||It(n))),a.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){a.fire("error","string"===typeof e?{type:"error",code:0,body:e}:e)}),(function(e,n,i){i&&(t.size=i),t.duration=Date.now()-t.timestamp,e?(t.progress=n/i,a.fire("progress",t.progress)):t.progress=null}),(function(){a.fire("abort")}),(function(e){var n=Gt("string"===typeof e?e:e.headers);a.fire("meta",{size:t.size||n.size,filename:n.name,source:n.source})}))):a.fire("error",{type:"error",body:"Can't load URL",code:400})},a=Object.assign({},ke(),{setSource:function(e){return t.source=e},getProgress:n,abort:i,load:r});return a},kt=function(e){return/GET|HEAD/.test(e)},Bt=function(e,t,n){var i={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){r=!0,a.abort()}},r=!1,o=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),t=encodeURI(t),kt(n.method)&&e&&(t=""+t+encodeURIComponent("string"===typeof e?e:JSON.stringify(e)));var a=new XMLHttpRequest,s=kt(n.method)?a:a.upload;return s.onprogress=function(e){r||i.onprogress(e.lengthComputable,e.loaded,e.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||o||(o=!0,i.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?i.onload(a):i.onerror(a)},a.onerror=function(){return i.onerror(a)},a.onabort=function(){r=!0,i.onabort()},a.ontimeout=function(){return i.ontimeout(a)},a.open(n.method,t,!0),ie(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));a.setRequestHeader(e,t)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(e),i},Ft=function(e,t,n,i){return{type:e,code:t,body:n,headers:i}},Ut=function(e){return function(t){e(Ft("error",0,"Timeout",t.getAllResponseHeaders()))}},qt=function(e){return/\?/.test(e)},$t=function(){for(var e="",t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e+=qt(e)&&qt(t)?t.replace(/\?/,"&"):t})),e},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"===typeof t)return t;if(!t||!J(t.url))return null;var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(r,o,a,s,l,c){var u=Bt(r,$t(e,t.url),Object.assign({},t,{responseType:"blob"}));return u.onload=function(e){var i=e.getAllResponseHeaders(),a=Gt(i).name||It(r);o(Ft("load",e.status,"HEAD"===t.method?null:Rt(n(e.response),a),i))},u.onerror=function(e){a(Ft("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},u.onheaders=function(e){c(Ft("headers",e.status,null,e.getAllResponseHeaders()))},u.ontimeout=Ut(a),u.onprogress=s,u.onabort=l,u}},Yt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Ht=function(e,t,n,i,r,o,a,s,l,c,u){for(var d=[],f=u.chunkTransferId,h=u.chunkServer,p=u.chunkSize,m=u.chunkRetryDelays,g={serverId:f,aborted:!1},v=t.ondata||function(e){return e},E=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},I=t.onerror||function(e){return null},_=function(o){var s=new FormData;fe(r)&&s.append(n,JSON.stringify(r));var l="function"===typeof t.headers?t.headers(i,r):Object.assign({},t.headers,{"Upload-Length":i.size}),c=Object.assign({},t,{headers:l}),u=Bt(v(s),$t(e,t.url),c);u.onload=function(e){return o(E(e,c.method))},u.onerror=function(e){return a(Ft("error",e.status,I(e.response)||e.statusText,e.getAllResponseHeaders()))},u.ontimeout=Ut(a)},T=function(n){var i=$t(e,h.url,g.serverId),r="function"===typeof t.headers?t.headers(g.serverId):Object.assign({},t.headers),o={headers:r,method:"HEAD"},s=Bt(null,i,o);s.onload=function(e){return n(E(e,o.method))},s.onerror=function(e){return a(Ft("error",e.status,I(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=Ut(a)},y=Math.floor(i.size/p),O=0;O<=y;O++){var R=O*p,S=i.slice(R,R+p,"application/offset+octet-stream");d[O]={index:O,size:S.size,offset:R,data:S,file:i,progress:0,retries:Pe(m),status:Yt.QUEUED,error:null,request:null,timeout:null}}var D=function(){return o(g.serverId)},b=function(e){return e.status===Yt.QUEUED||e.status===Yt.ERROR},A=function(t){if(!g.aborted)if(t=t||d.find(b),t){t.status=Yt.PROCESSING,t.progress=null;var n=h.ondata||function(e){return e},r=h.onerror||function(e){return null},o=$t(e,h.url,g.serverId),s="function"===typeof h.headers?h.headers(t):Object.assign({},h.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":i.size,"Upload-Name":i.name}),c=t.request=Bt(n(t.data),o,Object.assign({},h,{headers:s}));c.onload=function(){t.status=Yt.COMPLETE,t.request=null,M()},c.onprogress=function(e,n,i){t.progress=e?n:null,C()},c.onerror=function(e){t.status=Yt.ERROR,t.request=null,t.error=r(e.response)||e.statusText,w(t)||a(Ft("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},c.ontimeout=function(e){t.status=Yt.ERROR,t.request=null,w(t)||Ut(a)(e)},c.onabort=function(){t.status=Yt.QUEUED,t.request=null,l()}}else d.every((function(e){return e.status===Yt.COMPLETE}))&&D()},w=function(e){return 0!==e.retries.length&&(e.status=Yt.WAITING,clearTimeout(e.timeout),e.timeout=setTimeout((function(){A(e)}),e.retries.shift()),!0)},C=function(){var e=d.reduce((function(e,t){return null===e||null===t.progress?null:e+t.progress}),0);if(null===e)return s(!1,0,0);var t=d.reduce((function(e,t){return e+t.size}),0);s(!0,e,t)},M=function(){var e=d.filter((function(e){return e.status===Yt.PROCESSING})).length;e>=1||A()},P=function(){d.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))};return g.serverId?T((function(e){g.aborted||(d.filter((function(t){return t.offset<e})).forEach((function(e){e.status=Yt.COMPLETE,e.progress=e.size})),M())})):_((function(e){g.aborted||(c(e),g.serverId=e,M())})),{abort:function(){g.aborted=!0,P()}}},zt=function(e,t,n,i){return function(r,o,a,s,l,c,u){if(r){var d=i.chunkUploads,f=d&&r.size>i.chunkSize,h=d&&(f||i.chunkForce);if(r instanceof Blob&&h)return Ht(e,t,n,r,o,a,s,l,c,u,i);var p=t.ondata||function(e){return e},m=t.onload||function(e){return e},g=t.onerror||function(e){return null},v=new FormData;fe(o)&&v.append(n,JSON.stringify(o)),(r instanceof Blob?[{name:null,file:r}]:r).forEach((function(e){v.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var E=Bt(p(v),$t(e,t.url),t);return E.onload=function(e){a(Ft("load",e.status,m(e.response),e.getAllResponseHeaders()))},E.onerror=function(e){s(Ft("error",e.status,g(e.response)||e.statusText,e.getAllResponseHeaders()))},E.ontimeout=Ut(s),E.onprogress=l,E.onabort=c,E}}},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return"function"===typeof t?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(void 0,[n].concat(r,[i]))}:t&&J(t.url)?zt(e,t,n,i):null},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"===typeof t)return t;if(!t||!J(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(r,o,a){var s=Bt(r,e+t.url,t);return s.onload=function(e){o(Ft("load",e.status,n(e.response),e.getAllResponseHeaders()))},s.onerror=function(e){a(Ft("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=Ut(a),s}},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},Qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,r=null,o=Date.now(),a=function a(){var s=Date.now()-o,l=Kt(n,i);s+l>t&&(l=s+l-t);var c=s/t;c>=1||document.hidden?e(1):(e(c),r=setTimeout(a,l))};return a(),{clear:function(){clearTimeout(r)}}},Zt=function(e){var t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=function(n,i){var r=function(){0!==t.duration&&null!==t.progress&&s.fire("progress",s.getProgress())},o=function(){t.complete=!0,s.fire("load-perceived",t.response.body)};s.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=Qt((function(e){t.perceivedProgress=e,t.perceivedDuration=Date.now()-t.timestamp,r(),t.response&&1===t.perceivedProgress&&!t.complete&&o()}),Kt(750,1500)),t.request=e(n,i,(function(e){t.response=fe(e)?e:{type:"load",code:200,body:""+e,headers:{}},t.duration=Date.now()-t.timestamp,t.progress=1,s.fire("load",t.response.body),1===t.perceivedProgress&&o()}),(function(e){t.perceivedPerformanceUpdater.clear(),s.fire("error",fe(e)?e:{type:"error",code:0,body:""+e})}),(function(e,n,i){t.duration=Date.now()-t.timestamp,t.progress=e?n/i:null,r()}),(function(){t.perceivedPerformanceUpdater.clear(),s.fire("abort",t.response?t.response.body:null)}),(function(e){s.fire("transfer",e)}))},i=function(){t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort&&t.request.abort(),t.complete=!0)},r=function(){i(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null},o=function(){return t.progress?Math.min(t.progress,t.perceivedProgress):null},a=function(){return Math.min(t.duration,t.perceivedDuration)},s=Object.assign({},ke(),{process:n,abort:i,getProgress:o,getDuration:a,reset:r});return s},Jt=function(e){return e.substr(0,e.lastIndexOf("."))||e},en=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||Et(e)?t[0]=e.name||Ot():Et(e)?(t[1]=e.length,t[2]=At(e)):J(e)&&(t[0]=It(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},tn=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},nn=function e(t){if(!fe(t))return t;var n=H(t)?[]:{};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];n[i]=r&&fe(r)?e(r):r}return n},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=be(),r={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?$e.PROCESSING_COMPLETE:$e.INIT,activeLoader:null,activeProcessor:null},a=null,s={},l=function(e){return r.status=e},c=function(e){if(!r.released&&!r.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];O.fire.apply(O,[e].concat(n))}},u=function(){return _t(r.file.name)},d=function(){return r.file.type},f=function(){return r.file.size},h=function(){return r.file},p=function(t,n,i){r.source=t,O.fireSync("init"),r.file?O.fireSync("load-skip"):(r.file=en(t),n.on("init",(function(){c("load-init")})),n.on("meta",(function(t){r.file.size=t.size,r.file.filename=t.filename,t.source&&(e=je.LIMBO,r.serverFileReference=t.source,r.status=$e.PROCESSING_COMPLETE),c("load-meta")})),n.on("progress",(function(e){l($e.LOADING),c("load-progress",e)})),n.on("error",(function(e){l($e.LOAD_ERROR),c("load-request-error",e)})),n.on("abort",(function(){l($e.INIT),c("load-abort")})),n.on("load",(function(t){r.activeLoader=null;var n=function(t){r.file=tn(t)?t:r.file,e===je.LIMBO&&r.serverFileReference?l($e.PROCESSING_COMPLETE):l($e.IDLE),c("load")},o=function(e){r.file=t,c("load-meta"),l($e.LOAD_ERROR),c("load-file-error",e)};r.serverFileReference?n(t):i(t,n,o)})),n.setSource(t),r.activeLoader=n,n.load())},m=function(){r.activeLoader&&r.activeLoader.load()},g=function(){r.activeLoader?r.activeLoader.abort():(l($e.INIT),c("load-abort"))},v=function e(t,n){if(r.processingAborted)r.processingAborted=!1;else if(l($e.PROCESSING),a=null,r.file instanceof Blob){t.on("load",(function(e){r.transferId=null,r.serverFileReference=e})),t.on("transfer",(function(e){r.transferId=e})),t.on("load-perceived",(function(e){r.activeProcessor=null,r.transferId=null,r.serverFileReference=e,l($e.PROCESSING_COMPLETE),c("process-complete",e)})),t.on("start",(function(){c("process-start")})),t.on("error",(function(e){r.activeProcessor=null,l($e.PROCESSING_ERROR),c("process-error",e)})),t.on("abort",(function(e){r.activeProcessor=null,r.transferId=null,r.serverFileReference=e,l($e.IDLE),c("process-abort"),a&&a()})),t.on("progress",(function(e){c("process-progress",e)}));var i=function(e){r.archived||t.process(e,Object.assign({},s))},o=console.error;n(r.file,i,o),r.activeProcessor=t}else O.on("load",(function(){e(t,n)}))},E=function(){r.processingAborted=!1,l($e.PROCESSING_QUEUED)},I=function(){return new Promise((function(e){if(!r.activeProcessor)return r.processingAborted=!0,l($e.IDLE),c("process-abort"),void e();a=function(){e()},r.activeProcessor.abort()}))},_=function(e,t){return new Promise((function(n,i){null!==r.serverFileReference?(e(r.serverFileReference,(function(){r.serverFileReference=null,n()}),(function(e){t?(l($e.PROCESSING_REVERT_ERROR),c("process-revert-error"),i(e)):n()})),l($e.IDLE),c("process-revert")):n()}))},T=function(e,t,n){var i=e.split("."),r=i[0],o=i.pop(),a=s;i.forEach((function(e){return a=a[e]})),JSON.stringify(a[o])!==JSON.stringify(t)&&(a[o]=t,n||c("metadata-update",{key:r,value:s[r]}))},y=function(e){return nn(e?s[e]:s)},O=Object.assign({id:{get:function(){return i}},origin:{get:function(){return e}},serverId:{get:function(){return r.serverFileReference}},transferId:{get:function(){return r.transferId}},status:{get:function(){return r.status}},filename:{get:function(){return r.file.name}},filenameWithoutExtension:{get:function(){return Jt(r.file.name)}},fileExtension:{get:u},fileType:{get:d},fileSize:{get:f},file:{get:h},relativePath:{get:function(){return r.file._relativePath}},source:{get:function(){return r.source}},getMetadata:y,setMetadata:function(e,t,n){if(fe(e)){var i=e;return Object.keys(i).forEach((function(e){T(e,i[e],t)})),e}return T(e,t,n),t},extend:function(e,t){return R[e]=t},abortLoad:g,retryLoad:m,requestProcessing:E,abortProcessing:I,load:p,process:v,revert:_},ke(),{freeze:function(){return r.frozen=!0},release:function(){return r.released=!0},released:{get:function(){return r.released}},archive:function(){return r.archived=!0},archived:{get:function(){return r.archived}}}),R=o(O);return R},on=function(e,t){return z(t)?0:J(t)?e.findIndex((function(e){return e.id===t})):-1},an=function(e,t){var n=on(e,t);if(!(n<0))return e[n]||null},sn=function(e,t,n,i,r,o){var a=Bt(null,e,{method:"GET",responseType:"blob"});return a.onload=function(n){var i=n.getAllResponseHeaders(),r=Gt(i).name||It(e);t(Ft("load",n.status,Rt(n.response,r),i))},a.onerror=function(e){n(Ft("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){o(Ft("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=Ut(n),a.onprogress=i,a.onabort=r,a},ln=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},cn=function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&ln(location.href)!==ln(e)},un=function(e){return function(){return oe(e)?e.apply(void 0,arguments):e}},dn=function(e){return!tn(e.file)},fn=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:ot(t.items)})}),0)},hn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((function(t){if(!e)return t(!0);var i=e.apply(void 0,n);return null==i?t(!0):"boolean"===typeof i?t(i):void("function"===typeof i.then&&i.then(t))}))},pn=function(e,t){e.items.sort((function(e,n){return t(Ue(e),Ue(n))}))},mn=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.query,r=n.success,o=void 0===r?function(){}:r,a=n.failure,s=void 0===a?function(){}:a,l=Me(n,["query","success","failure"]),c=it(e.items,i);c?t(c,o,s,l||{}):s({error:Ft("error",0,"Item not found"),file:null})}},gn=function(e,t,n){return{ABORT_ALL:function(){ot(n.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(t){var i=t.value,r=void 0===i?[]:i,o=r.map((function(e){return{source:e.source?e.source:e,options:e.options}})),a=ot(n.items);a.forEach((function(t){o.find((function(e){return e.source===t.source||e.source===t.file}))||e("REMOVE_ITEM",{query:t,remove:!1})})),a=ot(n.items),o.forEach((function(t,n){a.find((function(e){return e.source===t.source||e.file===t.source}))||e("ADD_ITEM",Object.assign({},t,{interactionMethod:De.NONE,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(i){var r=i.id;clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var i=an(n.items,r);if(t("IS_ASYNC")){var o=function(){setTimeout((function(){e("REQUEST_ITEM_PROCESSING",{query:r})}),32)},a=function(e){i.revert(Xt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(e?o:function(){}).catch((function(){}))},s=function(e){i.abortProcessing().then(e?o:function(){})};return i.status===$e.PROCESSING_COMPLETE?a(n.options.instantUpload):i.status===$e.PROCESSING?s(n.options.instantUpload):void(n.options.instantUpload&&o())}Ke("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:t}).then((function(t){t&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:i,success:function(t){e("DID_PREPARE_OUTPUT",{id:r,file:t})}},!0)}))}),0)},MOVE_ITEM:function(e){var t=e.query,i=e.index,r=it(n.items,t);if(r){var o=n.items.indexOf(r);i=mt(i,0,n.items.length-1),o!==i&&n.items.splice(i,0,n.items.splice(o,1)[0])}},SORT:function(i){var r=i.compare;pn(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var i=n.items,r=n.index,o=n.interactionMethod,a=n.success,s=void 0===a?function(){}:a,l=n.failure,c=void 0===l?function(){}:l,u=r;if(-1===r||"undefined"===typeof r){var d=t("GET_ITEM_INSERT_LOCATION"),f=t("GET_TOTAL_ITEMS");u="before"===d?0:f}var h=t("GET_IGNORED_FILES"),p=function(e){return tn(e)?!h.includes(e.name.toLowerCase()):!z(e)},m=i.filter(p),g=m.map((function(t){return new Promise((function(n,i){e("ADD_ITEM",{interactionMethod:o,source:t.source||t,success:n,failure:i,index:u++,options:t.options||{}})}))}));Promise.all(g).then(s).catch(c)},ADD_ITEM:function(i){var r=i.source,o=i.index,a=void 0===o?-1:o,s=i.interactionMethod,l=i.success,c=void 0===l?function(){}:l,u=i.failure,d=void 0===u?function(){}:u,f=i.options,h=void 0===f?{}:f;if(z(r))d({error:Ft("error",0,"No source"),file:null});else if(!tn(r)||!n.options.ignoredFiles.includes(r.name.toLowerCase())){if(!pt(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var p=Ft("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:r,error:p}),void d({error:p,file:null})}var m=ot(n.items)[0];if(m.status===$e.PROCESSING_COMPLETE||m.status===$e.PROCESSING_REVERT_ERROR){var g=t("GET_FORCE_REVERT");if(m.revert(Xt(n.options.server.url,n.options.server.revert),g).then((function(){g&&e("ADD_ITEM",{source:r,index:a,interactionMethod:s,success:c,failure:d,options:h})})).catch((function(){})),g)return}e("REMOVE_ITEM",{query:m.id})}var v="local"===h.type?je.LOCAL:"limbo"===h.type?je.LIMBO:je.INPUT,E=rn(v,v===je.INPUT?null:r,h.file);Object.keys(h.metadata||{}).forEach((function(e){E.setMetadata(e,h.metadata[e])})),Qe("DID_CREATE_ITEM",E,{query:t,dispatch:e});var I=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(a="before"===I?-1:n.items.length),vt(n.items,E,a),oe(I)&&r&&pn(n,I);var _=E.id;E.on("init",(function(){e("DID_INIT_ITEM",{id:_})})),E.on("load-init",(function(){e("DID_START_ITEM_LOAD",{id:_})})),E.on("load-meta",(function(){e("DID_UPDATE_ITEM_META",{id:_})})),E.on("load-progress",(function(t){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:_,progress:t})})),E.on("load-request-error",(function(t){var i=un(n.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:_,error:t,status:{main:i,sub:t.code+" ("+t.body+")"}}),void d({error:t,file:Ue(E)});e("DID_THROW_ITEM_LOAD_ERROR",{id:_,error:t,status:{main:i,sub:n.options.labelTapToRetry}})})),E.on("load-file-error",(function(t){e("DID_THROW_ITEM_INVALID",{id:_,error:t.status,status:t.status}),d({error:t.status,file:Ue(E)})})),E.on("load-abort",(function(){e("REMOVE_ITEM",{query:_})})),E.on("load-skip",(function(){e("COMPLETE_LOAD_ITEM",{query:_,item:E,data:{source:r,success:c}})})),E.on("load",(function(){var i=function(i){i?(E.on("metadata-update",(function(t){e("DID_UPDATE_ITEM_METADATA",{id:_,change:t})})),Ke("SHOULD_PREPARE_OUTPUT",!1,{item:E,query:t}).then((function(t){var i=function(){e("COMPLETE_LOAD_ITEM",{query:_,item:E,data:{source:r,success:c}}),fn(e,n)};t?e("REQUEST_PREPARE_OUTPUT",{query:_,item:E,success:function(t){e("DID_PREPARE_OUTPUT",{id:_,file:t}),i()}},!0):i()}))):e("REMOVE_ITEM",{query:_})};Ke("DID_LOAD_ITEM",E,{query:t,dispatch:e}).then((function(){hn(t("GET_BEFORE_ADD_FILE"),Ue(E)).then(i)})).catch((function(){i(!1)}))})),E.on("process-start",(function(){e("DID_START_ITEM_PROCESSING",{id:_})})),E.on("process-progress",(function(t){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:_,progress:t})})),E.on("process-error",(function(t){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:_,error:t,status:{main:un(n.options.labelFileProcessingError)(t),sub:n.options.labelTapToRetry}})})),E.on("process-revert-error",(function(t){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:_,error:t,status:{main:un(n.options.labelFileProcessingRevertError)(t),sub:n.options.labelTapToRetry}})})),E.on("process-complete",(function(t){e("DID_COMPLETE_ITEM_PROCESSING",{id:_,error:null,serverFileReference:t}),e("DID_DEFINE_VALUE",{id:_,value:t})})),E.on("process-abort",(function(){e("DID_ABORT_ITEM_PROCESSING",{id:_})})),E.on("process-revert",(function(){e("DID_REVERT_ITEM_PROCESSING",{id:_}),e("DID_DEFINE_VALUE",{id:_,value:null})})),e("DID_ADD_ITEM",{id:_,index:a,interactionMethod:s}),fn(e,n);var T=n.options.server||{},y=T.url,O=T.load,R=T.restore,S=T.fetch;E.load(r,Vt(v===je.INPUT?J(r)&&cn(r)&&S?jt(y,S):sn:v===je.LIMBO?jt(y,R):jt(y,O)),(function(e,n,i){Ke("LOAD_FILE",e,{query:t}).then(n).catch(i)}))}},REQUEST_PREPARE_OUTPUT:function(e){var n=e.item,i=e.success,r=e.failure,o=void 0===r?function(){}:r,a={error:Ft("error",0,"Item not found"),file:null};if(n.archived)return o(a);Ke("PREPARE_OUTPUT",n.file,{query:t,item:n}).then((function(e){Ke("COMPLETE_PREPARE_OUTPUT",e,{query:t,item:n}).then((function(e){if(n.archived)return o(a);i(e)}))}))},COMPLETE_LOAD_ITEM:function(i){var r=i.item,o=i.data,a=o.success,s=o.source,l=t("GET_ITEM_INSERT_LOCATION");if(oe(l)&&s&&pn(n,l),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===je.INPUT?null:s}),a(Ue(r)),r.origin!==je.LOCAL)return r.origin===je.LIMBO?(e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),void e("DID_DEFINE_VALUE",{id:r.id,value:s})):void(t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id}));e("DID_LOAD_LOCAL_ITEM",{id:r.id})},RETRY_ITEM_LOAD:mn(n,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:mn(n,(function(t,n,i){e("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:function(i){e("DID_PREPARE_OUTPUT",{id:t.id,file:i}),n({file:t,output:i})},failure:i},!0)})),REQUEST_ITEM_PROCESSING:mn(n,(function(i,r,o){var a=i.status===$e.IDLE||i.status===$e.PROCESSING_ERROR;if(a)i.status!==$e.PROCESSING_QUEUED&&(i.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:i.id}),e("PROCESS_ITEM",{query:i,success:r,failure:o},!0));else{var s=function(){return e("REQUEST_ITEM_PROCESSING",{query:i,success:r,failure:o})},l=function(){return document.hidden?s():setTimeout(s,32)};i.status===$e.PROCESSING_COMPLETE||i.status===$e.PROCESSING_REVERT_ERROR?i.revert(Xt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch((function(){})):i.status===$e.PROCESSING&&i.abortProcessing().then(l)}})),PROCESS_ITEM:mn(n,(function(i,r,o){var a=t("GET_MAX_PARALLEL_UPLOADS"),s=t("GET_ITEMS_BY_STATUS",$e.PROCESSING).length;if(s!==a){if(i.status!==$e.PROCESSING){var l=function t(){var i=n.processingQueue.shift();if(i){var r=i.id,o=i.success,a=i.failure,s=it(n.items,r);s&&!s.archived?e("PROCESS_ITEM",{query:r,success:o,failure:a},!0):t()}};i.onOnce("process-complete",(function(){r(Ue(i)),l();var o=t("GET_ITEMS_BY_STATUS",$e.PROCESSING_COMPLETE).length===n.items.length;o&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")})),i.onOnce("process-error",(function(e){o({error:e,file:Ue(i)}),l()}));var c=n.options;i.process(Zt(Wt(c.server.url,c.server.process,c.name,{chunkTransferId:i.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays})),(function(n,r,o){Ke("PREPARE_OUTPUT",n,{query:t,item:i}).then((function(t){e("DID_PREPARE_OUTPUT",{id:i.id,file:t}),r(t)})).catch(o)}))}}else n.processingQueue.push({id:i.id,success:r,failure:o})})),RETRY_ITEM_PROCESSING:mn(n,(function(t){e("REQUEST_ITEM_PROCESSING",{query:t})})),REQUEST_REMOVE_ITEM:mn(n,(function(n){hn(t("GET_BEFORE_REMOVE_FILE"),Ue(n)).then((function(t){t&&e("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:mn(n,(function(e){e.release()})),REMOVE_ITEM:mn(n,(function(i,r,o,a){var s=function(){var t=i.id;an(n.items,t).archive(),e("DID_REMOVE_ITEM",{error:null,id:t,item:i}),fn(e,n),r(Ue(i))},l=n.options.server;i.origin===je.LOCAL&&l&&oe(l.remove)&&!1!==a.remove?(e("DID_START_ITEM_REMOVE",{id:i.id}),l.remove(i.source,(function(){return s()}),(function(t){e("DID_THROW_ITEM_REMOVE_ERROR",{id:i.id,error:Ft("error",0,t,null),status:{main:un(n.options.labelFileRemoveError)(t),sub:n.options.labelTapToRetry}})}))):(a.revert&&i.origin!==je.LOCAL&&null!==i.serverId&&i.revert(Xt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),s())})),ABORT_ITEM_LOAD:mn(n,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:mn(n,(function(t){t.serverId?e("REVERT_ITEM_PROCESSING",{id:t.id}):t.abortProcessing().then((function(){var i=n.options.instantUpload;i&&e("REMOVE_ITEM",{query:t.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:mn(n,(function(i){if(n.options.instantUpload){var r=function(t){t&&e("REVERT_ITEM_PROCESSING",{query:i})},o=t("GET_BEFORE_REMOVE_FILE");if(!o)return r(!0);var a=o(Ue(i));return null==a?r(!0):"boolean"===typeof a?r(a):void("function"===typeof a.then&&a.then(r))}e("REVERT_ITEM_PROCESSING",{query:i})})),REVERT_ITEM_PROCESSING:mn(n,(function(i){i.revert(Xt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then((function(){var t=n.options.instantUpload||dn(i);t&&e("REMOVE_ITEM",{query:i.id})})).catch((function(){}))})),SET_OPTIONS:function(t){var n=t.options;r(n,(function(t,n){e("SET_"+ye(t,"_").toUpperCase(),{value:n})}))}}},vn=function(e){return e},En=function(e){return document.createElement(e)},In=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},_n=function(e,t,n,i){var r=(i%360-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},Tn=function(e,t,n,i,r,o){var a=_n(e,t,n,r),s=_n(e,t,n,i);return["M",a.x,a.y,"A",n,n,0,o,0,s.x,s.y].join(" ")},yn=function(e,t,n,i,r){var o=1;return r>i&&r-i<=.5&&(o=0),i>r&&i-r>=.5&&(o=0),Tn(e,t,n,360*Math.min(.9999,i),360*Math.min(.9999,r),o)},On=function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var i=u("svg");t.ref.path=u("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(t.ref.path),t.ref.svg=i,t.appendChild(i)},Rn=function(e){var t=e.root,n=e.props;if(0!==n.opacity){n.align&&(t.element.dataset.align=n.align);var i=parseInt(a(t.ref.path,"stroke-width"),10),r=.5*t.rect.element.width,o=0,s=0;n.spin?(o=0,s=.5):(o=0,s=n.progress);var l=yn(r,r,r-i,o,s);a(t.ref.path,"d",l),a(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},Sn=U({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:On,write:Rn,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Dn=function(e){var t=e.root,n=e.props;t.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},bn=function(e){var t=e.root,n=e.props,i=n.isDisabled,r=t.query("GET_DISABLED")||0===n.opacity;r&&!i?(n.isDisabled=!0,a(t.element,"disabled","disabled")):!r&&i&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))},An=U({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Dn,write:bn}),wn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return e=Math.round(Math.abs(e)),e<1e3?e+" bytes":e<Mn?Math.floor(e/Cn)+" KB":e<Pn?Ln(e/Mn,1,t)+" MB":Ln(e/Pn,2,t)+" GB"},Cn=1e3,Mn=1e6,Pn=1e9,Ln=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},xn=function(e){var t=e.root,n=e.props,i=En("span");i.className="filepond--file-info-main",a(i,"aria-hidden","true"),t.appendChild(i),t.ref.fileName=i;var r=En("span");r.className="filepond--file-info-sub",t.appendChild(r),t.ref.fileSize=r,In(r,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),In(i,vn(t.query("GET_ITEM_NAME",n.id)))},Nn=function(e){var t=e.root,n=e.props;In(t.ref.fileSize,wn(t.query("GET_ITEM_SIZE",n.id))),In(t.ref.fileName,vn(t.query("GET_ITEM_NAME",n.id)))},Gn=function(e){var t=e.root,n=e.props;ie(t.query("GET_ITEM_SIZE",n.id))||In(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Vn=U({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:$({DID_LOAD_ITEM:Nn,DID_UPDATE_ITEM_META:Nn,DID_THROW_ITEM_LOAD_ERROR:Gn,DID_THROW_ITEM_INVALID:Gn}),didCreateView:function(e){Qe("CREATE_VIEW",Object.assign({},e,{view:e}))},create:xn,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),kn=function(e){return Math.round(100*e)},Bn=function(e){var t=e.root,n=En("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var i=En("span");i.className="filepond--file-status-sub",t.appendChild(i),t.ref.sub=i,Fn({root:t,action:{progress:null}})},Fn=function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+kn(n.progress)+"%";In(t.ref.main,i),In(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},Un=function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+kn(n.progress)+"%";In(t.ref.main,i),In(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},qn=function(e){var t=e.root;In(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),In(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},$n=function(e){var t=e.root;In(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),In(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},jn=function(e){var t=e.root;In(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),In(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},Yn=function(e){var t=e.root;In(t.ref.main,""),In(t.ref.sub,"")},Hn=function(e){var t=e.root,n=e.action;In(t.ref.main,n.status.main),In(t.ref.sub,n.status.sub)},zn=U({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:$({DID_LOAD_ITEM:Yn,DID_REVERT_ITEM_PROCESSING:Yn,DID_REQUEST_ITEM_PROCESSING:qn,DID_ABORT_ITEM_PROCESSING:$n,DID_COMPLETE_ITEM_PROCESSING:jn,DID_UPDATE_ITEM_PROCESS_PROGRESS:Un,DID_UPDATE_ITEM_LOAD_PROGRESS:Fn,DID_THROW_ITEM_LOAD_ERROR:Hn,DID_THROW_ITEM_INVALID:Hn,DID_THROW_ITEM_PROCESSING_ERROR:Hn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Hn,DID_THROW_ITEM_REMOVE_ERROR:Hn}),didCreateView:function(e){Qe("CREATE_VIEW",Object.assign({},e,{view:e}))},create:Bn,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Wn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Xn=[];r(Wn,(function(e){Xn.push(e)}));var Kn=function(e){var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},Qn=function(e){var t=e.ref.buttonAbortItemLoad.rect.element;return t.width},Zn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Jn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},ei=function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")},ti=function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},ni=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},ii={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:ei},processProgressIndicator:{opacity:0,align:ti},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},ri={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Kn},status:{translateX:Kn}},oi={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},ai={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Kn},status:{translateX:Kn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Kn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ni},info:{translateX:Kn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ni},buttonRemoveItem:{opacity:1},info:{translateX:Kn},status:{opacity:1,translateX:Kn}},DID_LOAD_ITEM:ri,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Kn},status:{translateX:Kn}},DID_START_ITEM_PROCESSING:oi,DID_REQUEST_ITEM_PROCESSING:oi,DID_UPDATE_ITEM_PROCESS_PROGRESS:oi,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Kn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Kn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:ri},si=U({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),li=function(e){var t,n=e.root,i=e.props,o=i.id,a=n.query("GET_ALLOW_REVERT"),s=n.query("GET_ALLOW_REMOVE"),l=n.query("GET_ALLOW_PROCESS"),c=n.query("GET_INSTANT_UPLOAD"),u=n.query("IS_ASYNC"),d=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");u?l&&!a?t=function(e){return!/RevertItemProcessing/.test(e)}:!l&&a?t=function(e){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e)}:l||a||(t=function(e){return!/Process/.test(e)}):t=function(e){return!/Process/.test(e)};var f=t?Xn.filter(t):Xn.concat();if(c&&a&&(Wn["RevertItemProcessing"].label="GET_LABEL_BUTTON_REMOVE_ITEM",Wn["RevertItemProcessing"].icon="GET_ICON_REMOVE"),u&&!a){var h=ai["DID_COMPLETE_ITEM_PROCESSING"];h.info.translateX=Jn,h.info.translateY=Zn,h.status.translateY=Zn,h.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(u&&!l&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){ai[e].status.translateY=Zn})),ai["DID_THROW_ITEM_PROCESSING_ERROR"].status.translateX=Qn),d&&a){Wn["RevertItemProcessing"].align="BUTTON_REMOVE_ITEM_POSITION";var p=ai["DID_COMPLETE_ITEM_PROCESSING"];p.info.translateX=Kn,p.status.translateY=Zn,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(Wn["RemoveItem"].disabled=!0),r(Wn,(function(e,t){var i=n.createChildView(An,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});f.includes(e)&&n.appendChildView(i),t.disabled&&(i.element.setAttribute("disabled","disabled"),i.element.setAttribute("hidden","hidden")),i.element.dataset.align=n.query("GET_STYLE_"+t.align),i.element.classList.add(t.className),i.on("click",(function(e){e.stopPropagation(),t.disabled||n.dispatch(t.action,{query:o})})),n.ref["button"+e]=i})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(si)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(Vn,{id:o})),n.ref.status=n.appendChildView(n.createChildView(zn,{id:o}));var m=n.appendChildView(n.createChildView(Sn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));m.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=m;var g=n.appendChildView(n.createChildView(Sn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));g.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=g,n.ref.activeStyles=[]},ci=function(e){var t=e.root,n=e.actions,i=e.props;ui({root:t,actions:n,props:i});var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return ai[e.type]}));if(o){t.ref.activeStyles=[];var a=ai[o.type];r(ii,(function(e,n){var i=t.ref[e];r(n,(function(n,r){var o=a[e]&&"undefined"!==typeof a[e][n]?a[e][n]:r;t.ref.activeStyles.push({control:i,key:n,value:o})}))}))}t.ref.activeStyles.forEach((function(e){var n=e.control,i=e.key,r=e.value;n[i]="function"===typeof r?r(t):r}))},ui=$({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),di=U({create:li,write:ci,didCreateView:function(e){Qe("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),fi=function(e){var t=e.root,n=e.props;t.ref.fileName=En("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(di,{id:n.id})),t.ref.data=!1},hi=function(e){var t=e.root,n=e.props;In(t.ref.fileName,vn(t.query("GET_ITEM_NAME",n.id)))},pi=U({create:fi,ignoreRect:!0,write:$({DID_LOAD_ITEM:hi}),didCreateView:function(e){Qe("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),mi={type:"spring",damping:.6,mass:7},gi=function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:mi},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:mi},styles:["translateY"]}}].forEach((function(e){vi(t,e,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},vi=function(e,t,n){var i=U({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins,ignoreRectUpdate:!0}),r=e.createChildView(i,t.props);e.ref[t.name]=e.appendChildView(r)},Ei=function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!Q(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var i=t.ref.top.rect.element,r=t.ref.bottom.rect.element,o=Math.max(i.height+r.height,n.height);t.ref.center.translateY=i.height,t.ref.center.scaleY=(o-i.height-r.height)/100,t.ref.bottom.translateY=o-r.height}},Ii=U({name:"panel",write:Ei,create:gi,ignoreRect:!0,mixins:{apis:["height","scalable"]}}),_i=function(e){var t=e.map((function(e){return e.id})),n=void 0;return{setIndex:function(e){n=e},getIndex:function(){return n},getItemIndex:function(e){return t.indexOf(e.id)}}},Ti={type:"spring",stiffness:.75,damping:.45,mass:10},yi="spring",Oi={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Ri=function(e){var t=e.root,n=e.props;if(t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(pi,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(Ii,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")){t.element.dataset.dragState="idle";var i=function(e){if(e.isPrimary){var i=!1,r={x:e.pageX,y:e.pageY};n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY};var o=_i(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:o});var a=function(e){if(e.isPrimary){e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-r.x,y:e.pageY-r.y};var a=n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y;a>16&&!i&&(i=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:o})}},s=function e(s){s.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",e),n.dragOffset={x:s.pageX-r.x,y:s.pageY-r.y},t.dispatch("DID_DROP_ITEM",{id:n.id,dragState:o}),i&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",s)}};t.element.addEventListener("pointerdown",i)}},Si=$({DID_UPDATE_PANEL_HEIGHT:function(e){var t=e.root,n=e.action;t.height=n.height}}),Di=$({DID_GRAB_ITEM:function(e){var t=e.root,n=e.props;n.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){var t=e.root;t.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,i=e.props,r=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return Oi[e.type]}));o&&o.type!==i.currentState&&(i.currentState=o.type,t.element.dataset.filepondItemState=Oi[i.currentState]||"");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");a?r||(t.height=t.rect.element.width*a):(Si({root:t,actions:n,props:i}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),r&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),bi=U({create:Ri,write:Di,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:yi,scaleY:yi,translateX:Ti,translateY:Ti,opacity:{type:"tween",duration:150}}}}),Ai=function(e,t,n){if(n){var i=e.rect.element.width,r=t.length,o=null;if(0===r||n.top<t[0].rect.element.top)return-1;var a=t[0],s=a.rect.element,l=s.marginLeft+s.marginRight,c=s.width+l,u=Math.round(i/c);if(1===u){for(var d=0;d<r;d++){var f=t[d],h=f.rect.outer.top+.5*f.rect.element.height;if(n.top<h)return d}return r}for(var p=s.marginTop+s.marginBottom,m=s.height+p,g=0;g<r;g++){var v=g%u,E=Math.floor(g/u),I=v*c,_=E*m,T=_-s.marginTop,y=I+c,O=_+m+s.marginBottom;if(n.top<O&&n.top>T){if(n.left<y)return g;o=g!==r-1?g:null}}return null!==o?o:r}},wi={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},Ci=function(e){var t=e.root;a(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},Mi=function(e){var t=e.root,n=e.action,i=n.id,r=n.index,o=n.interactionMethod;t.ref.addIndex=r;var a=Date.now(),s=a,l=1;if(o!==De.NONE){l=0;var c=t.query("GET_ITEM_INSERT_INTERVAL"),u=a-t.ref.lastItemSpanwDate;s=u<c?a+(c-u):a}t.ref.lastItemSpanwDate=s,t.appendChildView(t.createChildView(bi,{spawnDate:s,id:i,opacity:l,interactionMethod:o}),r)},Pi=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&Li(e,t,n,i,r),e.scaleX=1,e.scaleY=1,e.opacity=1))},Li=function(e,t,n,i,r){e.interactionMethod===De.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===De.DROP?(e.translateX=null,e.translateX=t-20*i,e.translateY=null,e.translateY=n-10*r,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===De.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===De.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},xi=function(e){var t=e.root,n=e.action,i=n.id,r=t.childViews.find((function(e){return e.id===i}));r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},Ni=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},Gi=function(e){return e.rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight},Vi=function(e){var t=e.root,n=e.action,i=n.id,r=n.dragState,o=t.query("GET_ITEM",{id:i}),a=t.childViews.find((function(e){return e.id===i})),s=t.childViews.length,l=r.getItemIndex(o);if(a){var c={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},u=Ni(a),d=Gi(a),f=Math.floor(t.rect.outer.width/d);f>s&&(f=s);var h=Math.floor(s/f+1);wi.setHeight=u*h,wi.setWidth=d*f;var p={y:Math.floor(c.y/u),x:Math.floor(c.x/d),getGridIndex:function(){return c.y>wi.getHeight||c.y<0||c.x>wi.getWidth||c.x<0?l:this.y*f+this.x},getColIndex:function(){for(var e=t.query("GET_ACTIVE_ITEMS"),n=t.childViews.filter((function(e){return e.rect.element.height})),i=e.map((function(e){return n.find((function(t){return t.id===e.id}))})),r=i.findIndex((function(e){return e===a})),o=Ni(a),s=i.length,l=s,u=0,d=0,f=0,h=0;h<s;h++)if(u=Ni(i[h]),f=d,d=f+u,c.y<d){if(r>h){if(c.y<f+o){l=h;break}continue}l=h;break}return l}},m=f>1?p.getGridIndex():p.getColIndex();t.dispatch("MOVE_ITEM",{query:a,index:m});var g=r.getIndex();if(void 0===g||g!==m){if(r.setIndex(m),void 0===g)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:l,target:m})}}},ki=$({DID_ADD_ITEM:Mi,DID_REMOVE_ITEM:xi,DID_DRAG_ITEM:Vi}),Bi=function(e){var t=e.root,n=e.props,i=e.actions,r=e.shouldOptimize;ki({root:t,props:n,actions:i});var o=n.dragCoordinates,a=t.rect.element.width,s=t.childViews.filter((function(e){return e.rect.element.height})),l=t.query("GET_ACTIVE_ITEMS").map((function(e){return s.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),c=o?Ai(t,l,o):null,u=t.ref.addIndex||null;t.ref.addIndex=null;var d=0,f=0,h=0;if(0!==l.length){var p=l[0].rect.element,m=p.marginTop+p.marginBottom,g=p.marginLeft+p.marginRight,v=p.width+g,E=p.height+m,I=Math.round(a/v);if(1===I){var _=0,T=0;l.forEach((function(e,t){if(c){var n=t-c;T=-2===n?.25*-m:-1===n?.75*-m:0===n?.75*m:1===n?.25*m:0}r&&(e.translateX=null,e.translateY=null),e.markedForRemoval||Pi(e,0,_+T);var i=e.rect.element.height+m,o=i*(e.markedForRemoval?e.opacity:1);_+=o}))}else{var y=0,O=0;l.forEach((function(e,t){t===c&&(d=1),t===u&&(h+=1),e.markedForRemoval&&e.opacity<.5&&(f-=1);var n=t+h+d+f,i=n%I,o=Math.floor(n/I),a=i*v,s=o*E,l=Math.sign(a-y),p=Math.sign(s-O);y=a,O=s,e.markedForRemoval||(r&&(e.translateX=null,e.translateY=null),Pi(e,a,s,l,p))}))}}},Fi=function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},Ui=U({create:Ci,write:Bi,tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(e){return e.markedForRemoval&&0===e.opacity&&e.resting})).forEach((function(e){e._destroy(),t.removeChildView(e)}))},filterFrameActionsForChild:Fi,mixins:{apis:["dragCoordinates"]}}),qi=function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(Ui)),n.dragCoordinates=null,n.overflowing=!1},$i=function(e){var t=e.root,n=e.props,i=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:i.position.scopeLeft-t.ref.list.rect.element.left,top:i.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},ji=function(e){var t=e.props;t.dragCoordinates=null},Yi=$({DID_DRAG:$i,DID_END_DRAG:ji}),Hi=function(e){var t=e.root,n=e.props,i=e.actions;if(Yi({root:t,props:n,actions:i}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var r=Math.round(n.overflow);r!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=r)}},zi=U({create:qi,write:Hi,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Wi=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n?a(e,t,i):e.removeAttribute(t)},Xi=function(e){if(e&&""!==e.value){try{e.value=""}catch(r){}if(e.value){var t=En("form"),n=e.parentNode,i=e.nextSibling;t.appendChild(e),t.reset(),i?n.insertBefore(e,i):n.appendChild(e)}}},Ki=function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,a(t.element,"name",t.query("GET_NAME")),a(t.element,"aria-controls","filepond--assistant-"+n.id),a(t.element,"aria-labelledby","filepond--drop-label-"+n.id),Qi({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Zi({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),Ji({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),er({root:t}),tr({root:t,action:{value:t.query("GET_REQUIRED")}}),nr({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var i=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(i),Xi(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},Qi=function(e){var t=e.root,n=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Wi(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},Zi=function(e){var t=e.root,n=e.action;Wi(t.element,"multiple",n.value)},Ji=function(e){var t=e.root,n=e.action;Wi(t.element,"webkitdirectory",n.value)},er=function(e){var t=e.root,n=t.query("GET_DISABLED"),i=t.query("GET_ALLOW_BROWSE"),r=n||!i;Wi(t.element,"disabled",r)},tr=function(e){var t=e.root,n=e.action;n.value?0===t.query("GET_TOTAL_ITEMS")&&Wi(t.element,"required",!0):Wi(t.element,"required",!1)},nr=function(e){var t=e.root,n=e.action;Wi(t.element,"capture",!!n.value,!0===n.value?"":n.value)},ir=function(e){var t=e.root,n=t.element;if(t.query("GET_TOTAL_ITEMS")>0)Wi(n,"required",!1),Wi(n,"name",!1);else{Wi(n,"name",!0,t.query("GET_NAME"));var i=t.query("GET_CHECK_VALIDITY");i&&n.setCustomValidity(""),t.query("GET_REQUIRED")&&Wi(n,"required",!0)}},rr=function(e){var t=e.root,n=t.query("GET_CHECK_VALIDITY");n&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},or=U({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Ki,destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:$({DID_LOAD_ITEM:ir,DID_REMOVE_ITEM:ir,DID_THROW_ITEM_INVALID:rr,DID_SET_DISABLED:er,DID_SET_ALLOW_BROWSE:er,DID_SET_ALLOW_DIRECTORIES_ONLY:Ji,DID_SET_ALLOW_MULTIPLE:Zi,DID_SET_ACCEPTED_FILE_TYPES:Qi,DID_SET_CAPTURE_METHOD:nr,DID_SET_REQUIRED:tr})}),ar={ENTER:13,SPACE:32},sr=function(e){var t=e.root,n=e.props,i=En("label");a(i,"for","filepond--browser-"+n.id),a(i,"id","filepond--drop-label-"+n.id),a(i,"aria-hidden","true"),t.ref.handleKeyDown=function(e){var n=e.keyCode===ar.ENTER||e.keyCode===ar.SPACE;n&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){var n=e.target===i||i.contains(e.target);n||t.ref.label.click()},i.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),lr(i,n.caption),t.appendChild(i),t.ref.label=i},lr=function(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&a(n,"tabindex","0"),t},cr=U({name:"drop-label",ignoreRect:!0,create:sr,destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:$({DID_SET_LABEL_IDLE:function(e){var t=e.root,n=e.action;lr(t.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),ur=U({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),dr=function(e){var t=e.root,n=.5*t.rect.element.width,i=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(ur,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:i}))},fr=function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):dr({root:t})},hr=function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)},pr=function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},mr=function(e){var t=e.root,n=e.props,i=e.actions;gr({root:t,props:n,actions:i});var r=t.ref.blob;0===i.length&&r&&0===r.opacity&&(t.removeChildView(r),t.ref.blob=null)},gr=$({DID_DRAG:fr,DID_DROP:pr,DID_END_DRAG:hr}),vr=U({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:mr}),Er=function(e){var t=e.root;return t.ref.fields={}},Ir=function(e,t){return e.ref.fields[t]},_r=function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},Tr=function(e){var t=e.root;return _r(t)},yr=function(e){var t=e.root,n=e.action,i=En("input");i.type="hidden",i.name=t.query("GET_NAME"),i.disabled=t.query("GET_DISABLED"),t.ref.fields[n.id]=i,_r(t)},Or=function(e){var t=e.root,n=e.action,i=Ir(t,n.id);i&&null!==n.serverFileReference&&(i.value=n.serverFileReference)},Rr=function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},Sr=function(e){var t=e.root,n=e.action,i=Ir(t,n.id);i&&(i.parentNode.removeChild(i),delete t.ref.fields[n.id])},Dr=function(e){var t=e.root,n=e.action,i=Ir(t,n.id);i&&(null===n.value?i.removeAttribute("value"):i.value=n.value,_r(t))},br=$({DID_SET_DISABLED:Rr,DID_ADD_ITEM:yr,DID_LOAD_ITEM:Or,DID_REMOVE_ITEM:Sr,DID_DEFINE_VALUE:Dr,DID_REORDER_ITEMS:Tr,DID_SORT_ITEMS:Tr}),Ar=U({tag:"fieldset",name:"data",create:Er,write:br,ignoreRect:!0}),wr=function(e){return"getRootNode"in e?e.getRootNode():document},Cr=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Mr=["css","csv","html","txt"],Pr={zip:"zip|compressed",epub:"application/epub+zip"},Lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),Cr.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):Mr.includes(e)?"text/"+e:Pr[e]||""},xr=function(e){return new Promise((function(t,n){var i=jr(e);if(i.length&&!Nr(e))return t(i);Gr(e).then(t)}))},Nr=function(e){return!!e.files&&e.files.length>0},Gr=function(e){return new Promise((function(t,n){var i=(e.items?Array.from(e.items):[]).filter((function(e){return Vr(e)})).map((function(e){return kr(e)}));i.length?Promise.all(i).then((function(e){var n=[];e.forEach((function(e){n.push.apply(n,e)})),t(n.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):t(e.files?Array.from(e.files):[])}))},Vr=function(e){if(qr(e)){var t=$r(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},kr=function(e){return new Promise((function(t,n){Ur(e)?Br($r(e)).then(t).catch(n):t([e.getAsFile()])}))},Br=function(e){return new Promise((function(t,n){var i=[],r=0,o=0,a=function(){0===o&&0===r&&t(i)},s=function e(t){r++;var s=t.createReader(),l=function t(){s.readEntries((function(n){if(0===n.length)return r--,void a();n.forEach((function(t){t.isDirectory?e(t):(o++,t.file((function(e){var n=Fr(e);t.fullPath&&(n._relativePath=t.fullPath),i.push(n),o--,a()})))})),t()}),n)};l()};s(e)}))},Fr=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name;return e=e.slice(0,e.size,Lr(_t(e.name))),e.name=n,e.lastModifiedDate=t,e},Ur=function(e){return qr(e)&&($r(e)||{}).isDirectory},qr=function(e){return"webkitGetAsEntry"in e},$r=function(e){return e.webkitGetAsEntry()},jr=function(e){var t=[];try{if(t=Hr(e),t.length)return t;t=Yr(e)}catch(n){}return t},Yr=function(e){var t=e.getData("url");return"string"===typeof t&&t.length?[t]:[]},Hr=function(e){var t=e.getData("text/html");if("string"===typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},zr=[],Wr=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},Xr=function(e,t,n){var i=Kr(t),r={element:e,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return r.destroy=i.addListener(r),r},Kr=function(e){var t=zr.find((function(t){return t.element===e}));if(t)return t;var n=Qr(e);return zr.push(n),n},Qr=function(e){var t=[],n={dragenter:no,dragover:io,dragleave:oo,drop:ro},i={};r(n,(function(n,r){i[n]=r(e,t),e.addEventListener(n,i[n],!1)}));var o={element:e,addListener:function(a){return t.push(a),function(){t.splice(t.indexOf(a),1),0===t.length&&(zr.splice(zr.indexOf(o),1),r(n,(function(t){e.removeEventListener(t,i[t],!1)})))}}};return o},Zr=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)},Jr=function(e,t){var n=wr(t),i=Zr(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return i===t||t.contains(i)},eo=null,to=function(e,t){try{e.dropEffect=t}catch(n){}},no=function(e,t){return function(e){e.preventDefault(),eo=e.target,t.forEach((function(t){var n=t.element,i=t.onenter;Jr(e,n)&&(t.state="enter",i(Wr(e)))}))}},io=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;xr(n).then((function(i){var r=!1;t.some((function(t){var o=t.filterElement,a=t.element,s=t.onenter,l=t.onexit,c=t.ondrag,u=t.allowdrop;to(n,"copy");var d=u(i);if(d)if(Jr(e,a)){if(r=!0,null===t.state)return t.state="enter",void s(Wr(e));if(t.state="over",o&&!d)return void to(n,"none");c(Wr(e))}else o&&!r&&to(n,"none"),t.state&&(t.state=null,l(Wr(e)));else to(n,"none")}))}))}},ro=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;xr(n).then((function(n){t.forEach((function(t){var i=t.filterElement,r=t.element,o=t.ondrop,a=t.onexit,s=t.allowdrop;if(t.state=null,!i||Jr(e,r))return s(n)?void o(Wr(e),n):a(Wr(e))}))}))}},oo=function(e,t){return function(e){eo===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(Wr(e))}))}},ao=function(e,t,n){e.classList.add("filepond--hopper");var i=n.catchesDropsOnPage,r=n.requiresDropOnElement,o=n.filterItems,a=void 0===o?function(e){return e}:o,s=Xr(e,i?document.documentElement:e,r),l="",c="";s.allowdrop=function(e){return t(a(e))},s.ondrop=function(e,n){var i=a(n);t(i)?(c="drag-drop",u.onload(i,e)):u.ondragend(e)},s.ondrag=function(e){u.ondrag(e)},s.onenter=function(e){c="drag-over",u.ondragstart(e)},s.onexit=function(e){c="drag-exit",u.ondragend(e)};var u={updateHopperState:function(){l!==c&&(e.dataset.hopperState=c,l=c)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){s.destroy()}};return u},so=!1,lo=[],co=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){var n=!1,i=t;while(i!==document.body){if(i.classList.contains("filepond--root")){n=!0;break}i=i.parentNode}if(!n)return}xr(e.clipboardData).then((function(e){e.length&&lo.forEach((function(t){return t(e)}))}))},uo=function(e){lo.includes(e)||(lo.push(e),so||(so=!0,document.addEventListener("paste",co)))},fo=function(e){Ge(lo,lo.indexOf(e)),0===lo.length&&(document.removeEventListener("paste",co),so=!1)},ho=function(){var e=function(e){t.onload(e)},t={destroy:function(){fo(e)},onload:function(){}};return uo(e),t},po=function(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,a(t.element,"role","status"),a(t.element,"aria-live","polite"),a(t.element,"aria-relevant","additions")},mo=null,go=null,vo=[],Eo=function(e,t){e.element.textContent=t},Io=function(e){e.element.textContent=""},_o=function(e,t,n){var i=e.query("GET_TOTAL_ITEMS");Eo(e,n+" "+t+", "+i+" "+(1===i?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(go),go=setTimeout((function(){Io(e)}),1500)},To=function(e){return e.element.parentNode.contains(document.activeElement)},yo=function(e){var t=e.root,n=e.action;if(To(t)){t.element.textContent="";var i=t.query("GET_ITEM",n.id);vo.push(i.filename),clearTimeout(mo),mo=setTimeout((function(){_o(t,vo.join(", "),t.query("GET_LABEL_FILE_ADDED")),vo.length=0}),750)}},Oo=function(e){var t=e.root,n=e.action;if(To(t)){var i=n.item;_o(t,i.filename,t.query("GET_LABEL_FILE_REMOVED"))}},Ro=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id),r=i.filename,o=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Eo(t,r+" "+o)},So=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id),r=i.filename,o=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");Eo(t,r+" "+o)},Do=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id),r=i.filename;Eo(t,n.status.main+" "+r+" "+n.status.sub)},bo=U({create:po,ignoreRect:!0,ignoreRectUpdate:!0,write:$({DID_LOAD_ITEM:yo,DID_REMOVE_ITEM:Oo,DID_COMPLETE_ITEM_PROCESSING:Ro,DID_ABORT_ITEM_PROCESSING:So,DID_REVERT_ITEM_PROCESSING:So,DID_THROW_ITEM_REMOVE_ERROR:Do,DID_THROW_ITEM_LOAD_ERROR:Do,DID_THROW_ITEM_INVALID:Do,DID_THROW_ITEM_PROCESSING_ERROR:Do}),tag:"span",name:"assistant"}),Ao=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(e){return e.charAt(1).toUpperCase()}))},wo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Date.now(),r=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(r);var l=Date.now()-i,c=function(){i=Date.now(),e.apply(void 0,a)};l<t?n||(r=setTimeout(c,t-l)):c()}},Co=1e6,Mo=function(e){return e.preventDefault()},Po=function(e){var t=e.root,n=e.props,i=t.query("GET_ID");i&&(t.element.id=i);var r=t.query("GET_CLASS_NAME");r&&r.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(cr,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(zi,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Ii,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(bo,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(Ar,Object.assign({},n))),t.ref.measure=En("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(e){return!z(e.value)})).map((function(e){var n=e.name,i=e.value;t.element.dataset[n]=i})),t.ref.widthPrevious=null,t.ref.widthUpdated=wo((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&a&&!o&&(t.element.addEventListener("touchmove",Mo,{passive:!1}),t.element.addEventListener("gesturestart",Mo))},Lo=function(e){var t=e.root,n=e.props,i=e.actions;if(qo({root:t,props:n,actions:i}),i.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!z(e.data.value)})).map((function(e){var n=e.type,i=e.data,r=Ao(n.substr(8).toLowerCase(),"_");t.element.dataset[r]=i.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var r=t.ref.bounds;r||(r=t.ref.bounds=Go(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var o=t.ref,a=o.hopper,s=o.label,l=o.list,c=o.panel;a&&a.updateHopperState();var u=t.query("GET_PANEL_ASPECT_RATIO"),d=t.query("GET_ALLOW_MULTIPLE"),f=t.query("GET_TOTAL_ITEMS"),h=d?t.query("GET_MAX_FILES")||Co:1,p=f===h,m=i.find((function(e){return"DID_ADD_ITEM"===e.type}));if(p&&m){var g=m.data.interactionMethod;s.opacity=0,d?s.translateY=-40:g===De.API?s.translateX=40:g===De.BROWSE?s.translateY=40:s.translateY=30}else p||(s.opacity=1,s.translateX=0,s.translateY=0);var v=xo(t),E=No(t),I=s.rect.element.height,_=!d||p?0:I,T=p?l.rect.element.marginTop:0,y=0===f?0:l.rect.element.marginBottom,O=_+T+E.visual+y,R=_+T+E.bounds+y;if(l.translateY=Math.max(0,_-l.rect.element.marginTop)-v.top,u){var S=t.rect.element.width,D=S*u;u!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=u,t.ref.updateHistory=[]);var b=t.ref.updateHistory;b.push(S);var A=2;if(b.length>2*A)for(var w=b.length,C=w-10,M=0,P=w;P>=C;P--)if(b[P]===b[P-2]&&M++,M>=A)return;c.scalable=!1,c.height=D;var L=D-_-(y-v.bottom)-(p?T:0);E.visual>L?l.overflow=L:l.overflow=null,t.height=D}else if(r.fixedHeight){c.scalable=!1;var x=r.fixedHeight-_-(y-v.bottom)-(p?T:0);E.visual>x?l.overflow=x:l.overflow=null}else if(r.cappedHeight){var N=O>=r.cappedHeight,G=Math.min(r.cappedHeight,O);c.scalable=!0,c.height=N?G:G-v.top-v.bottom;var V=G-_-(y-v.bottom)-(p?T:0);O>r.cappedHeight&&E.visual>V?l.overflow=V:l.overflow=null,t.height=Math.min(r.cappedHeight,R-v.top-v.bottom)}else{var k=f>0?v.top+v.bottom:0;c.scalable=!0,c.height=Math.max(I,O-k),t.height=Math.max(I,R-k)}}},xo=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},No=function(e){var t=0,n=0,i=e.ref.list,r=i.childViews[0],o=r.childViews.filter((function(e){return e.rect.element.height})),a=e.query("GET_ACTIVE_ITEMS").map((function(e){return o.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===a.length)return{visual:t,bounds:n};var s=r.rect.element.width,l=Ai(r,a,i.dragCoordinates),c=a[0].rect.element,u=c.marginTop+c.marginBottom,d=c.marginLeft+c.marginRight,f=c.width+d,h=c.height+u,p="undefined"!==typeof l&&l>=0?1:0,m=a.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,g=a.length+p+m,v=Math.round(s/f);return 1===v?a.forEach((function(e){var i=e.rect.element.height+u;n+=i,t+=i*e.opacity})):(n=Math.ceil(g/v)*h,t=n),{visual:t,bounds:n}},Go=function(e){var t=e.ref.measureHeight||null,n=parseInt(e.style.maxHeight,10)||null,i=0===t?null:t;return{cappedHeight:n,fixedHeight:i}},Vo=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),i=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS"),o=e.query("GET_MAX_FILES"),a=t.length;if(!i&&a>1)return!0;o=i||n?o:1;var s=ie(o);return!!(s&&r+a>o)&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ft("warning",0,"Max files")}),!0)},ko=function(e,t,n){var i=e.childViews[0];return Ai(i,t,{left:n.scopeLeft-i.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Bo=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),i=t&&!n;if(i&&!e.ref.hopper){var r=ao(e.element,(function(t){if(Vo(e,t))return!1;var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0},i=e.query("GET_DROP_VALIDATION");return!i||t.every((function(t){return Qe("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!tn(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=function(t,n){var i=e.ref.list.childViews[0],r=i.childViews.filter((function(e){return e.rect.element.height})),o=e.query("GET_ACTIVE_ITEMS").map((function(e){return r.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));e.dispatch("ADD_ITEMS",{items:t,index:ko(e.ref.list,o,n),interactionMethod:De.DROP}),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},r.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},r.ondrag=wo((function(t){e.dispatch("DID_DRAG",{position:t})})),r.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(vr))}else!i&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Fo=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),i=e.query("GET_DISABLED"),r=n&&!i;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(or,Object.assign({},t,{onload:function(t){if(Vo(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:De.BROWSE})}})),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Uo=function(e){var t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),i=t&&!n;i&&!e.ref.paster?(e.ref.paster=ho(),e.ref.paster.onload=function(t){e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:De.PASTE})}):!i&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},qo=$({DID_SET_ALLOW_BROWSE:function(e){var t=e.root,n=e.props;Fo(t,n)},DID_SET_ALLOW_DROP:function(e){var t=e.root;Bo(t)},DID_SET_ALLOW_PASTE:function(e){var t=e.root;Uo(t)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;Bo(t),Uo(t),Fo(t,n);var i=t.query("GET_DISABLED");i?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),$o=U({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:Po,write:Lo,destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Mo),t.element.removeEventListener("gesturestart",Mo)},mixins:{styles:["height"]}}),jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,i=et(),r=n(Te(i),[ht,Se(i)],[gn,Re(i)]);r.dispatch("SET_OPTIONS",{options:e});var a=function(){document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",a);var s=null,l=!1,c=!1,u=null,d=null,f=function(){l||(l=!0),clearTimeout(s),s=setTimeout((function(){l=!1,u=null,d=null,c&&(c=!1,r.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",f);var h=$o(r,{id:be()}),p=!1,m=!1,g={_read:function(){l&&(d=window.innerWidth,u||(u=d),c||d===u||(r.dispatch("DID_START_RESIZE"),c=!0)),m&&p&&(p=null===h.element.offsetParent),p||(h._read(),m=h.rect.element.hidden)},_write:function(e){var t=r.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));p&&!t.length||(_(t),p=h._write(e,t,c),qe(r.query("GET_ITEMS")),p&&r.processDispatchQueue())}},v=function(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.file&&(n.output=t.file),t.source)n.file=t.source;else if(t.item||t.id){var i=t.item?t.item:r.query("GET_ITEM",t.id);n.file=i?Ue(i):null}return t.items&&(n.items=t.items.map(Ue)),/progress/.test(e)&&(n.progress=t.progress),t.hasOwnProperty("origin")&&t.hasOwnProperty("target")&&(n.origin=t.origin,n.target=t.target),n}},E={DID_DESTROY:v("destroy"),DID_INIT:v("init"),DID_THROW_MAX_FILES:v("warning"),DID_INIT_ITEM:v("initfile"),DID_START_ITEM_LOAD:v("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:v("addfileprogress"),DID_LOAD_ITEM:v("addfile"),DID_THROW_ITEM_INVALID:[v("error"),v("addfile")],DID_THROW_ITEM_LOAD_ERROR:[v("error"),v("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[v("error"),v("removefile")],DID_PREPARE_OUTPUT:v("preparefile"),DID_START_ITEM_PROCESSING:v("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:v("processfileprogress"),DID_ABORT_ITEM_PROCESSING:v("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:v("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:v("processfiles"),DID_REVERT_ITEM_PROCESSING:v("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[v("error"),v("processfile")],DID_REMOVE_ITEM:v("removefile"),DID_UPDATE_ITEMS:v("updatefiles"),DID_ACTIVATE_ITEM:v("activatefile"),DID_REORDER_ITEMS:v("reorderfiles")},I=function(e){var t=Object.assign({pond:x},e);delete t.type,h.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var i=["type","error","file"];Object.keys(e).filter((function(e){return!i.includes(e)})).forEach((function(t){return n.push(e[t])})),x.fire.apply(x,[e.type].concat(n));var o=r.query("GET_ON"+e.type.toUpperCase());o&&o.apply(void 0,n)},_=function(e){e.length&&e.filter((function(e){return E[e.type]})).forEach((function(e){var t=E[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){"DID_INIT_ITEM"===e.type?I(t(e.data)):setTimeout((function(){I(t(e.data))}),0)}))}))},y=function(e){return r.dispatch("SET_OPTIONS",{options:e})},O=function(e){return r.query("GET_ACTIVE_ITEM",e)},R=function(e){return new Promise((function(t,n){r.dispatch("REQUEST_ITEM_PREPARE",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){A([{source:e,options:t}],{index:t.index}).then((function(e){return n(e&&e[0])})).catch(i)}))},D=function(e){return e.file&&e.id},b=function(e,t){return"object"!==typeof e||D(e)||t||(t=e,e=void 0),r.dispatch("REMOVE_ITEM",Object.assign({},t,{query:e})),null===r.query("GET_ACTIVE_ITEM",e)},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var i=[],o={};if(H(t[0]))i.push.apply(i,t[0]),Object.assign(o,t[1]||{});else{var a=t[t.length-1];"object"!==typeof a||a instanceof Blob||Object.assign(o,t.pop()),i.push.apply(i,t)}r.dispatch("ADD_ITEMS",{items:i,index:o.index,interactionMethod:De.API,success:e,failure:n})}))},w=function(){return r.query("GET_ACTIVE_ITEMS")},C=function(e){return new Promise((function(t,n){r.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t,r=i.length?i:w();return Promise.all(r.map(R))},P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t;if(!i.length){var r=w().filter((function(e){return!(e.status===$e.IDLE&&e.origin===je.LOCAL)&&e.status!==$e.PROCESSING&&e.status!==$e.PROCESSING_COMPLETE&&e.status!==$e.PROCESSING_REVERT_ERROR}));return Promise.all(r.map(C))}return Promise.all(i.map(C))},L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=Array.isArray(t[0])?t[0]:t;"object"===typeof r[r.length-1]?i=r.pop():Array.isArray(t[0])&&(i=t[1]);var o=w();if(!r.length)return Promise.all(o.map((function(e){return b(e,i)})));var a=r.map((function(e){return T(e)?o[e]?o[e].id:null:e})).filter((function(e){return e}));return a.map((function(e){return b(e,i)}))},x=Object.assign({},ke(),{},g,{},Oe(r,i),{setOptions:y,addFile:S,addFiles:A,getFile:O,processFile:C,prepareFile:R,removeFile:b,moveFile:function(e,t){return r.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:w,processFiles:P,removeFiles:L,prepareFiles:M,sort:function(e){return r.dispatch("SORT",{compare:e})},browse:function(){var e=h.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){x.fire("destroy",h.element),r.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",f),document.removeEventListener("visibilitychange",a),r.dispatch("DID_DESTROY")},insertBefore:function(e){return j(h.element,e)},insertAfter:function(e){return Y(h.element,e)},appendTo:function(e){return e.appendChild(h.element)},replaceElement:function(e){j(h.element,e),e.parentNode.removeChild(e),t=e},restoreElement:function(){t&&(Y(t,h.element),h.element.parentNode.removeChild(h.element),t=null)},isAttachedTo:function(e){return h.element===e||t===e},element:{get:function(){return h.element}},status:{get:function(){return r.query("GET_STATUS")}}});return r.dispatch("DID_INIT"),o(x)},Yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};r(et(),(function(e,n){t[e]=n[0]}));var n=jo(Object.assign({},t,{},e));return n},Ho=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},zo=function(e){return Ao(e.replace(/^data-/,""))},Wo=function e(t,n){r(n,(function(n,i){r(t,(function(e,r){var o=new RegExp(n),a=o.test(e);if(a&&(delete t[e],!1!==i))if(J(i))t[i]=r;else{var s=i.group;fe(i)&&!t[s]&&(t[s]={}),t[s][Ho(e.replace(o,""))]=r}})),i.mapping&&e(t[i.group],i.mapping)}))},Xo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];r(e.attributes,(function(t){n.push(e.attributes[t])}));var i=n.filter((function(e){return e.name})).reduce((function(t,n){var i=a(e,n.name);return t[zo(n.name)]=i===n.name||i,t}),{});return Wo(i,t),i},Ko=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Qe("SET_ATTRIBUTE_TO_OPTION_MAP",n);var i=Object.assign({},t),r=Xo("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(r).forEach((function(e){fe(r[e])?(fe(i[e])||(i[e]={}),Object.assign(i[e],r[e])):i[e]=r[e]})),i.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var o=Yo(i);return e.files&&Array.from(e.files).forEach((function(e){o.addFile(e)})),o.replaceElement(e),o},Qo=function(){return t(arguments.length<=0?void 0:arguments[0])?Ko.apply(void 0,arguments):Yo.apply(void 0,arguments)},Zo=["fire","_read","_write"],Jo=function(e){var t={};return Be(e,t,Zo),t},ea=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},ta=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var r=be();i.onmessage=function(e){e.data.id===r&&t(e.data.message)},i.postMessage({id:r,message:e},n)},terminate:function(){i.terminate(),URL.revokeObjectURL(n)}}},na=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},ia=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},ra=function(e){return ia(e,e.name)},oa=[],aa=function(e){if(!oa.includes(e)){oa.push(e);var t=e({addFilter:Ze,utils:{Type:We,forin:r,isString:J,isFile:tn,toNaturalFileSize:wn,replaceInString:ea,getExtensionFromFilename:_t,getFilenameWithoutExtension:Jt,guesstimateMimeType:Lr,getFileFromBlob:Rt,getFilenameFromURL:It,createRoute:$,createWorker:ta,createView:U,createItemAPI:Ue,loadImage:na,copyFile:ra,renameFile:ia,createBlob:Dt,applyFilterChain:Ke,text:In,getNumericAspectRatioFromString:rt},views:{fileActionButton:An}});Je(t.options)}},sa=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},la=function(){return"Promise"in window},ca=function(){return"slice"in Blob.prototype},ua=function(){return"URL"in window&&"createObjectURL"in window.URL},da=function(){return"visibilityState"in document},fa=function(){return"performance"in window},ha=function(){return"supports"in(window.CSS||{})},pa=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},ma=function(){var e=m()&&!sa()&&da()&&la()&&ca()&&ua()&&fa()&&(ha()||pa());return function(){return e}}(),ga={apps:[]},va="filepond",Ea=function(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=Ea,e.destroy=Ea,e.parse=Ea,e.find=Ea,e.registerPlugin=Ea,e.getOptions=Ea,e.setOptions=Ea,ma()){q((function(){ga.apps.forEach((function(e){return e._read()}))}),(function(e){ga.apps.forEach((function(t){return t._write(e)}))}));var Ia=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:ma,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout((function(){return Ia()}),0):document.addEventListener("DOMContentLoaded",Ia);var _a=function(){return r(et(),(function(t,n){e.OptionTypes[t]=n[1]}))};e.Status=Object.assign({},at),e.FileOrigin=Object.assign({},je),e.FileStatus=Object.assign({},$e),e.OptionTypes={},_a(),e.create=function(){var t=Qo.apply(void 0,arguments);return t.on("destroy",e.destroy),ga.apps.push(t),Jo(t)},e.destroy=function(e){var t=ga.apps.findIndex((function(t){return t.isAttachedTo(e)}));if(t>=0){var n=ga.apps.splice(t,1)[0];return n.restoreElement(),!0}return!1},e.parse=function(t){var n=Array.from(t.querySelectorAll("."+va)),i=n.filter((function(e){return!ga.apps.find((function(t){return t.isAttachedTo(e)}))}));return i.map((function(t){return e.create(t)}))},e.find=function(e){var t=ga.apps.find((function(t){return t.isAttachedTo(e)}));return t?Jo(t):null},e.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(aa),_a()},e.getOptions=function(){var e={};return r(et(),(function(t,n){e[t]=n[0]})),e},e.setOptions=function(t){return fe(t)&&(ga.apps.forEach((function(e){e.setOptions(t)})),tt(t)),e.getOptions()}}e.supported=ma,Object.defineProperty(e,"__esModule",{value:!0})}))},ca71:function(e,t,n){},ce7e:function(e,t,n){"use strict";n("8ce9");var i=n("7560");t["a"]=i["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":t,...this.$attrs},on:this.$listeners})}})},cf36:function(e,t,n){},e23f:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"fill-height":""}},[n("VideoUpload")],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",[n("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"10"}},[n("h2",[e._v("上传视频")])])],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"10"}},[n("FilePondUpdate",{on:{video:e.videoUploadSuccess}})],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"10"}},[n("h2",[e._v("基本信息")])])],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"5"}},[n("v-card",{attrs:{outlined:""}},[n("v-img",{attrs:{src:e.article.imgUrl,"aspect-ratio":"1.77",contain:"","max-height":"150",alt:"封面图，推荐16：9"}})],1)],1),n("v-col",{attrs:{cols:"5"}},[n("v-file-input",{attrs:{rules:e.rules,accept:"image/png, image/jpeg, image/bmp",placeholder:"上传视频封面","prepend-icon":"mdi-camera",label:"封面"},on:{change:e.setFile}}),n("v-btn",{attrs:{color:"primary"},on:{click:e.uploadFile}},[e._v(" 上传 ")])],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"5"}},[n("v-select",{attrs:{items:e.category,label:"主分区"},on:{change:e.getMainCategory}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-select",{attrs:{items:e.categoryChildren,label:"分区"},on:{change:e.getVideoCategory}})],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"10"}},[n("v-text-field",{attrs:{placeholder:"标题",label:"标题(50字以内)",clearable:"",rules:[function(){return null!=e.article.title||"标题不能为空"}]},model:{value:e.article.title,callback:function(t){e.$set(e.article,"title",t)},expression:"article.title"}})],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"10"}},[n("v-textarea",{attrs:{label:"简介",clearable:"",placeholder:"填写更全面的视频信息，让更多的人找到你！"},model:{value:e.article.describe,callback:function(t){e.$set(e.article,"describe",t)},expression:"article.describe"}})],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"10"}},[n("v-combobox",{attrs:{label:"添加标签让更多人找到你（最多6个）",multiple:"",chips:"",clearable:""},model:{value:e.article.tag,callback:function(t){e.$set(e.article,"tag",t)},expression:"article.tag"}})],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"10"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:e.publis}},[e._v("立即投稿")])],1)],1)],1)],1),n("v-snackbar",{attrs:{top:!0,timeout:3e3},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[n("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.showMessage=!1}}},"v-btn",i,!1),[e._v(" 关闭 ")])]}}]),model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[e._v(" "+e._s(e.message)+" ")])],1)},a=[],s=(n("b0c0"),n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("file-pond",{ref:"pond",attrs:{name:"file[]","label-idle":"选择视频或者拖动视频到此处","label-file-processing":"视频正在上传，请稍后","label-file-processing-aborted":"视频上传被取消","label-tap-to-retry":"尝试重试","label-file-processing-complete":"视频上传成功！","allow-multiple":!1,"accepted-file-types":"video/*, .flv",server:e.server,files:e.myFiles},on:{init:e.handleFilePondInit,processfile:e.success}})],1)}),l=[],c=n("1501"),u=n.n(c),d=(n("4ed3"),n("57c8"),n("1942")),f=n.n(d),h=n("2cfc"),p=n.n(h),m=u()(f.a,p.a),g={},v={name:"FilePondUpdate",components:{FilePond:m},videMessage:g,data:function(){return{videMessage:{},myFiles:[],server:{url:"/api/upload/video",process:{headers:{"X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},onload:function(e){g=JSON.parse(e)}}}}},created:function(){},methods:{handleFilePondInit:function(){},success:function(){this.$emit("video",g)}}},E=v,I=n("2877"),_=Object(I["a"])(E,s,l,!1,null,null,null),T=_.exports,y={components:{FilePondUpdate:T},data:function(){return{rules:[function(e){return!e||e.size<2e6||"Avatar size should be less than 2 MB!"}],article:{title:"",describe:"",imgUrl:"",category:-1,tag:[],video:{},imageId:""},categoryMap:{Set:function(e,t){this[e]=t},Get:function(e){return this[e]},Contains:function(e){return null!=this.Get(e)},Remove:function(e){delete this[e]}},category:[],categoryChildren:[],nowCategory:{},files:[],showMessage:!1,message:""}},created:function(){this.getCategory()},methods:{publis:function(){var e=this;return this.article.video.id?""===this.article.title||""===this.imgUrl||0===this.article.tag.length||-1===this.article.category?(this.message="标题，封面，标签,分区不能为空",void(this.showMessage=!0)):this.article.tag.length>6?(this.message="标签超过6个",void(this.showMessage=!0)):(fetch("/api/article/video",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include",body:JSON.stringify(this.article)}).then((function(e){return e.json()})).then((function(t){if(200!==t.status)return e.message=t.message,void(e.showMessage=!0);e.message="投稿成功,等待审核通过后你就可以看到你的视频了",e.showMessage=!0,e.$router.push("/studio")})).catch((function(e){return null})),void console.log(this.article)):(this.message="你还没有上传视频",void(this.showMessage=!0))},setFile:function(e){this.files=[],this.files.push(e)},videoUploadSuccess:function(e){200===e.status?(this.article.video=e.data[0],this.setTitle(e.data[0].fileOriginalName),this.message="上传视频成功",this.showMessage=!0):(this.message="上传出现异常，请重试！"+e.message,this.showMessage=!0)},setTitle:function(e){e.length>50?this.article.title=e.substring(0,50):this.article.title=e},uploadFile:function(){var e=this;if(0===this.files.length)return this.message="请先选择视频封面，然后上传！",void(this.showMessage=!0);for(var t=new FormData,n=0;n<this.files.length;n++)t.append("file[]",this.files[n]);fetch("/api/upload/photo",{headers:{"X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(t){200===t.status?(e.article.imageId=t.data[0].id,e.article.imgUrl=t.data[0].fileUrl):(e.message="上传失败，请重试！"+t.message,e.showMessage=!0)})).catch((function(e){return null}))},getCategory:function(){var e=this;fetch("/api/category/list",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(t){for(var n=0;n<t.data.length;n++){var i=t.data[n].name;e.category.push(i),e.categoryMap.Set(i,t.data[n])}})).catch((function(e){return null}))},getMainCategory:function(e){this.categoryChildren=[],this.nowCategory=this.categoryMap.Get(e),this.article.category=this.nowCategory.id;var t=this.nowCategory.children;if(t)for(var n=0;n<t.length;n++)this.categoryChildren.push(t[n].name)},getVideoCategory:function(e){for(var t=this.nowCategory.children,n=0;n<t.length;n++)t[n].name===e&&(this.article.category=t[n].id)}}},O=y,R=n("6544"),S=n.n(R),D=n("8336"),b=n("b0af"),A=n("62ad"),w=(n("2bfd"),n("4ff9"),n("68dd"),n("8adc"),n("58df")),C=n("0789"),M=n("9d26"),P=n("a9ad"),L=n("4e82"),x=n("7560"),N=n("f2e7"),G=n("1c87"),V=n("af2b"),k=n("d9bd"),B=Object(w["a"])(P["a"],V["a"],G["a"],x["a"],Object(L["a"])("chipGroup"),Object(N["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...G["a"].options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(G["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created(){const e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(k["a"])(e,t,this)})},methods:{click(e){this.$emit("click",e),this.chipGroup&&this.toggle()},genFilter(){const e=[];return this.isActive&&e.push(this.$createElement(M["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(C["b"],e)},genClose(){return this.$createElement(M["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},on:{click:e=>{e.stopPropagation(),e.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(e){const t=[this.genContent()];let{tag:n,data:i}=this.generateRouteLink();i.attrs={...i.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:i.attrs.tabindex},i.directives.push({name:"show",value:this.active}),i=this.setBackgroundColor(this.color,i);const r=this.textColor||this.outlined&&this.color;return e(n,this.setTextColor(r,i),t)}}),F=B,U=(n("ee6f"),x["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:x["a"].options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find(e=>!e.isComment&&" "!==e.text)}})),q=n("4ad4"),$=n("16b7"),j=n("b848"),Y=n("75eb"),H=n("f573"),z=n("2b0e"),W=z["default"].extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(e){e?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(e){this.originalValue=e,setTimeout(()=>{this.isActive=!1})}}}),X=n("a236"),K=n("a293"),Q=n("dc22"),Z=n("80d2");const J=Object(w["a"])(j["a"],$["a"],Y["a"],H["a"],W,X["a"],N["a"],x["a"]);var ee=J.extend({name:"v-menu",provide(){return{isInMenu:!0,theme:this.theme}},directives:{ClickOutside:K["a"],Resize:Q["a"]},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile(){return this.tiles[this.listIndex]},calculatedLeft(){const e=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(Z["f"])(this.calcXOverflow(this.calcLeftAuto(),e))||"0":this.calcLeft(e)||"0"},calculatedMaxHeight(){const e=this.auto?"200px":Object(Z["f"])(this.maxHeight);return e||"0"},calculatedMaxWidth(){return Object(Z["f"])(this.maxWidth)||"0"},calculatedMinWidth(){if(this.minWidth)return Object(Z["f"])(this.minWidth)||"0";const e=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),t=isNaN(parseInt(this.calculatedMaxWidth))?e:parseInt(this.calculatedMaxWidth);return Object(Z["f"])(Math.min(t,e))||"0"},calculatedTop(){const e=this.auto?Object(Z["f"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return e||"0"},hasClickableTiles(){return Boolean(this.tiles.find(e=>e.tabIndex>-1))},styles(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive(e){e||(this.listIndex=-1)},isContentActive(e){this.hasJustFocused=e},listIndex(e,t){if(e in this.tiles){const t=this.tiles[e];t.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=t.offsetTop-t.clientHeight}t in this.tiles&&this.tiles[t].classList.remove("v-list-item--highlighted")}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(k["e"])("full-width",this)},mounted(){this.isActive&&this.callActivate()},methods:{activate(){this.updateDimensions(),requestAnimationFrame(()=>{this.startTransition().then(()=>{this.$refs.content&&(this.calculatedTopAuto=this.calcTopAuto(),this.auto&&(this.$refs.content.scrollTop=this.calcScrollPosition()))})})},calcScrollPosition(){const e=this.$refs.content,t=e.querySelector(".v-list-item--active"),n=e.scrollHeight-e.offsetHeight;return t?Math.min(n,Math.max(0,t.offsetTop-e.offsetHeight/2+t.offsetHeight/2)):e.scrollTop},calcLeftAuto(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto(){const e=this.$refs.content,t=e.querySelector(".v-list-item--active");if(t||(this.selectedIndex=null),this.offsetY||!t)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(t);const n=t.offsetTop-this.calcScrollPosition(),i=e.querySelector(".v-list-item").offsetTop;return this.computedTop-n-i-1},changeListIndex(e){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(e.keyCode!==Z["t"].tab){if(e.keyCode===Z["t"].down)this.nextTile();else if(e.keyCode===Z["t"].up)this.prevTile();else{if(e.keyCode!==Z["t"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}e.preventDefault()}else this.isActive=!1},closeConditional(e){const t=e.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(t)},genActivatorAttributes(){const e=q["a"].options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?{...e,"aria-activedescendant":this.activeTile.id}:e},genActivatorListeners(){const e=H["a"].options.methods.genActivatorListeners.call(this);return this.disableKeys||(e.keydown=this.onKeyDown),e},genTransition(){const e=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[e]):e},genDirectives(){const e=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&e.push({name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:()=>[this.$el,...this.getOpenDependentElements()]}}),e},genContent(){const e={attrs:{...this.getScopeIdAttrs(),role:"role"in this.$attrs?this.$attrs.role:"menu"},staticClass:"v-menu__content",class:{...this.rootThemeClasses,...this.roundedClasses,"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive,[this.contentClass.trim()]:!0},style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:e=>{const t=e.target;t.getAttribute("disabled")||this.closeOnContentClick&&(this.isActive=!1)},keydown:this.onKeyDown}};return this.$listeners.scroll&&(e.on=e.on||{},e.on.scroll=this.$listeners.scroll),!this.disabled&&this.openOnHover&&(e.on=e.on||{},e.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(e.on=e.on||{},e.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",e,this.getContentSlot())},getTiles(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item")))},mouseEnterHandler(){this.runDelay("open",()=>{this.hasJustFocused||(this.hasJustFocused=!0,this.isActive=!0)})},mouseLeaveHandler(e){this.runDelay("close",()=>{this.$refs.content.contains(e.relatedTarget)||requestAnimationFrame(()=>{this.isActive=!1,this.callDeactivate()})})},nextTile(){const e=this.tiles[this.listIndex+1];if(!e){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===e.tabIndex&&this.nextTile()},prevTile(){const e=this.tiles[this.listIndex-1];if(!e){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===e.tabIndex&&this.prevTile()},onKeyDown(e){if(e.keyCode===Z["t"].esc){setTimeout(()=>{this.isActive=!1});const e=this.getActivator();this.$nextTick(()=>e&&e.focus())}else!this.isActive&&[Z["t"].up,Z["t"].down].includes(e.keyCode)&&(this.isActive=!0);this.$nextTick(()=>this.changeListIndex(e))},onResize(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render(e){const t={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return e("div",t,[!this.activator&&this.genActivator(),this.showLazyContent(()=>[this.$createElement(U,{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])])])}}),te=ee,ne=(n("cf36"),n("5607")),ie=n("132d"),re=n("d9f7"),oe=z["default"].extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:ne["a"]},props:{...P["a"].options.props,...x["a"].options.props,disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}},render(e,{props:t,data:n,listeners:i}){const r=[];if(t.ripple&&!t.disabled){const n=e("div",P["a"].options.methods.setTextColor(t.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));r.push(n)}let o=t.offIcon;t.indeterminate?o=t.indeterminateIcon:t.value&&(o=t.onIcon),r.push(e(ie["a"],P["a"].options.methods.setTextColor(t.value&&t.color,{props:{disabled:t.disabled,dark:t.dark,light:t.light}}),o));const a={"v-simple-checkbox":!0,"v-simple-checkbox--disabled":t.disabled};return e("div",Object(re["a"])(n,{class:a,on:{click:e=>{e.stopPropagation(),n.on&&n.on.input&&!t.disabled&&Object(Z["z"])(n.on.input).forEach(e=>e(!t.value))}}}),r)}}),ae=n("b810"),se=(n("0bc6"),Object(w["a"])(x["a"]).extend({name:"v-subheader",props:{inset:Boolean},render(e){return e("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})),le=se,ce=n("da13"),ue=n("1800"),de=n("5d23"),fe=n("8860"),he=Object(w["a"])(P["a"],x["a"]).extend({name:"v-select-list",directives:{ripple:ne["a"]},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:()=>[]}},computed:{parsedItems(){return this.selectedItems.map(e=>this.getValue(e))},tileActiveClass(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile(){const e={attrs:{role:void 0},on:{mousedown:e=>e.preventDefault()}};return this.$createElement(ce["a"],e,[this.genTileContent(this.noDataText)])}},methods:{genAction(e,t){return this.$createElement(ue["a"],[this.$createElement(oe,{props:{color:this.color,value:t},on:{input:()=>this.$emit("select",e)}})])},genDivider(e){return this.$createElement(ae["a"],{props:e})},genFilteredText(e){if(e=e||"",!this.searchInput||this.noFilter)return Object(Z["j"])(e);const{start:t,middle:n,end:i}=this.getMaskedCharacters(e);return`${Object(Z["j"])(t)}${this.genHighlight(n)}${Object(Z["j"])(i)}`},genHeader(e){return this.$createElement(le,{props:e},e.header)},genHighlight(e){return`<span class="v-list-item__mask">${Object(Z["j"])(e)}</span>`},getMaskedCharacters(e){const t=(this.searchInput||"").toString().toLocaleLowerCase(),n=e.toLocaleLowerCase().indexOf(t);if(n<0)return{start:"",middle:e,end:""};const i=e.slice(0,n),r=e.slice(n,n+t.length),o=e.slice(n+t.length);return{start:i,middle:r,end:o}},genTile({item:e,index:t,disabled:n=null,value:i=!1}){i||(i=this.hasItem(e)),e===Object(e)&&(n=null!==n?n:this.getDisabled(e));const r={attrs:{"aria-selected":String(i),id:`list-item-${this._uid}-${t}`,role:"option"},on:{mousedown:e=>{e.preventDefault()},click:()=>n||this.$emit("select",e)},props:{activeClass:this.tileActiveClass,disabled:n,ripple:!0,inputValue:i}};if(!this.$scopedSlots.item)return this.$createElement(ce["a"],r,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(e,i):null,this.genTileContent(e,t)]);const o=this,a=this.$scopedSlots.item({parent:o,item:e,attrs:{...r.attrs,...r.props},on:r.on});return this.needsTile(a)?this.$createElement(ce["a"],r,a):a},genTileContent(e,t=0){const n=this.genFilteredText(this.getText(e));return this.$createElement(de["a"],[this.$createElement(de["b"],{domProps:{innerHTML:n}})])},hasItem(e){return this.parsedItems.indexOf(this.getValue(e))>-1},needsTile(e){return 1!==e.length||null==e[0].componentOptions||"v-list-item"!==e[0].componentOptions.Ctor.options.name},getDisabled(e){return Boolean(Object(Z["n"])(e,this.itemDisabled,!1))},getText(e){return String(Object(Z["n"])(e,this.itemText,e))},getValue(e){return Object(Z["n"])(e,this.itemValue,this.getText(e))}},render(){const e=[],t=this.items.length;for(let n=0;n<t;n++){const t=this.items[n];this.hideSelected&&this.hasItem(t)||(null==t?e.push(this.genTile({item:t,index:n})):t.header?e.push(this.genHeader(t)):t.divider?e.push(this.genDivider(t)):e.push(this.genTile({item:t,index:n})))}return e.length||e.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&e.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&e.push(this.$slots["append-item"]),this.$createElement(fe["a"],{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},e)}}),pe=n("c37a"),me=n("8654"),ge=n("8547"),ve=z["default"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}});const Ee={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},Ie=Object(w["a"])(me["a"],ge["a"],ve);var _e=Ie.extend().extend({name:"v-select",directives:{ClickOutside:K["a"]},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:()=>Ee},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes(){return{...me["a"].options.computed.classes.call(this),"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple}},computedItems(){return this.allItems},computedOwns(){return"list-"+this._uid},computedCounterValue(){return this.multiple?this.selectedItems.length:(this.getText(this.selectedItems[0])||"").toString().length},directives(){return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional}}]:void 0},dynamicHeight(){return"auto"},hasChips(){return this.chips||this.smallChips},hasSlot(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty(){return this.selectedItems.length>0},listData(){const e=this.$vnode&&this.$vnode.context.$options._scopeId,t=e?{[e]:!0}:{};return{attrs:{...t,id:this.computedOwns},props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(k["b"])("assert: staticList should not be called if slots are used"),this.$createElement(he,this.listData)},virtualizedItems(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:()=>!0,$_menuProps(){let e="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(e)&&(e=e.reduce((e,t)=>(e[t.trim()]=!0,e),{})),{...Ee,eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:e.offsetY?1:0,...e}}},watch:{internalValue(e){this.initialValue=e,this.setSelectedItems()},isMenuActive(e){window.setTimeout(()=>this.onMenuActiveChange(e))},items:{immediate:!0,handler(e){this.cacheItems&&this.$nextTick(()=>{this.cachedItems=this.filterDuplicates(this.cachedItems.concat(e))}),this.setSelectedItems()}}},methods:{blur(e){me["a"].options.methods.blur.call(this,e),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1},activateMenu(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback(){this.setValue(this.multiple?[]:void 0),this.setMenuIndex(-1),this.$nextTick(()=>this.$refs.input&&this.$refs.input.focus()),this.openOnClear&&(this.isMenuActive=!0)},closeConditional(e){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(e.target))&&this.$el&&!this.$el.contains(e.target)&&e.target!==this.$el},filterDuplicates(e){const t=new Map;for(let n=0;n<e.length;++n){const i=e[n],r=this.getValue(i);!t.has(r)&&t.set(r,i)}return Array.from(t.values())},findExistingIndex(e){const t=this.getValue(e);return(this.internalValue||[]).findIndex(e=>this.valueComparator(this.getValue(e),t))},getContent(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection(e,t){const n=!this.isInteractive||this.getDisabled(e);return this.$createElement(F,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&!n,disabled:n,inputValue:t===this.selectedIndex,small:this.smallChips},on:{click:e=>{n||(e.stopPropagation(),this.selectedIndex=t)},"click:close":()=>this.onChipInput(e)},key:JSON.stringify(this.getValue(e))},this.getText(e))},genCommaSelection(e,t,n){const i=t===this.selectedIndex&&this.computedColor,r=!this.isInteractive||this.getDisabled(e);return this.$createElement("div",this.setTextColor(i,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":r},key:JSON.stringify(this.getValue(e))}),`${this.getText(e)}${n?"":", "}`)},genDefaultSlot(){const e=this.genSelections(),t=this.genInput();return Array.isArray(e)?e.push(t):(e.children=e.children||[],e.children.push(t)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,e,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon(e,t,n){const i=pe["a"].options.methods.genIcon.call(this,e,t,n);return"append"===e&&(i.children[0].data=Object(re["a"])(i.children[0].data,{attrs:{tabindex:i.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),i},genInput(){const e=me["a"].options.methods.genInput.call(this);return delete e.data.attrs.name,e.data=Object(re["a"])(e.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":Object(Z["m"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(Z["m"])(e.data,"attrs.autocomplete","off")},on:{keypress:this.onKeyPress}}),e},genHiddenInput(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot(){const e=me["a"].options.methods.genInputSlot.call(this);return e.data.attrs={...e.data.attrs,role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns},e},genList(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot(){const e=["prepend-item","no-data","append-item"].filter(e=>this.$slots[e]).map(e=>this.$createElement("template",{slot:e},this.$slots[e]));return this.$createElement(he,{...this.listData},e)},genMenu(){const e=this.$_menuProps;return e.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?e.attach=this.$el:e.attach=this.attach,this.$createElement(te,{attrs:{role:void 0},props:e,on:{input:e=>{this.isMenuActive=e,this.isFocused=e},scroll:this.onScroll},ref:"menu"},[this.genList()])},genSelections(){let e=this.selectedItems.length;const t=new Array(e);let n;n=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(e--)t[e]=n(this.selectedItems[e],e,e===t.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},t)},genSlotSelection(e,t){return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:e,index:t,select:e=>{e.stopPropagation(),this.selectedIndex=t},selected:t===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled(e){return Object(Z["n"])(e,this.itemDisabled,!1)},getText(e){return Object(Z["n"])(e,this.itemText,e)},getValue(e){return Object(Z["n"])(e,this.itemValue,this.getText(e))},onBlur(e){e&&this.$emit("blur",e)},onChipInput(e){this.multiple?this.selectItem(e):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick(e){this.isInteractive&&(this.isAppendInner(e.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",e))},onEscDown(e){e.preventDefault(),this.isMenuActive&&(e.stopPropagation(),this.isMenuActive=!1)},onKeyPress(e){if(this.multiple||!this.isInteractive||this.disableLookup)return;const t=1e3,n=performance.now();n-this.keyboardLookupLastTime>t&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=e.key.toLowerCase(),this.keyboardLookupLastTime=n;const i=this.allItems.findIndex(e=>{const t=(this.getText(e)||"").toString();return t.toLowerCase().startsWith(this.keyboardLookupPrefix)}),r=this.allItems[i];-1!==i&&(this.lastItem=Math.max(this.lastItem,i+5),this.setValue(this.returnObject?r:this.getValue(r)),this.$nextTick(()=>this.$refs.menu.getTiles()),setTimeout(()=>this.setMenuIndex(i)))},onKeyDown(e){if(this.isReadonly&&e.keyCode!==Z["t"].tab)return;const t=e.keyCode,n=this.$refs.menu;return[Z["t"].enter,Z["t"].space].includes(t)&&this.activateMenu(),this.$emit("keydown",e),n?(this.isMenuActive&&t!==Z["t"].tab&&this.$nextTick(()=>{n.changeListIndex(e),this.$emit("update:list-index",n.listIndex)}),!this.isMenuActive&&[Z["t"].up,Z["t"].down].includes(t)?this.onUpDown(e):t===Z["t"].esc?this.onEscDown(e):t===Z["t"].tab?this.onTabDown(e):t===Z["t"].space?this.onSpaceDown(e):void 0):void 0},onMenuActiveChange(e){if(this.multiple&&!e||this.getMenuIndex()>-1)return;const t=this.$refs.menu;if(t&&this.isDirty)for(let n=0;n<t.tiles.length;n++)if("true"===t.tiles[n].getAttribute("aria-selected")){this.setMenuIndex(n);break}},onMouseUp(e){this.hasMouseDown&&3!==e.which&&this.isInteractive&&(this.isAppendInner(e.target)?this.$nextTick(()=>this.isMenuActive=!this.isMenuActive):this.isEnclosed&&(this.isMenuActive=!0)),me["a"].options.methods.onMouseUp.call(this,e)},onScroll(){if(this.isMenuActive){if(this.lastItem>this.computedItems.length)return;const e=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;e&&(this.lastItem+=20)}else requestAnimationFrame(()=>this.getContent().scrollTop=0)},onSpaceDown(e){e.preventDefault()},onTabDown(e){const t=this.$refs.menu;if(!t)return;const n=t.activeTile;!this.multiple&&n&&this.isMenuActive?(e.preventDefault(),e.stopPropagation(),n.click()):this.blur(e)},onUpDown(e){const t=this.$refs.menu;if(!t)return;if(e.preventDefault(),this.multiple)return this.activateMenu();const n=e.keyCode;t.isBooted=!0,window.requestAnimationFrame(()=>{t.getTiles(),Z["t"].up===n?t.prevTile():t.nextTile(),t.activeTile&&t.activeTile.click()})},selectItem(e){if(this.multiple){const t=(this.internalValue||[]).slice(),n=this.findExistingIndex(e);if(-1!==n?t.splice(n,1):t.push(e),this.setValue(t.map(e=>this.returnObject?e:this.getValue(e))),this.$nextTick(()=>{this.$refs.menu&&this.$refs.menu.updateDimensions()}),!this.multiple)return;const i=this.getMenuIndex();if(this.setMenuIndex(-1),this.hideSelected)return;this.$nextTick(()=>this.setMenuIndex(i))}else this.setValue(this.returnObject?e:this.getValue(e)),this.isMenuActive=!1},setMenuIndex(e){this.$refs.menu&&(this.$refs.menu.listIndex=e)},setSelectedItems(){const e=[],t=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue];for(const n of t){const t=this.allItems.findIndex(e=>this.valueComparator(this.getValue(e),this.getValue(n)));t>-1&&e.push(this.allItems[t])}this.selectedItems=e},setValue(e){const t=this.internalValue;this.internalValue=e,e!==t&&this.$emit("change",e)},isAppendInner(e){const t=this.$refs["append-inner"];return t&&(t===e||t.contains(e))}}});const Te={...Ee,offsetY:!0,offsetOverflow:!0,transition:!1};var ye=_e.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,n)=>n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:_e.options.props.menuProps.type,default:()=>Te},noFilter:Boolean,searchInput:{type:String,default:void 0}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{..._e.options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(e=>this.getValue(e))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(e=>!this.hasItem(e)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(e=>{const t=Object(Z["n"])(e,this.itemText),n=null!=t?String(t):"";return this.filter(e,String(this.internalSearch),n)})},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=_e.options.computed.$_menuProps.call(this);return e.contentClass=("v-autocomplete__content "+(e.contentClass||"")).trim(),{...Te,...e}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue)))},listData(){const e=_e.options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=void 0)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(e,t){e!==t&&(this.setMenuIndex(-1),this.$nextTick(()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.setMenuIndex(0))}))},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===Z["t"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===Z["t"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==Z["t"].backspace&&e!==Z["t"].delete||this.deleteCurrentItem())},deleteCurrentItem(){const e=this.selectedIndex,t=this.selectedItems[e];if(!this.isInteractive||this.getDisabled(t))return;const n=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==n)return void(this.selectedIndex=n);const i=this.selectedItems.length,r=e!==i-1?e:e-1,o=this.selectedItems[r];o?this.selectItem(t):this.setValue(this.multiple?[]:void 0),this.selectedIndex=r},clearableCallback(){this.internalSearch=void 0,_e.options.methods.clearableCallback.call(this)},genInput(){const e=me["a"].options.methods.genInput.call(this);return e.data=Object(re["a"])(e.data,{attrs:{"aria-activedescendant":Object(Z["m"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(Z["m"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=_e.options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?_e.options.methods.genSelections.call(this):[]},onClick(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,n=t.value;t.value&&this.activateMenu(),this.internalSearch=n,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;_e.options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){_e.options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){_e.options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){_e.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){if(-1===this.selectedIndex)return;const t=this.selectedItems[this.selectedIndex],n=this.getText(t);e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),e.preventDefault()}}}),Oe=ye.extend({name:"v-combobox",props:{delimiters:{type:Array,default:()=>[]},returnObject:{type:Boolean,default:!0}},data:()=>({editingIndex:-1}),computed:{computedCounterValue(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot(){return _e.options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed(){return!0},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)}},methods:{onInternalSearchChanged(e){if(e&&this.multiple&&this.delimiters.length){const t=this.delimiters.find(t=>e.endsWith(t));null!=t&&(this.internalSearch=e.slice(0,e.length-t.length),this.updateTags())}this.updateMenuDimensions()},genInput(){const e=ye.options.methods.genInput.call(this);return delete e.data.attrs.name,e.data.on.paste=this.onPaste,e},genChipSelection(e,t){const n=_e.options.methods.genChipSelection.call(this,e,t);return this.multiple&&(n.componentOptions.listeners={...n.componentOptions.listeners,dblclick:()=>{this.editingIndex=t,this.internalSearch=this.getText(e),this.selectedIndex=-1}}),n},onChipInput(e){_e.options.methods.onChipInput.call(this,e),this.editingIndex=-1},onEnterDown(e){e.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onFilteredItemsChanged(e,t){this.autoSelectFirst&&ye.options.methods.onFilteredItemsChanged.call(this,e,t)},onKeyDown(e){const t=e.keyCode;_e.options.methods.onKeyDown.call(this,e),this.multiple&&t===Z["t"].left&&0===this.$refs.input.selectionStart?this.updateSelf():t===Z["t"].enter&&this.onEnterDown(e),this.changeSelectedIndex(t)},onTabDown(e){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return e.preventDefault(),e.stopPropagation(),this.updateTags();ye.options.methods.onTabDown.call(this,e)},selectItem(e){this.editingIndex>-1?this.updateEditing():ye.options.methods.selectItem.call(this,e)},setSelectedItems(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue(e){var t;_e.options.methods.setValue.call(this,null!=(t=e)?t:this.internalSearch)},updateEditing(){const e=this.internalValue.slice();e[this.editingIndex]=this.internalSearch,this.setValue(e),this.editingIndex=-1},updateCombobox(){const e=Boolean(this.$scopedSlots.selection)||this.hasChips;e&&!this.searchIsDirty||(this.internalSearch!==this.getText(this.internalValue)&&this.setValue(),e&&(this.internalSearch=void 0))},updateSelf(){this.multiple?this.updateTags():this.updateCombobox()},updateTags(){const e=this.getMenuIndex();if(e<0&&!this.searchIsDirty)return;if(this.editingIndex>-1)return this.updateEditing();const t=this.selectedItems.indexOf(this.internalSearch);if(t>-1){const e=this.internalValue.slice();e.splice(t,1),this.setValue(e)}if(e>-1)return this.internalSearch=null;this.selectItem(this.internalSearch),this.internalSearch=null},onPaste(e){if(!this.multiple||this.searchIsDirty)return;const t=e.clipboardData.getData("text/vnd.vuetify.autocomplete.item+plain");t&&-1===this.findExistingIndex(t)&&(e.preventDefault(),_e.options.methods.selectItem.call(this,t))}}}),Re=(n("5803"),n("2677")),Se=Re["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:e=>Object(Z["z"])(e).every(e=>null!=e&&"object"===typeof e)}},computed:{classes(){return{...Re["a"].options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const e=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);const t=this.internalArrayValue.reduce((e,{size:t=0})=>e+t,0);return this.$vuetify.lang.t(this.counterSizeString,e,Object(Z["r"])(t,1024===this.base))},internalArrayValue(){return Object(Z["z"])(this.internalValue)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},isMultiple(){return this.$attrs.hasOwnProperty("multiple")},text(){return this.isDirty?this.internalArrayValue.map(e=>{const{name:t="",size:n=0}=e,i=this.truncateText(t);return this.showSize?`${i} (${Object(Z["r"])(n,1024===this.base)})`:i}):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(e){!0===e&&Object(k["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value(e){const t=this.isMultiple?e:e?[e]:[];Object(Z["i"])(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.isMultiple?[]:void 0,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map((e,t)=>this.$createElement(B,{props:{small:this.smallChips},on:{"click:close":()=>{const e=this.internalValue;e.splice(t,1),this.internalValue=e}}},[e])):[]},genControl(){const e=Re["a"].options.methods.genControl.call(this);return this.hideInput&&(e.data.style=Object(re["b"])(e.data.style,{display:"none"})),e},genInput(){const e=Re["a"].options.methods.genInput.call(this);return delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot(){if(!this.prependIcon)return null;const e=this.genIcon("prepend",()=>{this.$refs.input.click()});return this.genSlot("prepend","outer",[e])},genSelectionText(){const e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections(){const e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((t,n)=>{this.$scopedSlots.selection&&e.push(this.$scopedSlots.selection({text:this.text[n],file:t,index:n}))}):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot(){const e=Re["a"].options.methods.genTextFieldSlot.call(this);return e.data.on={...e.data.on||{},click:()=>this.$refs.input.click()},e},onInput(e){const t=[...e.target.files||[]];this.internalValue=this.isMultiple?t:t[0],this.initialValue=this.internalValue},onKeyDown(e){this.$emit("keydown",e)},truncateText(e){if(e.length<Number(this.truncateLength))return e;const t=Math.floor((Number(this.truncateLength)-1)/2);return`${e.slice(0,t)}…${e.slice(e.length-t)}`}}}),De=n("adda"),be=n("0fd9"),Ae=n("2db4"),we=n("a844"),Ce=Object(I["a"])(O,o,a,!1,null,null,null),Me=Ce.exports;S()(Ce,{VBtn:D["a"],VCard:b["a"],VCol:A["a"],VCombobox:Oe,VFileInput:Se,VImg:De["a"],VRow:be["a"],VSelect:_e,VSnackbar:Ae["a"],VTextField:me["a"],VTextarea:we["a"]});var Pe={name:"Upload",components:{VideoUpload:Me},data:function(){return{}}},Le=Pe,xe=n("a523"),Ne=Object(I["a"])(Le,i,r,!1,null,null,null);t["default"]=Ne.exports;S()(Ne,{VContainer:xe["a"]})},ee6f:function(e,t,n){}}]);