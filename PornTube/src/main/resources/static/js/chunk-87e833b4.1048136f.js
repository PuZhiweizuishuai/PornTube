(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87e833b4"],{afdd:function(t,e,i){"use strict";var a=i("8336");e["a"]=a["a"]},e382:function(t,e,i){"use strict";i.r(e);var a=i("8212"),s=i("8336"),o=i("cc20"),n=i("62ad"),r=i("a523"),d=i("ce7e"),l=i("adda"),p=i("891e"),c=i("0fd9"),u=i("71a3"),h=i("fe57"),g=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{staticStyle:{padding:"0px"},attrs:{"fill-height":"",fluid:""}},[e(c["a"],[e(n["a"],{staticStyle:{padding:"0px"}},[e(l["a"],{attrs:{src:t.userInfo.topImgUrl,"aspect-ratio":5.98}})],1)],1)],1),e(r["a"],{attrs:{"fill-height":""}},[e(c["a"],{staticStyle:{"padding-top":"12px","padding-bottom":"12px"},attrs:{align:"center"}},[e(n["a"],{attrs:{cols:"12",md:"8"}},[e(a["a"],{staticStyle:{float:"left"},attrs:{size:"80"}},[e(l["a"],{attrs:{src:t.userInfo.avatarUrl}})],1),e("h2",{staticStyle:{"margin-top":"20px","margin-left":"100px"}},[t._v(" "+t._s(t.userInfo.username)+" "),"vip"===t.Power.checkPower(t.userInfo)?e(o["a"],{attrs:{color:"yellow"},on:{click:function(e){return t.goTOVIP()}}},[t._v(" VIP ")]):t._e()],1)],1),this.$store.state.userInfo&&this.$store.state.userInfo.id==t.id?e(n["a"],{staticClass:"hidden-sm-and-down ml-0 pl-4",attrs:{cols:"6",md:"4"}},[e(s["a"],{attrs:{color:"primary"},on:{click:t.goToSetting}},[t._v("自定义频道")]),t._v(" "),e(s["a"],{attrs:{color:"primary"},on:{click:t.goToStudio}},[t._v("创作中心")])],1):t._e(),null==this.$store.state.userInfo||this.$store.state.userInfo.id!=t.id?e(n["a"],{attrs:{cols:"6",md:"4"}},[t._v(" 粉丝数： "+t._s(t.userInfo.fansCount)+" "),e(s["a"],{attrs:{color:"primary"}},[t._v("关注他")])],1):t._e()],1),e(h["a"],[e(u["a"],{on:{click:function(e){return t.setType(0)}}},[t._v("首页")]),e(u["a"],{on:{click:function(e){return t.setType(0)}}},[t._v("视频")]),e(u["a"],{on:{click:function(e){return t.setType(2)}}},[t._v("讨论")]),e(u["a"],{on:{click:function(e){return t.setType(4)}}},[t._v("简介")])],1)],1),e(d["a"]),e(r["a"],{attrs:{"fill-height":""}},[e("div",{attrs:{id:"top"}}),4==t.type?e("div",[e(c["a"],[e(n["a"],[t._v(" 用户名: "+t._s(t.userInfo.username)+" ")])],1),e(c["a"],[e(n["a"],[t._v(" 简介： "+t._s(t.userInfo.introduction)+" ")])],1),e(c["a"],[e(n["a"],[t._v(" 视频总数： "+t._s(t.userInfo.submitCount)+" ")])],1),e(c["a"],[e(n["a"],[t._v(" 粉丝数： "+t._s(t.userInfo.fansCount)+" ")])],1),e(c["a"],[e(n["a"],[t._v(" 关注数： "+t._s(t.userInfo.followCount)+" ")])],1),e(c["a"],[e(n["a"],[t._v(" 加入时间： "+t._s(t.TimeUtil.renderTime(t.userInfo.createTime))+" ")])],1)],1):t._e(),4!=t.type?e(c["a"],t._l(t.videoList,(function(t){return e(n["a"],{key:t.id,attrs:{cols:"12"}},[e("VideoList",{attrs:{video:t}})],1)})),1):t._e(),e(c["a"],{staticStyle:{"padding-top":"12px","padding-bottom":"12px"},attrs:{justify:"center"}},[e(p["a"],{attrs:{length:t.length},on:{input:t.pageChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},f=[],v=(i("14d9"),i("f3a1")),_=function(){var t=this,e=t._self._c;return e(c["a"],{staticStyle:{"padding-top":"12px","padding-bottom":"12px"}},[e(n["a"],{attrs:{cols:"3"}},[e("router-link",{attrs:{to:"/video/"+t.video.id}},[e(l["a"],{staticClass:"white--text align-end",attrs:{src:t.video.imgUrl,"aspect-ratio":"1.77","max-width":"400"}},[e("span",{staticStyle:{"background-color":"rgba(0,0,0,0.4)","border-radius":"5px"}},[t._v(" "+t._s(t.TimeUtil.timeCover(t.video.duration))+" ")])])],1)],1),e(n["a"],[e(c["a"],{staticStyle:{"padding-top":"6px"}},[e("router-link",{attrs:{to:"/video/"+t.video.id}},[e("h3",[t._v(" "+t._s(t.video.title)+" "),t.videoInfo.pixelsNumber>=2073600?e(o["a"],{staticClass:"ma-2",attrs:{color:"orange","x-small":"","text-color":"white"}},[t._v(" "+t._s(t.StringUtils.clarityDisplay(t.video.pixelsNumber))+" ")]):t._e()],1)])],1),e(c["a"],{staticStyle:{color:"#606060","fount-size":"12px","padding-top":"6px"}},[t._v(" 播放： "+t._s(t.video.viewCount)+" "),e("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;")}}),t._v(" 弹幕： "+t._s(t.video.danmakuCount)+" ")]),e(c["a"],{staticStyle:{color:"#606060","fount-size":"12px","padding-top":"6px"}},[t._v(" 分区： "),0!==t.videoInfo.childrenCategory.fatherId?e("router-link",{staticClass:"category-link",attrs:{to:"/v/"+t.videoInfo.fatherCategory.id}},[e("span",{domProps:{textContent:t._s(t.videoInfo.fatherCategory.name)}})]):t._e(),t._v(" / "),e("router-link",{staticClass:"category-link",attrs:{to:"/v/"+t.videoInfo.childrenCategory.id}},[e("span",{domProps:{textContent:t._s(t.videoInfo.childrenCategory.name)}})]),e("br")],1),e(c["a"],{staticStyle:{color:"#606060","fount-size":"12px","padding-top":"6px"}},[t._v(" 发布于： "),e("span",{domProps:{textContent:t._s(t.TimeUtil.renderTime(t.video.createTime))}})]),e(c["a"],{staticStyle:{color:"#606060","fount-size":"12px","padding-top":"6px"}},[t._v(" "+t._s(t.video.describes)+" ")])],1)],1)},m=[],y=i("9878"),T=i("c919"),x={name:"VideoList",props:{video:{type:Object,default:()=>{}}},data(){return{TimeUtil:y["a"],StringUtils:T["a"],videoInfo:this.video}}},I=x,C=i("2877"),k=Object(C["a"])(I,_,m,!1,null,null,null),S=k.exports,b={name:"UserHome",components:{VideoList:S},data(){return{TimeUtil:y["a"],Power:v["a"],id:0,userInfo:{},videoList:[],page:1,size:20,length:1,totalCount:0,type:0}},created(){this.id=this.$route.params.id,this.id=parseInt(this.$route.params.id),this.getUserInfo(),this.geVideoList()},methods:{getUserInfo(){fetch("/api/user/info/"+this.id,{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then(t=>t.json()).then(t=>{this.userInfo=t.data,document.title=t.data.username,-1===t.data.id&&this.$router.push("/404")}).catch(t=>null)},geVideoList(){fetch(`/api/article/user/list/${this.id}?page=${this.page}&limit=${this.size}&type=${this.type}`,{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then(t=>t.json()).then(t=>{this.videoList=t.data.list,this.page=t.data.currPage,this.length=t.data.totalPage,this.totalCount=t.data.totalCount}).catch(t=>null)},pageChange(t){this.page=t,this.geVideoList(this.type),this.$vuetify.goTo(0)},setType(t){this.type=t,this.page=1,4!==t&&(this.geVideoList(),this.$vuetify.goTo(0))},goTOVIP(){this.$router.push("/vip")},goToStudio(){this.$router.push("/studio")},goToSetting(){this.$router.push("/user/setting")}}},$=b,w=Object(C["a"])($,g,f,!1,null,null,null);e["default"]=w.exports}}]);