(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224cf0"],{e25b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"fill-height":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",[a("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[a("div",{attrs:{id:"top"}}),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("v-btn",{attrs:{block:"",color:"secondary"},on:{click:e.create}},[e._v("生成邀请码")])],1)],1),a("v-divider"),a("v-row",{attrs:{justify:"center"}},[a("div",{attrs:{id:"top"}}),a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.invitationList,"hide-default-footer":"","items-per-page":e.size,page:e.page},on:{"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"item.createUser",fn:function(t){var n=t.item;return[a("a",{attrs:{href:"/user/"+n.createUser,target:"_blank"}},[e._v(" "+e._s(n.createUser)+" ")])]}},{key:"item.createTime",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.TimeUtil.renderTime(a.createTime))+" ")]}},{key:"item.useTime",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.TimeUtil.renderTime(a.useTime))+" ")]}},{key:"item.useStatus",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getStatus(a.useStatus))+" ")]}},{key:"item.useUser",fn:function(t){var n=t.item;return[a("a",{attrs:{href:"/user/"+n.useUser,target:"_blank"}},[e._v(" "+e._s(n.useUser)+" ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.getList}},[e._v("重新加载")])]},proxy:!0}])})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-pagination",{attrs:{length:e.length},on:{input:e.pageChange},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)],1),a("v-snackbar",{attrs:{top:!0,timeout:3e3},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.showMessage=!1}}},"v-btn",n,!1),[e._v(" 关闭 ")])]}}]),model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[e._v(" "+e._s(e.message)+" ")])],1)},s=[],i=(a("99af"),a("d3b7"),a("9878")),r={name:"Invitation",data:function(){return{showMessage:!1,message:"",TimeUtil:i["a"],invitationList:[],headers:[{text:"id",sortable:!1,value:"id"},{text:"创建时间",sortable:!1,value:"createTime"},{text:"生成人",sortable:!1,value:"createUser"},{text:"邀请码",sortable:!1,value:"code"},{text:"是否使用",sortable:!1,value:"useStatus"},{text:"使用人",sortable:!1,value:"useUser"},{text:"使用时间",sortable:!1,value:"useTime"}],page:1,size:20,length:1}},created:function(){this.getList()},methods:{getStatus:function(e){return 1===e?"可用":"不可用"},getList:function(){var e=this;fetch("/api/admin/invitation/list?page=".concat(this.page,"&limit=").concat(this.size),{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.invitationList=t.data.list,e.page=t.data.currPage,e.length=t.data.totalPage})).catch((function(e){return null}))},create:function(){var e=this;fetch("/api/admin/invitation/create",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include"}).then((function(e){return e.json()})).then((function(t){200===t.status?(e.message="生成成功，请到列表查看",e.showMessage=!0,e.getList()):(e.message="生成失败，"+t.message,e.showMessage=!0)})).catch((function(e){return null}))},pageChange:function(e){this.page=e,this.videoList(),document.querySelector("#top").scrollIntoView()}}},o=r,c=a("2877"),u=a("6544"),l=a.n(u),v=a("8336"),d=a("b0af"),f=a("62ad"),g=a("a523"),h=a("8fea"),p=a("ce7e"),m=a("891e"),b=a("0fd9"),k=a("2db4"),T=Object(c["a"])(o,n,s,!1,null,null,null);t["default"]=T.exports;l()(T,{VBtn:v["a"],VCard:d["a"],VCol:f["a"],VContainer:g["a"],VDataTable:h["a"],VDivider:p["a"],VPagination:m["a"],VRow:b["a"],VSnackbar:k["a"]})}}]);