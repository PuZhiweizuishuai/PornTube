(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224cf0"],{e25b:function(e,t,a){"use strict";a.r(t);var s=a("8336"),i=a("b0af"),n=a("62ad"),r=a("a523"),o=a("8fea"),c=a("ce7e"),u=a("891e"),l=a("0fd9"),h=a("2db4"),d=function(){var e=this,t=e._self._c;return t(r["a"],{attrs:{"fill-height":""}},[t(l["a"],{attrs:{justify:"center",align:"center"}},[t(n["a"],[t(i["a"],{staticClass:"mx-auto",attrs:{outlined:""}},[t("div",{attrs:{id:"top"}}),t(l["a"],{attrs:{justify:"center"}},[t(n["a"],{attrs:{cols:"10"}},[t(s["a"],{attrs:{block:"",color:"secondary"},on:{click:e.create}},[e._v("生成邀请码")])],1)],1),t(c["a"]),t(l["a"],{attrs:{justify:"center"}},[t("div",{attrs:{id:"top"}}),t(n["a"],{attrs:{cols:"12"}},[t(o["a"],{attrs:{headers:e.headers,items:e.invitationList,"hide-default-footer":"","items-per-page":e.size,page:e.page},on:{"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"item.createUser",fn:function({item:a}){return[t("a",{attrs:{href:"/user/"+a.createUser,target:"_blank"}},[e._v(" "+e._s(a.createUser)+" ")])]}},{key:"item.createTime",fn:function({item:t}){return[e._v(" "+e._s(e.TimeUtil.renderTime(t.createTime))+" ")]}},{key:"item.useTime",fn:function({item:t}){return[e._v(" "+e._s(e.TimeUtil.renderTime(t.useTime))+" ")]}},{key:"item.useStatus",fn:function({item:t}){return[e._v(" "+e._s(e.getStatus(t.useStatus))+" ")]}},{key:"item.useUser",fn:function({item:a}){return[t("a",{attrs:{href:"/user/"+a.useUser,target:"_blank"}},[e._v(" "+e._s(a.useUser)+" ")])]}},{key:"no-data",fn:function(){return[t(s["a"],{attrs:{color:"primary"},on:{click:e.getList}},[e._v("重新加载")])]},proxy:!0}])})],1)],1),t(l["a"],{staticStyle:{"padding-top":"12px","padding-bottom":"24px"},attrs:{justify:"center"}},[t(u["a"],{attrs:{length:e.length},on:{input:e.pageChange},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)],1),t(h["a"],{attrs:{top:!0,timeout:3e3},scopedSlots:e._u([{key:"action",fn:function({attrs:a}){return[t(s["a"],e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.showMessage=!1}}},"v-btn",a,!1),[e._v(" 关闭 ")])]}}]),model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[e._v(" "+e._s(e.message)+" ")])],1)},g=[],p=a("9878"),m={name:"Invitation",data(){return{showMessage:!1,message:"",TimeUtil:p["a"],invitationList:[],headers:[{text:"id",sortable:!1,value:"id"},{text:"创建时间",sortable:!1,value:"createTime"},{text:"生成人",sortable:!1,value:"createUser"},{text:"邀请码",sortable:!1,value:"code"},{text:"是否使用",sortable:!1,value:"useStatus"},{text:"使用人",sortable:!1,value:"useUser"},{text:"使用时间",sortable:!1,value:"useTime"}],page:1,size:20,length:1}},created(){this.getList()},methods:{getStatus(e){return 1===e?"可用":"不可用"},getList(){fetch(`/api/admin/invitation/list?page=${this.page}&limit=${this.size}`,{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then(e=>e.json()).then(e=>{this.invitationList=e.data.list,this.page=e.data.currPage,this.length=e.data.totalPage}).catch(e=>null)},create(){fetch("/api/admin/invitation/create",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include"}).then(e=>e.json()).then(e=>{200===e.status?(this.message="生成成功，请到列表查看",this.showMessage=!0,this.getList()):(this.message="生成失败，"+e.message,this.showMessage=!0)}).catch(e=>null)},pageChange(e){this.page=e,this.videoList(),document.querySelector("#top").scrollIntoView()}}},f=m,v=a("2877"),_=Object(v["a"])(f,d,g,!1,null,null,null);t["default"]=_.exports}}]);