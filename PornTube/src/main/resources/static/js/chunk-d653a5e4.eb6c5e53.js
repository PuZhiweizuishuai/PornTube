(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d653a5e4"],{"12ab":function(t,e,i){"use strict";i("5e84")},1681:function(t,e,i){},"269a":function(t,e){t.exports=function(t,e){var i="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var a in"function"===typeof t.exports&&(i.directives=t.exports.options.directives),i.directives=i.directives||{},e)i.directives[a]=i.directives[a]||e[a]}},5311:function(t,e,i){"use strict";var a=i("5607"),o=i("2b0e");e["a"]=o["default"].extend({name:"rippleable",directives:{ripple:a["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},"5e84":function(t,e,i){},"696f":function(t,e,i){},"85bc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-container",{staticStyle:{"padding-bottom":"0px"},attrs:{"fill-height":"",fluid:""}},[i("v-row",{staticStyle:{"padding-top":"12px","padding-bottom":"12px"}},[i("v-col",{staticStyle:{"padding-bottom":"0px"}},[i("DPlayer",{attrs:{article:parseInt(t.id),video:t.videoData.video[0],picurl:t.videoData.imgUrl}})],1)],1)],1),i("v-container",{staticStyle:{"padding-top":"0px"},attrs:{"fill-height":""}},[i("v-row",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticStyle:{"padding-top":"12px","padding-bottom":"12px"},attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:t.colsWidth}},[i("v-row",[i("v-col",[i("h3",{domProps:{textContent:t._s(t.videoData.title)}})])],1),i("v-row",[i("v-col",{staticStyle:{color:"#999","font-size":"12px","padding-top":"0px"}},[0!==t.videoData.childrenCategory.fatherId?i("router-link",{staticClass:"category-link",attrs:{to:"/v/"+t.videoData.fatherCategory.id}},[i("span",{domProps:{textContent:t._s(t.videoData.fatherCategory.name)}})]):t._e(),t._v(" / "),i("router-link",{staticClass:"category-link",attrs:{to:"/v/"+t.videoData.childrenCategory.id}},[i("span",{domProps:{textContent:t._s(t.videoData.childrenCategory.name)}})]),i("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),t._v(" 发布于： "),i("span",{domProps:{textContent:t._s(t.TimeUtil.renderTime(t.videoData.createTime))}}),i("br"),i("span",{domProps:{textContent:t._s(t.videoData.viewCount)}}),t._v(" 次观看 "),i("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),t._v(" "),i("span",{domProps:{textContent:t._s(t.videoData.danmakuCount)}}),t._v(" 弹幕 ")],1)],1),i("v-divider"),i("v-row",{staticStyle:{"padding-top":"5px","padding-bottom":"5px"}},[i("v-col",{attrs:{cols:"2","align-self":"end"}},[i("router-link",{attrs:{to:"/user/"+t.videoData.userId}},[i("v-avatar",{attrs:{size:"62"}},[i("v-img",{attrs:{src:t.videoData.avatarUrl}})],1)],1)],1),i("v-col",[i("router-link",{attrs:{to:"/user/"+t.videoData.userId}},[i("span",{domProps:{textContent:t._s(t.videoData.username)}})]),i("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),i("span",{staticStyle:{color:"#999","font-size":"12px"},domProps:{textContent:t._s(t.videoData.introduction)}}),i("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),i("v-btn",{attrs:{small:"",outlined:"",color:"primary"}},[i("span",[t._v("关注")]),i("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;")}}),i("span",{domProps:{textContent:t._s(t.videoData.followCount)}})]),i("br"),i("br"),i("span",{domProps:{textContent:t._s(t.videoData.describes)}})],1)],1),i("v-col"),i("v-divider"),i("v-row",[i("v-col",[t._v(" 标签： "),t._l(t.videoData.tag,(function(e){return i("span",{key:e},[i("v-btn",{attrs:{rounded:"",small:"",text:"",color:"primary",dark:""}},[t._v(t._s(e))])],1)}))],2)],1)],1),i("v-col",{attrs:{cols:"1"}}),i("v-col",{attrs:{cols:"3"}},[i("v-rating",{attrs:{color:"orange","background-color":"orange lighten-3"},model:{value:t.score,callback:function(e){t.score=e},expression:"score"}}),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),a),[i("v-icon",[t._v("mdi-thumb-up")]),i("span",{domProps:{textContent:t._s(t.videoData.likeCount)}})],1)]}}])},[i("span",[t._v("顶一下")])]),i("span",{domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;")}}),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),a),[i("v-icon",[t._v("mdi-thumb-down")]),i("span",{domProps:{textContent:t._s(t.videoData.dislikeCount)}})],1)]}}])},[i("span",[t._v("踩一下")])])],1)],1),i("v-col"),i("v-row",{staticStyle:{"padding-top":"12px","padding-bottom":"12px"}},[i("v-col",{attrs:{cols:t.colsWidth}},[i("Comment",{attrs:{count:t.videoData.commentCount}})],1),i("v-col",[t._v(" 相关视频： ")])],1)],1)],1)},o=[],n=(i("d3b7"),i("7693")),s=i("9878"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-row",[i("v-col",[t._v(" "+t._s(t.commentCount)+" 条评论 ")])],1),i("v-row",[i("v-col",{staticStyle:{"padding-top":"0px"},attrs:{cols:"2"}},[this.$store.state.userInfo?i("router-link",{attrs:{to:"/user/"+this.$store.state.userInfo.id}},[i("v-avatar",{attrs:{size:"62"}},[i("v-img",{attrs:{src:this.$store.state.userInfo.avatarUrl,alt:this.$store.state.userInfo.username,title:this.$store.state.userInfo.username}})],1)],1):t._e(),null==this.$store.state.userInfo?i("v-avatar",{attrs:{size:"62"}},[i("v-img",{attrs:{src:"/images/head.png",alt:"头像",title:"请登录后评论"}})],1):t._e()],1),i("v-col",{staticStyle:{"padding-top":"0px"}},[i("v-textarea",{attrs:{placeholder:"发表公开评论",label:"评论",rows:"2","no-resize":!0}})],1)],1),i("v-row",[i("v-col",[i("v-btn",{staticStyle:{float:"right"},attrs:{color:"primary"}},[t._v("评论")])],1)],1),i("v-divider"),i("v-row",[i("v-col",[t._v(" 评论列表，待完成 ")])],1)],1)},l=[],d=(i("a9e3"),{name:"VideoComment",props:{count:{type:Number,default:0}},data:function(){return{commentCount:this.count}}}),c=d,p=i("2877"),u=i("6544"),v=i.n(u),h=i("8212"),m=i("8336"),g=i("62ad"),f=i("ce7e"),b=i("adda"),x=i("0fd9"),y=i("a844"),w=Object(p["a"])(c,r,l,!1,null,null,null),_=w.exports;v()(w,{VAvatar:h["a"],VBtn:m["a"],VCol:g["a"],VDivider:f["a"],VImg:b["a"],VRow:x["a"],VTextarea:y["a"]});var I={name:"Video",components:{DPlayer:n["a"],Comment:_},data:function(){return{score:0,TimeUtil:s["a"],id:0,videoData:{},windowSize:{},colsWidth:8}},created:function(){this.id=this.$route.params.id,this.videoInfo(),this.onResize()},methods:{onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.windowSize.x<900?this.colsWidth=12:this.colsWidth=8},videoInfo:function(){var t=this;fetch("/api/article/video/".concat(this.id),{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then((function(t){return t.json()})).then((function(e){200===e.status&&e.data.isShow?(t.videoData=e.data,document.title=e.data.title):t.$router.push("/")})).catch((function(t){return null}))}}},C=I,H=(i("12ab"),i("a523")),k=i("132d"),S=(i("696f"),i("9d26")),$=i("a9ad"),D=i("16b7"),V=i("af2b"),z=i("5311"),P=i("7560"),T=i("80d2"),N=i("58df"),F=Object(N["a"])($["a"],D["a"],z["a"],V["a"],P["a"]).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0},iconLabel:{type:String,default:"$vuetify.rating.ariaLabel.icon"}},data(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps(){const{dark:t,large:e,light:i,medium:a,small:o,size:n,xLarge:s,xSmall:r}=this.$props;return{dark:t,large:e,light:i,medium:a,size:n,small:o,xLarge:s,xSmall:r}},isHovering(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue(t){t!==this.value&&this.$emit("input",t)},value(t){this.internalValue=t}},methods:{createClickFn(t){return e=>{if(this.readonly)return;const i=this.genHoverIndex(e,t);this.clearable&&this.internalValue===i?this.internalValue=0:this.internalValue=i}},createProps(t){const e={index:t,value:this.internalValue,click:this.createClickFn(t),isFilled:Math.floor(this.internalValue)>t,isHovered:Math.floor(this.hoverIndex)>t};return this.halfIncrements&&(e.isHalfHovered=!e.isHovered&&(this.hoverIndex-t)%1>0,e.isHalfFilled=!e.isFilled&&(this.internalValue-t)%1>0),e},genHoverIndex(t,e){let i=this.isHalfEvent(t);return this.halfIncrements&&this.$vuetify.rtl&&(i=!i),e+(i?.5:1)},getIconName(t){const e=this.isHovering?t.isHovered:t.isFilled,i=this.isHovering?t.isHalfHovered:t.isHalfFilled;return e?this.fullIcon:i?this.halfIcon:this.emptyIcon},getColor(t){if(this.isHovering){if(t.isHovered||t.isHalfHovered)return this.color}else if(t.isFilled||t.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent(t){if(this.halfIncrements){const e=t.target&&t.target.getBoundingClientRect();if(e&&t.pageX-e.left<e.width/2)return!0}return!1},onMouseEnter(t,e){this.runDelay("open",()=>{this.hoverIndex=this.genHoverIndex(t,e)})},onMouseLeave(){this.runDelay("close",()=>this.hoverIndex=-1)},genItem(t){const e=this.createProps(t);if(this.$scopedSlots.item)return this.$scopedSlots.item(e);const i={click:e.click};return this.hover&&(i.mouseenter=e=>this.onMouseEnter(e,t),i.mouseleave=this.onMouseLeave,this.halfIncrements&&(i.mousemove=e=>this.onMouseEnter(e,t))),this.$createElement(S["a"],this.setTextColor(this.getColor(e),{attrs:{"aria-label":this.$vuetify.lang.t(this.iconLabel,t+1,Number(this.length))},directives:this.directives,props:this.iconProps,on:i}),[this.getIconName(e)])}},render(t){const e=Object(T["i"])(Number(this.length)).map(t=>this.genItem(t));return t("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},e)}}),R=i("3a2f"),M=i("269a"),B=i.n(M),E=i("dc22"),L=Object(p["a"])(C,a,o,!1,null,null,null);e["default"]=L.exports;v()(L,{VAvatar:h["a"],VBtn:m["a"],VCol:g["a"],VContainer:H["a"],VDivider:f["a"],VIcon:k["a"],VImg:b["a"],VRating:F,VRow:x["a"],VTooltip:R["a"]}),B()(L,{Resize:E["a"]})},"8ce9":function(t,e,i){},a844:function(t,e,i){"use strict";i("1681");var a=i("8654"),o=i("58df");const n=Object(o["a"])(a["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...a["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null==(e=this.$refs.input)||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=a["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){a["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},ce7e:function(t,e,i){"use strict";i("8ce9");var a=i("7560");e["a"]=a["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})}}]);