(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a2912da"],{"2db4":function(e,t,s){"use strict";s("ca71");var i=s("8dd9"),a=s("a9ad"),r=s("7560"),o=s("f2e7"),n=s("fe6c"),l=s("58df"),c=s("80d2"),h=s("d9bd");t["a"]=Object(l["a"])(i["a"],a["a"],o["a"],Object(n["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:e=>"string"===typeof e||!1===e},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:r["a"].options.computed.isDark.call(this)},styles(){if(this.absolute||!this.app)return{};const{bar:e,bottom:t,footer:s,insetFooter:i,left:a,right:r,top:o}=this.$vuetify.application;return{paddingBottom:Object(c["h"])(t+s+i),paddingLeft:Object(c["h"])(a),paddingRight:Object(c["h"])(r),paddingTop:Object(c["h"])(e+o)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(h["e"])("auto-height",this),0==this.timeout&&Object(h["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(c["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(c["s"])(this)])},genWrapper(){const e=this.hasBackground?this.setBackgroundColor:this.setTextColor,t=e(this.color,{staticClass:"v-snack__wrapper",class:i["a"].options.computed.classes.call(this),style:i["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:()=>window.clearTimeout(this.activeTimeout),pointerleave:this.setTimeout}});return this.$createElement("div",t,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},e))}},render(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},5311:function(e,t,s){"use strict";var i=s("5607"),a=s("2b0e");t["a"]=a["default"].extend({name:"rippleable",directives:{ripple:i["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}})},"615b":function(e,t,s){},"9d01":function(e,t,s){},b0af:function(e,t,s){"use strict";s("615b");var i=s("10d2"),a=s("297c"),r=s("1c87"),o=s("58df");t["a"]=Object(o["a"])(a["a"],r["a"],i["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...r["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...i["a"].options.computed.classes.call(this)}},styles(){const e={...i["a"].options.computed.styles.call(this)};return this.img&&(e.background=`url("${this.img}") center center / cover no-repeat`),e}},methods:{genProgress(){const e=a["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render(e){const{tag:t,data:s}=this.generateRouteLink();return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),e(t,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})},b73d:function(e,t,s){"use strict";s("ec29"),s("9d01");var i=s("c37a"),a=s("5311"),r=s("8547"),o=s("58df");function n(e){e.preventDefault()}var l=Object(o["a"])(i["a"],a["a"],r["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some(t=>this.valueComparator(t,e)):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=i["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:n},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:n},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const s=t.length;t=t.filter(t=>!this.valueComparator(t,e)),t.length===s&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}}),c=s("c3f0"),h=s("0789"),u=s("490a"),d=s("80d2");t["a"]=l.extend({name:"v-switch",directives:{Touch:c["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...t}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(h["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(u["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===d["y"].left&&this.isActive||e.keyCode===d["y"].right&&!this.isActive)&&this.onChange()}}})},ca71:function(e,t,s){},dd7b:function(e,t,s){"use strict";s.r(t);var i=s("8336"),a=s("b0af"),r=s("62ad"),o=s("a523"),n=s("132d"),l=s("f6c4"),c=s("0fd9"),h=s("2db4"),u=function(){var e=this,t=e._self._c;return t(l["a"],[t(o["a"],{attrs:{"fill-height":""}},[t(c["a"],{attrs:{justify:"center",align:"center"}},[t(r["a"],{attrs:{cols:"12"}},[t(a["a"],{staticClass:"mx-auto",attrs:{"max-width":"500"}},[t(c["a"],{staticStyle:{height:"64px"},attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"10"}},[t(i["a"],{attrs:{text:""},on:{click:e.backHome}},[t(n["a"],[e._v(" mdi-arrow-left ")]),e._v(" 返回 ")],1)],1)],1),t(c["a"],{attrs:{justify:"center"}},[t("img",{attrs:{src:this.$store.state.webInfo.logoUrl,height:"36px"}})]),t(c["a"],{attrs:{justify:"center"}},[t("h1",[e._v(e._s(this.$store.state.webInfo.name)+"     "+e._s(e.type))])]),t(c["a"],{staticStyle:{height:"48px"}}),t("LoginFrom",{directives:[{name:"show",rawName:"v-show",value:e.showLogin,expression:"showLogin"}],on:{login:e.userLogin}}),t("RegisterFrom",{directives:[{name:"show",rawName:"v-show",value:0==e.showLogin,expression:"showLogin == false"}],on:{register:e.register}}),t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"5"}},[t(i["a"],{attrs:{text:"",color:"primary"}},[e._v("忘记密码")])],1),t(r["a"],{staticStyle:{"text-align":"right"},attrs:{cols:"5"}},[t(i["a"],{attrs:{text:""},on:{click:e.moveRegister}},[e._v(e._s(e.moveMessage))])],1)],1)],1)],1)],1),t(h["a"],{attrs:{top:!0,timeout:3e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(i["a"],e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.showMessage=!1}}},"v-btn",s,!1),[e._v(" 关闭 ")])]}}]),model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[e._v(" "+e._s(e.message)+" ")])],1)],1)},d=[],p=(s("14d9"),s("b73d")),g=s("8654"),m=function(){var e=this,t=e._self._c;return t("div",[t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"10"}},[t(g["a"],{attrs:{placeholder:"请输入你的邮箱或手机号",label:"邮箱或手机号",rules:[()=>null!=e.username||"请输入邮箱或手机号"],clearable:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)],1),t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"10"}},[t(g["a"],{attrs:{placeholder:"密码",label:"密码",clearable:"",rules:[()=>null!=e.password||"密码不能为空"],type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"5"}},[t("img",{staticStyle:{cursor:"pointer"},attrs:{src:e.verifyImageUrl,alt:"验证码",title:"点击刷新"},on:{click:e.getVerifyImage}})]),t(r["a"],{attrs:{cols:"5"}},[t(g["a"],{attrs:{placeholder:"验证码",label:"验证码",rules:[()=>null!=e.verifyCode||"验证码不能为空"],clearable:""},model:{value:e.verifyCode,callback:function(t){e.verifyCode=t},expression:"verifyCode"}})],1)],1),t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"3"}},[t(p["a"],{attrs:{label:"记住我"},model:{value:e.rememberMe,callback:function(t){e.rememberMe=t},expression:"rememberMe"}})],1),t(r["a"],{attrs:{cols:"7"}})],1),t(c["a"],{attrs:{justify:"center"}},[t(i["a"],{attrs:{color:"primary"},on:{click:e.submitLog}},[e._v("登录")])],1)],1)},v=[],f={name:"LoginFrom",data(){return{verifyImageUrl:"/api/verifyImage",username:"",password:"",verifyCode:"",rememberMe:!1}},methods:{submitLog(){const e=this.username,t=this.password,s=this.verifyCode,i=this.rememberMe,a={username:e,password:t,verifyCode:s,rememberMe:i};""!==e&&""!==t&&""!==s&&this.$emit("login",a)},getVerifyImage(){this.verifyImageUrl="/api/verifyImage?t="+(new Date).getTime()}}},b=f,y=s("2877"),k=Object(y["a"])(b,m,v,!1,null,null,null),w=k.exports,C=function(){var e=this,t=e._self._c;return t("div",[t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"10"}},[t(g["a"],{attrs:{placeholder:"请输入你的邮箱",label:"邮箱",rules:[()=>null!=e.registerUser.mail||"邮箱不能为空"],type:"email",clearable:""},model:{value:e.registerUser.mail,callback:function(t){e.$set(e.registerUser,"mail",t)},expression:"registerUser.mail"}})],1)],1),t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"10"}},[t(g["a"],{attrs:{placeholder:"请输入你的手机号（系统原因，此项选填）",label:"手机号",clearable:""},model:{value:e.registerUser.phone,callback:function(t){e.$set(e.registerUser,"phone",t)},expression:"registerUser.phone"}})],1)],1),t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"10"}},[t(g["a"],{attrs:{placeholder:"昵称",label:"昵称",rules:[()=>null!=e.registerUser.username||"昵称不能为空"],clearable:""},model:{value:e.registerUser.username,callback:function(t){e.$set(e.registerUser,"username",t)},expression:"registerUser.username"}})],1)],1),t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"10"}},[t(g["a"],{attrs:{placeholder:"密码",label:"密码",rules:[()=>null!=e.registerUser.password||"密码不能为空"],clearable:"",type:"password"},model:{value:e.registerUser.password,callback:function(t){e.$set(e.registerUser,"password",t)},expression:"registerUser.password"}})],1)],1),1==this.$store.state.webInfo.openInvitationRegister?t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"10"}},[t(g["a"],{attrs:{placeholder:"邀请码",label:"邀请码",clearable:"",rules:[()=>null!=e.registerUser.invitationCode||"邀请码不能为空"]},model:{value:e.registerUser.invitationCode,callback:function(t){e.$set(e.registerUser,"invitationCode",t)},expression:"registerUser.invitationCode"}})],1)],1):e._e(),t(c["a"],{attrs:{justify:"center"}},[t(r["a"],{attrs:{cols:"5"}},[t("img",{staticStyle:{cursor:"pointer"},attrs:{src:e.verifyImageUrl,alt:"验证码",title:"点击刷新"},on:{click:e.getVerifyImage}})]),t(r["a"],{attrs:{cols:"5"}},[t(g["a"],{attrs:{placeholder:"验证码",label:"验证码",rules:[()=>null!=e.registerUser.verifyCode||"验证码不能为空"],clearable:""},model:{value:e.registerUser.verifyCode,callback:function(t){e.$set(e.registerUser,"verifyCode",t)},expression:"registerUser.verifyCode"}})],1)],1),t(c["a"],{attrs:{justify:"center"}},[t(i["a"],{attrs:{color:"primary"},on:{click:e.submitRegister}},[e._v("注册")])],1),t(h["a"],{attrs:{color:e.color,timeout:3e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")])],1)},U=[],_={name:"Register",data(){return{verifyImageUrl:"/api/verifyImage",registerUser:{mail:"",phone:"",password:"",invitationCode:"",verifyCode:"",username:""},snackbar:!1,color:"success",message:"分享成功"}},methods:{submitRegister(){var e=/^(([^()[\]\\.,;:\s@\"]+(\.[^()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!e.test(this.registerUser.mail))return this.message="邮箱格式错误",this.color="error",void(this.snackbar=!0);if(""===this.registerUser.password||this.registerUser.password.length<6||""===this.registerUser.verifyCode||""===this.registerUser.username)return this.message="密码不能为空且不能小于6个字符",this.color="error",void(this.snackbar=!0);if(1===this.$store.state.webInfo.openInvitationRegister&&""===this.registerUser.invitationCode&&"admin"!==this.registerUser.username)return this.message="邀请码不能为空",this.color="error",void(this.snackbar=!0);if(""!==this.registerUser.phone){var t=/^[1][3,4,5,7,8][0-9]{9}$/;if(!t.test(this.registerUser.phone))return this.message="手机号码格式错误",this.color="error",void(this.snackbar=!0)}this.$emit("register",this.registerUser)},getVerifyImage(){this.verifyImageUrl="/api/verifyImage?t="+(new Date).getTime()}}},x=_,$=Object(y["a"])(x,C,U,!1,null,null,null),S=$.exports,j={name:"Login",components:{LoginFrom:w,RegisterFrom:S},data(){return{verifyImageUrl:"/api/verifyImage",user:{},type:"登录",moveMessage:"没有账号，创建账号",showLogin:!0,message:"",showMessage:!1}},created(){},methods:{userLogin(e){fetch("/api/login",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include",body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{if(200===e.status){const t=e.data;this.$store.commit("setUserInfo",t),this.$router.push("/")}else this.message=e.message,this.showMessage=!0}).catch(e=>null)},register(e){fetch("/api/register",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include",body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{200===e.status?(this.message="注册成功，即将为你跳转到登录页面！",this.showMessage=!0,this.moveRegister()):(this.message=e.message,this.showMessage=!0)}).catch(e=>null)},moveRegister(){"登录"===this.type?this.type="注册":this.type="登录","没有账号，创建账号"===this.moveMessage?this.moveMessage="已有账号，我要登录":this.moveMessage="没有账号，创建账号",this.showLogin=!this.showLogin},backHome(){this.$router.push("/")}}},T=j,I=Object(y["a"])(T,u,d,!1,null,null,null);t["default"]=I.exports},ec29:function(e,t,s){}}]);