import{V as w}from"./VideoCard-CzXdTGKP.js";import{_ as b,c,w as e,r as n,o as a,a as t,b as _,F as g,d as v,m as q,e as m,t as B}from"./index-TiTfTDly.js";import"./time-util-nx3sX2E9.js";import"./string-utils-8vaaKgF8.js";const I={components:{VideoCared:w},data(){return{videoList:[],page:1,size:24,length:0,categoryList:[]}},created(){this.$route.query.page===void 0?this.page=1:this.page=this.$route.query.page,this.getCategory(),this.getVideoList()},methods:{getCategory(){this.httpGet("/category/tree",o=>{this.categoryList=o.data})},setCategory(o){this.$router.push(`/v/${o.id}`)},getVideoList(){this.httpGet(`/article/home/list?page=${this.page}&limit=${this.size}`,o=>{this.videoList=o.data.list,this.page=o.data.currPage,this.length=o.data.totalPage})},pageChange(o){this.page=o,this.$router.push({query:{page:this.page}}),this.getVideoList(),this.$vuetify.goTo(0)}}};function P(o,l,z,F,r,p){const f=n("v-btn"),y=n("v-list-item"),C=n("v-list"),V=n("v-menu"),u=n("v-col"),d=n("v-row"),k=n("v-divider"),L=n("VideoCared"),x=n("v-pagination"),h=n("v-container");return a(),c(h,{fluid:""},{default:e(()=>[t(d,null,{default:e(()=>[t(u,null,{default:e(()=>[(a(!0),_(g,null,v(r.categoryList,i=>(a(),c(V,{key:i.id,"open-on-hover":"","offset-y":""},{activator:e(({props:s})=>[t(f,q({variant:"text",color:"primary",ref_for:!0},s,{onClick:$=>p.setCategory(i)}),{default:e(()=>[m(B(i.name),1)]),_:2},1040,["onClick"])]),default:e(()=>[t(C,null,{default:e(()=>[(a(!0),_(g,null,v(i.children,s=>(a(),c(y,{key:s.id,title:s.name,onClick:$=>p.setCategory(s)},null,8,["title","onClick"]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(k)]),_:1}),t(u),t(d,{"no-gutters":""},{default:e(()=>[(a(!0),_(g,null,v(r.videoList,i=>(a(),c(u,{key:i.id},{default:e(()=>[t(L,{video:i},null,8,["video"])]),_:2},1024))),128))]),_:1}),t(h,null,{default:e(()=>[t(d,{justify:"center"},{default:e(()=>[t(x,{rounded:"circle","total-visible":7,modelValue:r.page,"onUpdate:modelValue":l[0]||(l[0]=i=>r.page=i),length:r.length,onInput:p.pageChange},null,8,["modelValue","length","onInput"])]),_:1})]),_:1}),t(u,null,{default:e(()=>l[1]||(l[1]=[m(" Â  ")])),_:1})]),_:1})}const E=b(I,[["render",P]]);export{E as default};
